"use strict";(self.webpackChunkSPA=self.webpackChunkSPA||[]).push([[179],{532:()=>{function Ve(n){return"function"==typeof n}function oa(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Xl=oa(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ho(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class nn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Ve(r))try{r()}catch(o){t=o instanceof Xl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{a_(o)}catch(s){t=t??[],s instanceof Xl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Xl(t)}}add(t){var e;if(t&&t!==this)if(this.closed)a_(t);else{if(t instanceof nn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ho(e,t)}remove(t){const{_finalizers:e}=this;e&&Ho(e,t),t instanceof nn&&t._removeParent(this)}}nn.EMPTY=(()=>{const n=new nn;return n.closed=!0,n})();const o_=nn.EMPTY;function s_(n){return n instanceof nn||n&&"closed"in n&&Ve(n.remove)&&Ve(n.add)&&Ve(n.unsubscribe)}function a_(n){Ve(n)?n():n.unsubscribe()}const eo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ec={setTimeout(n,t,...e){const{delegate:r}=ec;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ec;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function l_(n){ec.setTimeout(()=>{const{onUnhandledError:t}=eo;if(!t)throw n;t(n)})}function yh(){}const sA=bh("C",void 0,void 0);function bh(n,t,e){return{kind:n,value:t,error:e}}let to=null;function tc(n){if(eo.useDeprecatedSynchronousErrorHandling){const t=!to;if(t&&(to={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=to;if(to=null,e)throw r}}else n()}class Ch extends nn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,s_(t)&&t.add(this)):this.destination=fA}static create(t,e,r){return new sa(t,e,r)}next(t){this.isStopped?Eh(function lA(n){return bh("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Eh(function aA(n){return bh("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Eh(sA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const uA=Function.prototype.bind;function wh(n,t){return uA.call(n,t)}class dA{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){nc(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){nc(r)}else nc(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){nc(e)}}}class sa extends Ch{constructor(t,e,r){let i;if(super(),Ve(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&eo.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&wh(t.next,o),error:t.error&&wh(t.error,o),complete:t.complete&&wh(t.complete,o)}):i=t}this.destination=new dA(i)}}function nc(n){eo.useDeprecatedSynchronousErrorHandling?function cA(n){eo.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=n)}(n):l_(n)}function Eh(n,t){const{onStoppedNotification:e}=eo;e&&ec.setTimeout(()=>e(n,t))}const fA={closed:!0,next:yh,error:function hA(n){throw n},complete:yh},Sh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ci(n){return n}function c_(n){return 0===n.length?Ci:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let Ze=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function gA(n){return n&&n instanceof Ch||function mA(n){return n&&Ve(n.next)&&Ve(n.error)&&Ve(n.complete)}(n)&&s_(n)}(e)?e:new sa(e,r,i);return tc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=u_(r))((i,o)=>{const s=new sa({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Sh](){return this}pipe(...e){return c_(e)(this)}toPromise(e){return new(e=u_(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function u_(n){var t;return null!==(t=n??eo.Promise)&&void 0!==t?t:Promise}const vA=oa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Je=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new d_(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new vA}next(e){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){tc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?o_:(this.currentObservers=null,o.push(e),new nn(()=>{this.currentObservers=null,Ho(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Ze;return e.source=this,e}}return n.create=(t,e)=>new d_(t,e),n})();class d_ extends Je{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:o_}}function h_(n){return Ve(n?.lift)}function lt(n){return t=>{if(h_(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(n,t,e,r,i){return new _A(n,t,e,r,i)}class _A extends Ch{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Z(n,t){return lt((e,r)=>{let i=0;e.subscribe(nt(r,o=>{r.next(n.call(t,o,i++))}))})}function no(n){return this instanceof no?(this.v=n,this):new no(n)}function CA(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof no?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function wA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function m_(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const g_=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function v_(n){return Ve(n?.then)}function __(n){return Ve(n[Sh])}function y_(n){return Symbol.asyncIterator&&Ve(n?.[Symbol.asyncIterator])}function b_(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const C_=function SA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function w_(n){return Ve(n?.[C_])}function E_(n){return CA(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield no(e.read());if(i)return yield no(void 0);yield yield no(r)}}finally{e.releaseLock()}})}function S_(n){return Ve(n?.getReader)}function Rn(n){if(n instanceof Ze)return n;if(null!=n){if(__(n))return function TA(n){return new Ze(t=>{const e=n[Sh]();if(Ve(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(g_(n))return function DA(n){return new Ze(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(v_(n))return function IA(n){return new Ze(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,l_)})}(n);if(y_(n))return T_(n);if(w_(n))return function MA(n){return new Ze(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(S_(n))return function AA(n){return T_(E_(n))}(n)}throw b_(n)}function T_(n){return new Ze(t=>{(function RA(n,t){var e,r,i,o;return function yA(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=wA(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Kr(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pt(n,t,e=1/0){return Ve(t)?Pt((r,i)=>Z((o,s)=>t(r,o,i,s))(Rn(n(r,i))),e):("number"==typeof t&&(e=t),lt((r,i)=>function kA(n,t,e,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let g=!1;Rn(e(m,u++)).subscribe(nt(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const _=l.shift();s?Kr(t,s,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return n.subscribe(nt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,e)))}function Bo(n=1/0){return Pt(Ci,n)}const Sr=new Ze(n=>n.complete());function D_(n){return n&&Ve(n.schedule)}function Dh(n){return n[n.length-1]}function aa(n){return D_(Dh(n))?n.pop():void 0}function M_(n,t=0){return lt((e,r)=>{e.subscribe(nt(r,i=>Kr(r,n,()=>r.next(i),t),()=>Kr(r,n,()=>r.complete(),t),i=>Kr(r,n,()=>r.error(i),t)))})}function A_(n,t=0){return lt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function R_(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ze(e=>{Kr(e,t,()=>{const r=n[Symbol.asyncIterator]();Kr(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Se(n,t){return t?function VA(n,t){if(null!=n){if(__(n))return function OA(n,t){return Rn(n).pipe(A_(t),M_(t))}(n,t);if(g_(n))return function FA(n,t){return new Ze(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(v_(n))return function PA(n,t){return Rn(n).pipe(A_(t),M_(t))}(n,t);if(y_(n))return R_(n,t);if(w_(n))return function LA(n,t){return new Ze(e=>{let r;return Kr(e,t,()=>{r=n[C_](),Kr(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>Ve(r?.return)&&r.return()})}(n,t);if(S_(n))return function UA(n,t){return R_(E_(n),t)}(n,t)}throw b_(n)}(n,t):Rn(n)}function Ih(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new sa({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function je(n){for(let t in n)if(n[t]===je)return t;throw Error("Could not find renamed property on target object.")}function Mh(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ah(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const BA=je({__forward_ref__:je});function xe(n){return n.__forward_ref__=xe,n.toString=function(){return ze(this())},n}function J(n){return Rh(n)?n():n}function Rh(n){return"function"==typeof n&&n.hasOwnProperty(BA)&&n.__forward_ref__===xe}class E extends Error{constructor(t,e){super(function rc(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function ic(n,t){throw new E(-201,!1)}function xn(n,t){null==n&&function Ne(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function oc(n){return x_(n,sc)||x_(n,O_)}function x_(n,t){return n.hasOwnProperty(t)?n[t]:null}function N_(n){return n&&(n.hasOwnProperty(kh)||n.hasOwnProperty(QA))?n[kh]:null}const sc=je({\u0275prov:je}),kh=je({\u0275inj:je}),O_=je({ngInjectableDef:je}),QA=je({ngInjectorDef:je});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let xh;function Kn(n){const t=xh;return xh=n,t}function P_(n,t,e){const r=oc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&W.Optional?null:void 0!==t?t:void ic(ze(n))}function wi(n){return{toString:n}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),ar=(()=>{return(n=ar||(ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ar;var n})();const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jo={},Me=[],ac=je({\u0275cmp:je}),Nh=je({\u0275dir:je}),Oh=je({\u0275pipe:je}),F_=je({\u0275mod:je}),Yr=je({\u0275fac:je}),la=je({__NG_ELEMENT_ID__:je});let JA=0;function Ge(n){return wi(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Me,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,id:"c"+JA++,styles:n.styles||Me,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=V_(n.inputs,r),i.outputs=V_(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(L_).filter(U_):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(on).filter(U_):null,i})}function L_(n){return Fe(n)||rn(n)}function U_(n){return null!==n}function ve(n){return wi(()=>({type:n.type,bootstrap:n.bootstrap||Me,declarations:n.declarations||Me,imports:n.imports||Me,exports:n.exports||Me,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function V_(n,t){if(null==n)return jo;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const M=Ge;function Fe(n){return n[ac]||null}function rn(n){return n[Nh]||null}function on(n){return n[Oh]||null}function Nn(n,t){const e=n[F_]||null;if(!e&&!0===t)throw new Error(`Type ${ze(n)} does not have '\u0275mod' property.`);return e}function yn(n){return Array.isArray(n)&&"object"==typeof n[1]}function cr(n){return Array.isArray(n)&&!0===n[1]}function Lh(n){return 0!=(8&n.flags)}function dc(n){return 2==(2&n.flags)}function hc(n){return 1==(1&n.flags)}function ur(n){return null!==n.template}function iR(n){return 0!=(256&n[2])}function ao(n,t){return n.hasOwnProperty(Yr)?n[Yr]:null}class aR{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kt(){return j_}function j_(n){return n.type.prototype.ngOnChanges&&(n.setInput=cR),lR}function lR(){const n=G_(this),t=n?.current;if(t){const e=n.previous;if(e===jo)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function cR(n,t,e,r){const i=G_(n)||function uR(n,t){return n[z_]=t}(n,{previous:jo,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],l=s[a];o[a]=new aR(l&&l.currentValue,t,s===jo),n[r]=t}Kt.ngInherit=!0;const z_="__ngSimpleChanges__";function G_(n){return n[z_]||null}function pt(n){for(;Array.isArray(n);)n=n[0];return n}function fc(n,t){return pt(t[n])}function Pn(n,t){return pt(t[n.index])}function jh(n,t){return n.data[t]}function Fn(n,t){const e=t[n];return yn(e)?e:e[0]}function pc(n){return 64==(64&n[2])}function Ei(n,t){return null==t?null:n[t]}function $_(n){n[18]=0}function zh(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const ne={lFrame:ty(null),bindingsEnabled:!0};function K_(){return ne.bindingsEnabled}function S(){return ne.lFrame.lView}function be(){return ne.lFrame.tView}function mc(n){return ne.lFrame.contextLView=n,n[8]}function gc(n){return ne.lFrame.contextLView=null,n}function St(){let n=W_();for(;null!==n&&64===n.type;)n=n.parent;return n}function W_(){return ne.lFrame.currentTNode}function Tr(n,t){const e=ne.lFrame;e.currentTNode=n,e.isParent=t}function Gh(){return ne.lFrame.isParent}function $h(){ne.lFrame.isParent=!1}function Wo(){return ne.lFrame.bindingIndex++}function TR(n,t){const e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=n,qh(t)}function qh(n){ne.lFrame.currentDirectiveIndex=n}function J_(){return ne.lFrame.currentQueryIndex}function Wh(n){ne.lFrame.currentQueryIndex=n}function IR(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function X_(n,t,e){if(e&W.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&W.Host||(i=IR(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=ne.lFrame=ey();return r.currentTNode=t,r.lView=n,!0}function Yh(n){const t=ey(),e=n[1];ne.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ey(){const n=ne.lFrame,t=null===n?null:n.child;return null===t?ty(n):t}function ty(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function ny(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ry=ny;function Qh(){const n=ny();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function an(){return ne.lFrame.selectedIndex}function Si(n){ne.lFrame.selectedIndex=n}function ot(){const n=ne.lFrame;return jh(n.tView,n.selectedIndex)}function vc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function _c(n,t,e){sy(n,t,3,e)}function yc(n,t,e,r){(3&n[2])===e&&sy(n,t,e,r)}function Zh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function sy(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(OR(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function OR(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class pa{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function bc(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];ly(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function ay(n){return 3===n||4===n||6===n}function ly(n){return 64===n.charCodeAt(0)}function Cc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||cy(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function cy(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function uy(n){return-1!==n}function Yo(n){return 32767&n}function Qo(n,t){let e=function VR(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Xh=!0;function wc(n){const t=Xh;return Xh=n,t}let HR=0;const Dr={};function ga(n,t){const e=tf(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,ef(r.data,n),ef(t,null),ef(r.blueprint,null));const i=Ec(n,t),o=n.injectorIndex;if(uy(i)){const s=Yo(i),a=Qo(i,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function ef(n,t){n.push(0,0,0,0,0,0,0,0,t)}function tf(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ec(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=yy(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Sc(n,t,e){!function BR(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(la)&&(r=e[la]),null==r&&(r=e[la]=HR++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function fy(n,t,e){if(e&W.Optional||void 0!==n)return n;ic()}function py(n,t,e,r){if(e&W.Optional&&void 0===r&&(r=null),0==(e&(W.Self|W.Host))){const i=n[9],o=Kn(void 0);try{return i?i.get(t,r,e&W.Optional):P_(t,r,e&W.Optional)}finally{Kn(o)}}return fy(r,0,e)}function my(n,t,e,r=W.Default,i){if(null!==n){if(1024&t[2]){const s=function qR(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=gy(o,s,e,r|W.Self,Dr);if(a!==Dr)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(e,Dr,r);if(u!==Dr)return u}l=yy(s),s=s[15]}o=l}return i}(n,t,e,r,Dr);if(s!==Dr)return s}const o=gy(n,t,e,r,Dr);if(o!==Dr)return o}return py(t,e,r,i)}function gy(n,t,e,r,i){const o=function GR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(la)?n[la]:void 0;return"number"==typeof t?t>=0?255&t:$R:t}(e);if("function"==typeof o){if(!X_(t,n,r))return r&W.Host?fy(i,0,r):py(t,e,r,i);try{const s=o(r);if(null!=s||r&W.Optional)return s;ic()}finally{ry()}}else if("number"==typeof o){let s=null,a=tf(n,t),l=-1,c=r&W.Host?t[16][6]:null;for((-1===a||r&W.SkipSelf)&&(l=-1===a?Ec(n,t):t[a+8],-1!==l&&_y(r,!1)?(s=t[1],a=Yo(l),t=Qo(l,t)):a=-1);-1!==a;){const u=t[1];if(vy(o,a,u.data)){const d=zR(a,t,e,s,r,c);if(d!==Dr)return d}l=t[a+8],-1!==l&&_y(r,t[1].data[a+8]===c)&&vy(o,a,t)?(s=u,a=Yo(l),t=Qo(l,t)):a=-1}}return i}function zR(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],u=Tc(a,s,e,null==r?dc(a)&&Xh:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==u?va(t,s,u,a):Dr}function Tc(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(i){const f=s[l];if(f&&ur(f)&&f.type===e)return l}return null}function va(n,t,e,r){let i=n[e];const o=t.data;if(function PR(n){return n instanceof pa}(i)){const s=i;s.resolving&&function jA(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Ie(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(o[e]));const a=wc(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Kn(s.injectImpl):null;X_(n,r,W.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function NR(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=j_(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Kn(l),wc(a),s.resolving=!1,ry()}}return i}function vy(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function _y(n,t){return!(n&W.Self||n&W.Host&&t)}class Zo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return my(this._tNode,this._lView,t,r,e)}}function $R(){return new Zo(St(),S())}function we(n){return wi(()=>{const t=n.prototype.constructor,e=t[Yr]||nf(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Yr]||nf(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function nf(n){return Rh(n)?()=>{const t=nf(J(n));return t&&t()}:ao(n)}function yy(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function lo(n){return function jR(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(ay(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(St(),n)}const Xo="__parameters__";function ts(n,t,e){return wi(()=>{const r=function rf(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Xo)?l[Xo]:Object.defineProperty(l,Xo,{value:[]})[Xo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class R{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=P({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ln(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Ln(r,t)):t!==n&&t.push(r)}return t}function Jr(n,t){n.forEach(e=>Array.isArray(e)?Jr(e,t):t(e))}function Cy(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Dc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ba(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Un(n,t,e){let r=ns(n,t);return r>=0?n[1|r]=e:(r=~r,function QR(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function af(n,t){const e=ns(n,t);if(e>=0)return n[1|e]}function ns(n,t){return function Sy(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Ca={},cf="__NG_DI_FLAG__",Mc="ngTempTokenPath",ik=/\n/gm,Ty="__source";let wa;function rs(n){const t=wa;return wa=n,t}function sk(n,t=W.Default){if(void 0===wa)throw new E(-203,!1);return null===wa?P_(n,void 0,t):wa.get(n,t&W.Optional?null:void 0,t)}function w(n,t=W.Default){return(function ZA(){return xh}()||sk)(J(n),t)}function Xe(n,t=W.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),w(n,t)}function uf(n){const t=[];for(let e=0;e<n.length;e++){const r=J(n[e]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],l=ak(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(w(i,o))}else t.push(w(r))}return t}function Ea(n,t){return n[cf]=t,n.prototype[cf]=t,n}function ak(n){return n[cf]}const Di=Ea(ts("Optional"),8),is=Ea(ts("SkipSelf"),4);var bn=(()=>((bn=bn||{})[bn.Important=1]="Important",bn[bn.DashCase=2]="DashCase",bn))();const mf=new Map;let Tk=0;const vf="__ngContext__";function Wt(n,t){yn(t)?(n[vf]=t[20],function Ik(n){mf.set(n[20],n)}(t)):n[vf]=t}function yf(n,t){return undefined(n,t)}function Ia(n){const t=n[3];return cr(t)?t[3]:t}function bf(n){return qy(n[13])}function Cf(n){return qy(n[4])}function qy(n){for(;null!==n&&!cr(n);)n=n[4];return n}function ss(n,t,e,r,i){if(null!=r){let o,s=!1;cr(r)?o=r:yn(r)&&(s=!0,r=r[0]);const a=pt(r);0===n&&null!==e?null==i?Jy(t,e,a):co(t,e,a,i||null,!0):1===n&&null!==e?co(t,e,a,i||null,!0):2===n?function Mf(n,t,e){const r=kc(n,t);r&&function Yk(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function Jk(n,t,e,r,i){const o=e[7];o!==pt(e)&&ss(t,n,r,o,i);for(let a=10;a<e.length;a++){const l=e[a];Ma(l[1],l,n,t,r,o)}}(t,n,o,e,i)}}function Ef(n,t,e){return n.createElement(t,e)}function Wy(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,zh(i,-1)),e.splice(r,1)}function Sf(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&Wy(i,r),t>0&&(n[e-1][4]=r[4]);const o=Dc(n,10+t);!function Bk(n,t){Ma(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Yy(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Ma(n,t,e,3,null,null),function Gk(n){let t=n[13];if(!t)return Tf(n[1],n);for(;t;){let e=null;if(yn(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)yn(t)&&Tf(t[1],t),t=t[3];null===t&&(t=n),yn(t)&&Tf(t[1],t),e=t&&t[4]}t=e}}(t)}}function Tf(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Wk(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof pa)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function Kk(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):pt(t[s]),l=r[i=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&cr(t[3])){e!==t[3]&&Wy(e,t);const r=t[19];null!==r&&r.detachView(n)}!function Mk(n){mf.delete(n[20])}(t)}}function Qy(n,t,e){return function Zy(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ar.None||i===ar.Emulated)return null}return Pn(r,e)}(n,t.parent,e)}function co(n,t,e,r,i){n.insertBefore(t,e,r,i)}function Jy(n,t,e){n.appendChild(t,e)}function Xy(n,t,e,r,i){null!==r?co(n,t,e,r,i):Jy(n,t,e)}function kc(n,t){return n.parentNode(t)}function eb(n,t,e){return nb(n,t,e)}let xf,nb=function tb(n,t,e){return 40&n.type?Pn(n,e):null};function xc(n,t,e,r){const i=Qy(n,r,t),o=t[11],a=eb(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Xy(o,i,e[l],a,!1);else Xy(o,i,e,a,!1)}function Nc(n,t){if(null!==t){const e=t.type;if(3&e)return Pn(t,n);if(4&e)return If(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Nc(n,r);{const i=n[t.index];return cr(i)?If(-1,i):pt(i)}}if(32&e)return yf(t,n)()||pt(n[t.index]);{const r=ib(n,t);return null!==r?Array.isArray(r)?r[0]:Nc(Ia(n[16]),r):Nc(n,t.next)}}return null}function ib(n,t){return null!==t?n[16][6].projection[t.projection]:null}function If(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Nc(r,i)}return t[7]}function Af(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===t&&(a&&Wt(pt(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)Af(n,t,e.child,r,i,o,!1),ss(t,n,i,a,o);else if(32&l){const c=yf(e,r);let u;for(;u=c();)ss(t,n,i,u,o);ss(t,n,i,a,o)}else 16&l?ob(n,t,r,e,i,o):ss(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Ma(n,t,e,r,i,o){Af(e,r,n.firstChild,t,i,o,!1)}function ob(n,t,e,r,i,o){const s=e[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ss(t,n,i,l[c],o);else Af(n,t,l,s[3],i,o,!0)}function sb(n,t,e){n.setAttribute(t,"style",e)}function Rf(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}class ho{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Vn(n){return n instanceof ho?n.changingThisBreaksApplicationSecurity:n}const _x=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ae=(()=>((Ae=Ae||{})[Ae.NONE=0]="NONE",Ae[Ae.HTML=1]="HTML",Ae[Ae.STYLE=2]="STYLE",Ae[Ae.SCRIPT=3]="SCRIPT",Ae[Ae.URL=4]="URL",Ae[Ae.RESOURCE_URL=5]="RESOURCE_URL",Ae))();function Lf(n){const t=function Ra(){const n=S();return n&&n[12]}();return t?t.sanitize(Ae.URL,n)||"":function Ir(n,t){const e=function cx(n){return n instanceof ho&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"URL")?Vn(n):function Fc(n){return(n=String(n)).match(_x)?n:"unsafe:"+n}(ie(n))}const Uf=new R("ENVIRONMENT_INITIALIZER"),yb=new R("INJECTOR",-1),bb=new R("INJECTOR_DEF_TYPES");class Cb{get(t,e=Ca){if(e===Ca){const r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return e}}function kx(...n){return{\u0275providers:wb(0,n)}}function wb(n,...t){const e=[],r=new Set;let i;return Jr(t,o=>{const s=o;Vf(s,e,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Eb(i,e),e}function Eb(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Jr(i,o=>{t.push(o)})}}function Vf(n,t,e,r){if(!(n=J(n)))return!1;let i=null,o=N_(n);const s=!o&&Fe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=N_(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Vf(c,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Jr(o.imports,u=>{Vf(u,t,e,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Eb(c,t)}if(!a){const c=ao(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:Me},{provide:bb,useValue:i,multi:!0},{provide:Uf,useValue:()=>w(i),multi:!0})}const l=o.providers;null==l||a||Jr(l,u=>{t.push(u)})}}return i!==n&&void 0!==n.providers}const xx=je({provide:String,useValue:je});function Hf(n){return null!==n&&"object"==typeof n&&xx in n}function fo(n){return"function"==typeof n}const Bf=new R("Set Injector scope."),Uc={},Ox={};let jf;function Vc(){return void 0===jf&&(jf=new Cb),jf}class Ii{}class Db extends Ii{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gf(t,s=>this.processProvider(s)),this.records.set(yb,as(void 0,this)),i.has("environment")&&this.records.set(Ii,as(void 0,this));const o=this.records.get(Bf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bb.multi,Me,W.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=rs(this),r=Kn(void 0);try{return t()}finally{rs(e),Kn(r)}}get(t,e=Ca,r=W.Default){this.assertNotDestroyed();const i=rs(this),o=Kn(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Vx(n){return"function"==typeof n||"object"==typeof n&&n instanceof R}(t)&&oc(t);a=l&&this.injectableDefInScope(l)?as(zf(t),Uc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&W.Self?Vc():this.parent).get(t,e=r&W.Optional&&e===Ca?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Mc]=s[Mc]||[]).unshift(ze(t)),i)throw s;return function lk(n,t,e,r){const i=n[Mc];throw t[Ty]&&i.unshift(t[Ty]),n.message=function ck(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ze(t);if(Array.isArray(t))i=t.map(ze).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(ik,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Mc]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Kn(o),rs(i)}}resolveInjectorInitializers(){const t=rs(this),e=Kn(void 0);try{const r=this.get(Uf.multi,Me,W.Self);for(const i of r)i()}finally{rs(t),Kn(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let e=fo(t=J(t))?t:J(t&&t.provide);const r=function Fx(n){return Hf(n)?as(void 0,n.useValue):as(Ib(n),Uc)}(t);if(fo(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=as(void 0,Uc,!0),i.factory=()=>uf(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Uc&&(e.value=Ox,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Ux(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=J(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function zf(n){const t=oc(n),e=null!==t?t.factory:ao(n);if(null!==e)return e;if(n instanceof R)throw new E(204,!1);if(n instanceof Function)return function Px(n){const t=n.length;if(t>0)throw ba(t,"?"),new E(204,!1);const e=function WA(n){const t=n&&(n[sc]||n[O_]);if(t){const e=function YA(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new E(204,!1)}function Ib(n,t,e){let r;if(fo(n)){const i=J(n);return ao(i)||zf(i)}if(Hf(n))r=()=>J(n.useValue);else if(function Tb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...uf(n.deps||[]));else if(function Sb(n){return!(!n||!n.useExisting)}(n))r=()=>w(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function Lx(n){return!!n.deps}(n))return ao(i)||zf(i);r=()=>new i(...uf(n.deps))}return r}function as(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Hx(n){return!!n.\u0275providers}function Gf(n,t){for(const e of n)Array.isArray(e)?Gf(e,t):Hx(e)?Gf(e.\u0275providers,t):t(e)}class Mb{}class zx{resolveComponentFactory(t){throw function jx(n){const t=Error(`No component factory found for ${ze(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let ka=(()=>{class n{}return n.NULL=new zx,n})();function Gx(){return ls(St(),S())}function ls(n,t){return new Oe(Pn(n,t))}let Oe=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Gx,n})();function $x(n){return n instanceof Oe?n.nativeElement:n}class xa{}let Kx=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class po{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rb=new po("14.2.12"),$f={};function Kf(n){return n.ngOriginalError}class Mi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Kf(t);for(;e&&Kf(e);)e=Kf(e);return e||null}}function ti(n){return n instanceof Function?n():n}function xb(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const Nb="ng-template";function iN(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==xb(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ob(n){return 4===n.type&&n.value!==Nb}function oN(n,t,e){return t===(4!==n.type||e?n.value:Nb)}function sN(n,t,e){let r=4;const i=n.attrs||[],o=function cN(n){for(let t=0;t<n.length;t++)if(ay(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!oN(n,l,e)||""===l&&1===t.length){if(dr(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!iN(n.attrs,c,e)){if(dr(r))return!1;s=!0}continue}const d=aN(8&r?"class":l,i,Ob(n),e);if(-1===d){if(dr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xb(f,c,0)||2&r&&c!==h){if(dr(r))return!1;s=!0}}}}else{if(!s&&!dr(r)&&!dr(l))return!1;if(s&&dr(l))continue;s=!1,r=l|1&r}}return dr(r)||s}function dr(n){return 0==(1&n)}function aN(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function uN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Pb(n,t,e=!1){for(let r=0;r<t.length;r++)if(sN(n,t[r],e))return!0;return!1}function dN(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Fb(n,t){return n?":not("+t.trim()+")":t}function hN(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!dr(s)&&(t+=Fb(o,i),i=""),r=s,o=o||!dr(r);e++}return""!==i&&(t+=Fb(o,i)),t}const oe={};function $e(n){Lb(be(),S(),an()+n,!1)}function Lb(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&_c(t,o,e)}else{const o=n.preOrderHooks;null!==o&&yc(t,o,0,e)}Si(e)}function Bb(n,t=null,e=null,r){const i=jb(n,t,e,r);return i.resolveInjectorInitializers(),i}function jb(n,t=null,e=null,r,i=new Set){const o=[e||Me,kx(n)];return r=r||("object"==typeof n?void 0:ze(n)),new Db(o,t||Vc(),r||null,i)}let Cn=(()=>{class n{static create(e,r){if(Array.isArray(e))return Bb({name:""},r,e,"");{const i=e.name??"";return Bb({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ca,n.NULL=new Cb,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>w(yb)}),n.__NG_ELEMENT_ID__=-1,n})();function y(n,t=W.Default){const e=S();return null===e?w(n,t):my(St(),e,J(n),t)}function Bc(){throw new Error("invalid")}function jc(n,t){return n<<17|t<<2}function hr(n){return n>>17&32767}function Jf(n){return 2|n}function ni(n){return(131068&n)>>2}function Xf(n,t){return-131069&n|t<<2}function ep(n){return 1|n}function oC(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];Wh(i),s.contentQueries(2,t[o],o)}}}function $c(n,t,e,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),$_(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function Dk(){return Tk++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function ds(n,t,e,r,i){let o=n.data[t];if(null===o)o=function lp(n,t,e,r,i){const o=W_(),s=Gh(),l=n.data[t]=function WN(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function SR(){return ne.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function fa(){const n=ne.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Tr(o,!0),o}function hs(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function cp(n,t,e){Yh(t);try{const r=n.viewQuery;null!==r&&vp(1,r,e);const i=n.template;null!==i&&sC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&oC(n,t),n.staticViewQueries&&vp(2,n.viewQuery,e);const o=n.components;null!==o&&function $N(n,t){for(let e=0;e<t.length;e++)uO(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Qh()}}function qc(n,t,e,r){const i=t[2];if(128!=(128&i)){Yh(t);try{$_(t),function Q_(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&sC(n,t,e,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&_c(t,c,null)}else{const c=n.preOrderHooks;null!==c&&yc(t,c,0,null),Zh(t,0)}if(function lO(n){for(let t=bf(n);null!==t;t=Cf(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&zh(o,1),i[2]|=512}}}(t),function aO(n){for(let t=bf(n);null!==t;t=Cf(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];pc(r)&&qc(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&oC(n,t),s){const c=n.contentCheckHooks;null!==c&&_c(t,c)}else{const c=n.contentHooks;null!==c&&yc(t,c,1),Zh(t,1)}!function zN(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Si(~i);else{const o=i,s=e[++r],a=e[++r];TR(s,o),a(2,t[o])}}}finally{Si(-1)}}(n,t);const a=n.components;null!==a&&function GN(n,t){for(let e=0;e<t.length;e++)cO(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&vp(2,l,r),s){const c=n.viewCheckHooks;null!==c&&_c(t,c)}else{const c=n.viewHooks;null!==c&&yc(t,c,2),Zh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,zh(t[3],-1))}finally{Qh()}}}function sC(n,t,e,r,i){const o=an(),s=2&r;try{Si(-1),s&&t.length>22&&Lb(n,t,22,!1),e(r,i)}finally{Si(o)}}function aC(n,t,e){if(Lh(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function up(n,t,e){!K_()||(function XN(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ga(e,t),Wt(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=ur(l);c&&iO(t,e,l);const u=va(t,n,a,e);Wt(u,t),null!==s&&oO(0,a-i,u,l,0,s),c&&(Fn(e.index,t)[8]=u)}}(n,t,e,Pn(e,t)),128==(128&e.flags)&&function eO(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function DR(){return ne.lFrame.currentDirectiveIndex}();try{Si(o);for(let a=r;a<i;a++){const l=n.data[a],c=t[a];qh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pC(l,c)}}finally{Si(-1),qh(s)}}(n,t,e))}function dp(n,t,e=Pn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function lC(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=hp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function hp(n,t,e,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function qN(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:oe);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function cC(n,t,e,r){const i=yC(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&bC(n).push(r,i.length-1))}function uC(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function dC(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||Ob(t)?null:sO(d,o);s.push(h),a=uC(d,c,a),l=uC(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}function hC(n,t){const e=Fn(t,n);16&e[2]||(e[2]|=32)}function fp(n,t,e,r){let i=!1;if(K_()){const o=function tO(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Pb(e,s.selectors,!1)&&(i||(i=[]),Sc(ga(e,t),n,s.type),ur(s)?(mC(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,gC(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=hs(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=Cc(e.mergedAttrs,d.hostAttrs),vC(n,e,t,c,d),rO(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}dC(n,e)}s&&function nO(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new E(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=Cc(e.mergedAttrs,e.attrs),i}function fC(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function JN(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function pC(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function mC(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function rO(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;ur(t)&&(e[""]=n)}}function gC(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function vC(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=ao(i.type)),s=new pa(o,ur(i),y);n.blueprint[r]=s,e[r]=s,fC(n,t,0,r,hs(n,e,i.hostVars,oe),i)}function iO(n,t,e){const r=Pn(t,n),i=lC(e),o=n[10],s=Kc(n,$c(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=s}function Mr(n,t,e,r,i,o){const s=Pn(n,t);!function pp(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?ie(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[11],s,o,n.value,e,r,i)}function oO(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(e,d,c,u):e[u]=d}}}function sO(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function _C(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function cO(n,t){const e=Fn(t,n);if(pc(e)){const r=e[1];48&e[2]?qc(r,e,r.template,e[8]):e[5]>0&&mp(e)}}function mp(n){for(let r=bf(n);null!==r;r=Cf(r))for(let i=10;i<r.length;i++){const o=r[i];if(pc(o))if(512&o[2]){const s=o[1];qc(s,o,s.template,o[8])}else o[5]>0&&mp(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Fn(e[r],n);pc(i)&&i[5]>0&&mp(i)}}function uO(n,t){const e=Fn(t,n),r=e[1];(function dO(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),cp(r,e,e[8])}function Kc(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function gp(n){for(;n;){n[2]|=32;const t=Ia(n);if(iR(n)&&!t)return n;n=t}return null}function Wc(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{qc(n,t,n.template,e)}catch(s){throw r&&wC(t,s),s}finally{i.end&&i.end()}}function vp(n,t,e){Wh(0),t(n,e)}function yC(n){return n[7]||(n[7]=[])}function bC(n){return n.cleanup||(n.cleanup=[])}function wC(n,t){const e=n[9],r=e?e.get(Mi,null):null;r&&r.handleError(t)}function _p(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Yc(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Ah(i,a):2==o&&(r=Ah(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Qc(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(pt(o)),cr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Qc(l[1],l,c,r)}const s=e.type;if(8&s)Qc(n,t,e.child,r);else if(32&s){const a=yf(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=ib(t,e);if(Array.isArray(a))r.push(...a);else{const l=Ia(t[16]);Qc(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Na{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Qc(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Sf(t,r),Dc(e,r))}this._attachedToViewContainer=!1}Yy(this._lView[1],this._lView)}onDestroy(t){cC(this._lView[1],this._lView,null,t)}markForCheck(){gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zk(n,t){Ma(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t}}class hO extends Na{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Wc(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class yp extends ka{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Fe(t);return new Oa(e,this.ngModule)}}function EC(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class pO{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,$f,r);return i!==$f||e===$f?i:this.parentInjector.get(t,e,r)}}class Oa extends Mb{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function fN(n){return n.map(hN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return EC(this.componentDef.inputs)}get outputs(){return EC(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Ii?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new pO(t,o):t,a=s.get(xa,null);if(null===a)throw new E(407,!1);const l=s.get(Kx,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function KN(n,t,e){return n.selectRootElement(t,e===ar.ShadowDom)}(c,r,this.componentDef.encapsulation):Ef(c,u,function fO(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,f=hp(0,null,null,1,0,null,null,null,null,null),p=$c(null,f,null,h,null,null,a,c,l,s,null);let m,g;Yh(p);try{const _=function vO(n,t,e,r,i,o){const s=e[1];e[22]=n;const l=ds(s,22,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Yc(l,c,!0),null!==n&&(bc(i,n,c),null!==l.classes&&Rf(i,n,l.classes),null!==l.styles&&sb(i,n,l.styles)));const u=r.createRenderer(n,t),d=$c(e,lC(t),null,t.onPush?32:16,e[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(Sc(ga(l,e),s,t.type),mC(s,l),gC(l,e.length,1)),Kc(e,d),e[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)bc(c,d,["ng-version",Rb.full]);else{const{attrs:C,classes:b}=function pN(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!dr(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&bc(c,d,C),b&&b.length>0&&Rf(c,d,b.join(" "))}if(g=jh(f,22),void 0!==e){const C=g.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const k=e[b];C.push(null!=k?Array.from(k):null)}}m=function _O(n,t,e,r){const i=e[1],o=function ZN(n,t,e){const r=St();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),vC(n,r,t,hs(n,t,1,null),e),dC(n,r));const i=va(t,n,r.directiveStart,r);Wt(i,t);const o=Pn(r,t);return o&&Wt(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const a of r)a(o,t);if(t.contentQueries){const a=St();t.contentQueries(1,o,a.directiveStart)}const s=St();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Si(s.index),fC(e[1],s,0,s.directiveStart,s.directiveEnd,t),pC(t,o)),o}(_,this.componentDef,p,[yO]),cp(f,p,null)}finally{Qh()}return new gO(this.componentType,m,ls(g,p),p,g)}}class gO extends class Bx{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new hO(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;_p(o[1],o,i,t,e),hC(o,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function yO(){const n=St();vc(S()[1],n)}function z(n){let t=function SC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(ur(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=bp(n.inputs),s.declaredInputs=bp(n.declaredInputs),s.outputs=bp(n.outputs);const a=i.hostBindings;a&&EO(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&CO(n,l),c&&wO(n,c),Mh(n.inputs,i.inputs),Mh(n.declaredInputs,i.declaredInputs),Mh(n.outputs,i.outputs),ur(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===z&&(e=!1)}}t=Object.getPrototypeOf(t)}!function bO(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Cc(i.hostAttrs,e=Cc(e,i.hostAttrs))}}(r)}function bp(n){return n===jo?{}:n===Me?[]:n}function CO(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function wO(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function EO(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Zc=null;function mo(){if(!Zc){const n=Ke.Symbol;if(n&&n.iterator)Zc=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Zc=r)}}}return Zc}function Pa(n){return!!function Cp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&mo()in n)}function Yt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ft(n,t,e,r){const i=S();return Yt(i,Wo(),t)&&(be(),Mr(ot(),i,n,t,e,r)),Ft}function ut(n,t,e,r,i,o,s,a){const l=S(),c=be(),u=n+22,d=c.firstCreatePass?function kO(n,t,e,r,i,o,s,a,l){const c=t.consts,u=ds(t,n,4,s||null,Ei(c,a));fp(t,e,u,Ei(c,l)),vc(t,u);const d=u.tViews=hp(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,r,i,o,s):c.data[u];Tr(d,!1);const h=l[11].createComment("");xc(c,l,h,d),Wt(h,l),Kc(l,l[u]=_C(h,l,h,d)),hc(d)&&up(c,l,d),null!=s&&dp(l,d,a)}function dt(n,t,e){const r=S();return Yt(r,Wo(),t)&&function Hn(n,t,e,r,i,o,s,a){const l=Pn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(_p(n,e,u,r,i),dc(t)&&hC(e,t.index)):3&t.type&&(r=function YN(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(be(),ot(),r,n,t,r[11],e,!1),dt}function Ep(n,t,e,r,i){const s=i?"class":"style";_p(n,e,t.inputs[s],s,r)}function ce(n,t,e,r){const i=S(),o=be(),s=22+n,a=i[11],l=i[s]=Ef(a,t,function xR(){return ne.lFrame.currentNamespace}()),c=o.firstCreatePass?function NO(n,t,e,r,i,o,s){const a=t.consts,c=ds(t,n,2,i,Ei(a,o));return fp(t,e,c,Ei(a,s)),null!==c.attrs&&Yc(c,c.attrs,!1),null!==c.mergedAttrs&&Yc(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,e,r):o.data[s];Tr(c,!0);const u=c.mergedAttrs;null!==u&&bc(a,l,u);const d=c.classes;null!==d&&Rf(a,l,d);const h=c.styles;return null!==h&&sb(a,l,h),64!=(64&c.flags)&&xc(o,i,l,c),0===function _R(){return ne.lFrame.elementDepthCount}()&&Wt(l,i),function yR(){ne.lFrame.elementDepthCount++}(),hc(c)&&(up(o,i,c),aC(o,c,i)),null!==r&&dp(i,c),ce}function ue(){let n=St();Gh()?$h():(n=n.parent,Tr(n,!1));const t=n;!function bR(){ne.lFrame.elementDepthCount--}();const e=be();return e.firstCreatePass&&(vc(e,n),Lh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function LR(n){return 0!=(16&n.flags)}(t)&&Ep(e,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function UR(n){return 0!=(32&n.flags)}(t)&&Ep(e,t,S(),t.stylesWithoutHost,!1),ue}function Qt(n,t,e,r){return ce(n,t,e,r),ue(),Qt}function ki(n,t,e){const r=S(),i=be(),o=n+22,s=i.firstCreatePass?function OO(n,t,e,r,i){const o=t.consts,s=Ei(o,r),a=ds(t,n,8,"ng-container",s);return null!==s&&Yc(a,s,!0),fp(t,e,a,Ei(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,e):i.data[o];Tr(s,!0);const a=r[o]=r[11].createComment("");return xc(i,r,a,s),Wt(a,r),hc(s)&&(up(i,r,s),aC(i,s,r)),null!=e&&dp(r,s),ki}function xi(){let n=St();const t=be();return Gh()?$h():(n=n.parent,Tr(n,!1)),t.firstCreatePass&&(vc(t,n),Lh(n)&&t.queries.elementEnd(n)),xi}function Rr(n,t,e){return ki(n,t,e),xi(),Rr}function Xc(){return S()}function La(n){return!!n&&"function"==typeof n.then}const Sp=function OC(n){return!!n&&"function"==typeof n.subscribe};function mt(n,t,e,r){const i=S(),o=be(),s=St();return function FC(n,t,e,r,i,o,s,a){const l=hc(r),u=n.firstCreatePass&&bC(n),d=t[8],h=yC(t);let f=!0;if(3&r.type||a){const g=Pn(r,t),_=a?a(g):g,C=h.length,b=a?$=>a(pt($[r.index])):r.index;let k=null;if(!a&&l&&(k=function PO(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,f=!1;else{o=UC(r,t,d,o,!1);const $=e.listen(_,i,o);h.push(o,$),u&&u.push(i,b,C,C+1)}}else o=UC(r,t,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let _=0;_<g;_+=2){const X=t[m[_]][m[_+1]].subscribe(o),ke=h.length;h.push(o,X),u&&u.push(i,r.index,ke,-(ke+1))}}}(o,i,i[11],s,n,t,0,r),mt}function LC(n,t,e,r){try{return!1!==e(r)}catch(i){return wC(n,i),!1}}function UC(n,t,e,r,i){return function o(s){if(s===Function)return r;gp(2&n.flags?Fn(n.index,t):t);let l=LC(t,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=LC(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function kr(n=1){return function MR(n){return(ne.lFrame.contextLView=function AR(n,t){for(;n>0;)t=t[15],n--;return t}(n,ne.lFrame.contextLView))[8]}(n)}function FO(n,t){let e=null;const r=function lN(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Pb(n,o,!0):dN(r,o))return i}else e=i}return e}function xr(n){const t=S()[16][6];if(!t.projection){const r=t.projection=ba(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=n?FO(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function cn(n,t=0,e){const r=S(),i=be(),o=ds(i,22+n,16,null,e||null);null===o.projection&&(o.projection=t),$h(),64!=(64&o.flags)&&function Zk(n,t,e){ob(t[11],0,t,e,Qy(n,e,t),eb(e.parent||t[6],e,t))}(i,r,o)}function WC(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?hr(o):ni(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];VO(n[a],t)&&(l=!0,n[a+1]=r?ep(u):Jf(u)),a=r?hr(u):ni(u)}l&&(n[e+1]=r?Jf(o):ep(o))}function VO(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ns(n,t)>=0}function kt(n,t){return function fr(n,t,e,r){const i=S(),o=be(),s=function Zr(n){const t=ne.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function nw(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[an()],s=function tw(n,t){return t>=n.expandoStartIndex}(n,e);(function sw(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function WO(n,t,e,r){const i=function Kh(n){const t=ne.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Ua(e=Dp(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Dp(i,n,t,e,r),null===o){let l=function YO(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==ni(r))return n[hr(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=Dp(null,n,t,l[1],r),l=Ua(l,t.attrs,r),function QO(n,t,e,r){n[hr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function ZO(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ua(r,n[o].hostAttrs,e);return Ua(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function LO(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=hr(s),l=ni(s);n[r]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||ns(d,u)>0)&&(c=!0)}else u=e;if(i)if(0!==l){const h=hr(n[a+1]);n[r+1]=jc(h,a),0!==h&&(n[h+1]=Xf(n[h+1],r)),n[a+1]=function NN(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=jc(a,0),0!==a&&(n[a+1]=Xf(n[a+1],r)),a=r;else n[r+1]=jc(l,0),0===a?a=r:n[l+1]=Xf(n[l+1],r),l=r;c&&(n[r+1]=Jf(n[r+1])),WC(n,u,r,!0),WC(n,u,r,!1),function UO(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ns(o,t)>=0&&(e[r+1]=ep(e[r+1]))}(t,u,n,r,o),s=jc(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==oe&&Yt(i,s,t)&&function iw(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];eu(function Zb(n){return 1==(1&n)}(c)?ow(l,t,e,i,ni(c),s):void 0)||(eu(o)||function Qb(n){return 2==(2&n)}(c)&&(o=ow(l,null,e,i,a,s)),function Xk(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:bn.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=bn.Important),n.setStyle(e,r,i,o))}}(r,s,fc(an(),e),i,o))}(o,o.data[an()],i,i[11],n,i[s+1]=function eP(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ze(Vn(n)))),n}(t,e),r,s)}(n,t,null,!0),kt}function Dp(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=Ua(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function Ua(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Un(n,s,!!e||t[++o]))}return void 0===n?null:n}function ow(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[i+1];h===oe&&(h=d?Me:void 0);let f=d?af(h,r):u===r?h:void 0;if(c&&!eu(f)&&(f=af(l,r)),eu(f)&&(a=f,s))return a;const p=n[i+1];i=s?hr(p):ni(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=af(l,r))}return a}function eu(n){return void 0!==n}function Le(n,t=""){const e=S(),r=be(),i=n+22,o=r.firstCreatePass?ds(r,i,1,t,null):r.data[i],s=e[i]=function wf(n,t){return n.createText(t)}(e[11],t);xc(r,e,s,o),Tr(o,!1)}function Ip(n){return Pr("",n,""),Ip}function Pr(n,t,e){const r=S(),i=function ps(n,t,e,r){return Yt(n,Wo(),e)?t+ie(e)+r:oe}(r,n,t,e);return i!==oe&&function ri(n,t,e){const r=fc(t,n);!function Ky(n,t,e){n.setValue(t,e)}(n[11],r,e)}(r,an(),i),Pr}const Ts="en-US";let Iw=Ts;function kp(n,t,e,r,i){if(n=J(n),Array.isArray(n))for(let o=0;o<n.length;o++)kp(n[o],t,e,r,i);else{const o=be(),s=S();let a=fo(n)?n:J(n.provide),l=Ib(n);const c=St(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(fo(n)||!n.multi){const f=new pa(l,i,y),p=Np(a,t,i?u:u+h,d);-1===p?(Sc(ga(c,s),o,a),xp(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=Np(a,t,u+h,d),p=Np(a,t,u,u+h),m=f>=0&&e[f],g=p>=0&&e[p];if(i&&!g||!i&&!m){Sc(ga(c,s),o,a);const _=function _F(n,t,e,r,i){const o=new pa(n,e,y);return o.multi=[],o.index=t,o.componentProviders=0,Jw(o,i,r&&!e),o}(i?vF:gF,e.length,i,r,l);!i&&g&&(e[p].providerFactory=_),xp(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(_),s.push(_)}else xp(o,n,f>-1?f:p,Jw(e[i?p:f],l,!i&&r));!i&&r&&g&&e[p].componentProviders++}}}function xp(n,t,e,r){const i=fo(t),o=function Nx(n){return!!n.useClass}(t);if(i||o){const l=(o?J(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Jw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Np(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function gF(n,t,e,r){return Op(this.multi,[])}function vF(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=va(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),Op(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Op(i,o);return o}function Op(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ae(n,t=[]){return e=>{e.providersResolver=(r,i)=>function mF(n,t,e){const r=be();if(r.firstCreatePass){const i=ur(n);kp(e,r.data,r.blueprint,i,!0),kp(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class _o{}class Xw{}class eE extends _o{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yp(this);const r=Nn(t);this._bootstrapComponents=ti(r.bootstrap),this._r3Injector=jb(t,e,[{provide:_o,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],ze(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Pp extends Xw{constructor(t){super(),this.moduleType=t}create(t){return new eE(this.moduleType,t)}}class bF extends _o{constructor(t,e,r){super(),this.componentFactoryResolver=new yp(this),this.instance=null;const i=new Db([...t,{provide:_o,useValue:this},{provide:ka,useValue:this.componentFactoryResolver}],e||Vc(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ou(n,t,e=null){return new bF(n,t,e).injector}let CF=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=wb(0,e.type),i=r.length>0?ou([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(w(Ii))}),n})();function tE(n){n.getStandaloneInjector=t=>t.get(CF).getOrCreateStandaloneInjector(n)}function Lp(n,t,e){const r=function sn(){const n=ne.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}()+n,i=S();return i[r]===oe?function Ar(n,t,e){return n[t]=e}(i,r,e?t.call(e):t()):function Fa(n,t){return n[t]}(i,r)}function Up(n){return t=>{setTimeout(n,void 0,t)}}const Ue=class $F extends Je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Up(o),i&&(i=Up(i)),s&&(s=Up(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof nn&&t.add(a),a}};function qF(){return this._results[mo()]()}class qa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=mo(),r=qa.prototype;r[e]||(r[e]=qF)}get changes(){return this._changes||(this._changes=new Ue)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Ln(t);(this._changesDetected=!function WR(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lt=(()=>{class n{}return n.__NG_ELEMENT_ID__=YF,n})();const KF=Lt,WF=class extends KF{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=$c(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),cp(r,i,t),new Na(i)}};function YF(){return su(St(),S())}function su(n,t){return 4&n.type?new WF(t,n,ls(n,t)):null}let Zt=(()=>{class n{}return n.__NG_ELEMENT_ID__=QF,n})();function QF(){return gE(St(),S())}const ZF=Zt,pE=class extends ZF{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ec(this._hostTNode,this._hostLView);if(uy(t)){const e=Qo(t,this._hostLView),r=Yo(t);return new Zo(e[1].data[r+8],e)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=mE(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(e||{},o);return this.insert(s,i),s}createComponent(t,e,r,i,o){const s=t&&!function ya(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Oa(Fe(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Ii,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const r=t._lView,i=r[1];if(function vR(n){return cr(n[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],h=new pE(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function $k(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],Cy(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function qk(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(i,r,s,o);const a=If(o,s),l=r[11],c=kc(l,s[7]);return null!==c&&function jk(n,t,e,r,i,o){r[0]=i,r[6]=t,Ma(n,r,e,1,i,o)}(i,s[6],l,r,c,a),t.attachToViewContainerRef(),Cy(Vp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=mE(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Sf(this._lContainer,e);r&&(Dc(Vp(this._lContainer),e),Yy(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Sf(this._lContainer,e);return r&&null!=Dc(Vp(this._lContainer),e)?new Na(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function mE(n){return n[8]}function Vp(n){return n[8]||(n[8]=[])}function gE(n,t){let e;const r=t[n.index];if(cr(r))e=r;else{let i;if(8&n.type)i=pt(r);else{const o=t[11];i=o.createComment("");const s=Pn(n,t);co(o,kc(o,s),i,function Qk(n,t){return n.nextSibling(t)}(o,s),!1)}t[n.index]=e=_C(r,t,i,n),Kc(t,e)}return new pE(e,n,t)}class Hp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Bp(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==CE(t,e).matches&&this.queries[e].setDirty()}}class vE{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class jp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new jp(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class zp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new zp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,e1(e,o)),this.matchTNodeWithReadOption(t,e,Tc(e,t,o,!1,!1))}else r===Lt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Tc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Oe||i===Zt||i===Lt&&4&e.type)this.addMatch(e.index,-2);else{const o=Tc(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function e1(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function n1(n,t,e,r){return-1===e?function t1(n,t){return 11&n.type?ls(n,t):4&n.type?su(n,t):null}(t,n):-2===e?function r1(n,t,e){return e===Oe?ls(t,n):e===Lt?su(t,n):e===Zt?gE(t,n):void 0}(n,t,r):va(n,n[1],e,t)}function _E(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:n1(t,o[c],s[l+1],e.metadata.read))}i.matches=a}return i.matches}function Gp(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=_E(n,t,i,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Gp(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Gp(f[1],f,c,r)}}}}}return r}function He(n){const t=S(),e=be(),r=J_();Wh(r+1);const i=CE(e,r);if(n.dirty&&function gR(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Gp(e,t,r,[]):_E(e,t,i,r);n.reset(o,$x),n.notifyOnChanges()}return!0}return!1}function Bn(n,t,e){const r=be();r.firstCreatePass&&(bE(r,new vE(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),yE(r,S(),t)}function Jt(n,t,e,r){const i=be();if(i.firstCreatePass){const o=St();bE(i,new vE(t,e,r),o.index),function s1(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}yE(i,S(),e)}function Be(){return function o1(n,t){return n[19].queries[t].queryList}(S(),J_())}function yE(n,t,e){const r=new qa(4==(4&e));cC(n,t,r,r.destroy),null===t[19]&&(t[19]=new Bp),t[19].queries.push(new Hp(r))}function bE(n,t,e){null===n.queries&&(n.queries=new jp),n.queries.track(new zp(t,e))}function CE(n,t){return n.queries.getByIndex(t)}function lu(...n){}const cu=new R("Application Initializer");let uu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=lu,this.reject=lu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(La(o))e.push(o);else if(Sp(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(w(cu,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wa=new R("AppId",{providedIn:"root",factory:function HE(){return`${Yp()}${Yp()}${Yp()}`}});function Yp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BE=new R("Platform Initializer"),du=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jE=new R("appBootstrapListener"),Ni=new R("AnimationModuleType");let I1=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fr=new R("LocaleId",{providedIn:"root",factory:()=>Xe(Fr,W.Optional|W.SkipSelf)||function M1(){return typeof $localize<"u"&&$localize.locale||Ts}()});class R1{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Qp=(()=>{class n{compileModuleSync(e){return new Pp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=ti(Nn(e).declarations).reduce((s,a)=>{const l=Fe(a);return l&&s.push(new Oa(l)),s},[]);return new R1(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N1=(()=>Promise.resolve(0))();function Zp(n){typeof Zone>"u"?N1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Te{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function O1(){let n=Ke.requestAnimationFrame,t=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function L1(n){const t=()=>{!function F1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Xp(n),n.isCheckStableRunning=!0,Jp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Xp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return $E(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),qE(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return $E(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),qE(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Xp(n),Jp(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new E(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,P1,lu,lu);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const P1={};function Jp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $E(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qE(n){n._nesting--,Jp(n)}class U1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const KE=new R(""),hu=new R("");let nm,em=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nm||(function V1(n){nm=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),Zp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(w(Te),w(tm),w(hu))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),tm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return nm?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Oi=null;const WE=new R("AllowMultipleToken"),rm=new R("PlatformDestroyListeners");class YE{constructor(t,e){this.name=t,this.token=e}}function ZE(n,t,e=[]){const r=`Platform: ${t}`,i=new R(r);return(o=[])=>{let s=im();if(!s||s.injector.get(WE,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function j1(n){if(Oi&&!Oi.get(WE,!1))throw new E(400,!1);Oi=n;const t=n.get(XE);(function QE(n){const t=n.get(BE,null);t&&t.forEach(e=>e())})(n)}(function JE(n=[],t){return Cn.create({name:t,providers:[{provide:Bf,useValue:"platform"},{provide:rm,useValue:new Set([()=>Oi=null])},...n]})}(a,r))}return function G1(n){const t=im();if(!t)throw new E(401,!1);return t}()}}function im(){return Oi?.get(XE)??null}let XE=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function tS(n,t){let e;return e="noop"===n?new U1:("zone.js"===n?void 0:n)||new Te(t),e}(r?.ngZone,function eS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Te,useValue:i}];return i.run(()=>{const s=Cn.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(s),l=a.injector.get(Mi,null);if(!l)throw new E(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{fu(this._modules,a),c.unsubscribe()})}),function nS(n,t,e){try{const r=e();return La(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(uu);return c.runInitializers(),c.donePromise.then(()=>(function Mw(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(Iw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Fr,Ts)||Ts),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=rS({},r);return function H1(n,t,e){const r=new Pp(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(Ya);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new E(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(rm,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(w(Cn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function rS(n,t){return Array.isArray(t)?t.reduce(rS,n):{...n,...t}}let Ya=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ze(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),Zp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function HA(...n){const t=aa(n),e=function NA(n,t){return"number"==typeof Dh(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Rn(r[0]):Bo(e)(Se(r,t)):Sr}(o,s.pipe(function k_(n={}){const{connector:t=(()=>new Je),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return lt((m,g)=>{c++,!d&&!u&&h();const _=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=Ih(p,i))}),_.subscribe(g),!s&&c>0&&(s=new sa({next:C=>_.next(C),error:C=>{d=!0,h(),a=Ih(f,e,C),_.error(C)},complete:()=>{u=!0,h(),a=Ih(f,r),_.complete()}}),Rn(m).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof Mb;if(!this._injector.get(uu).done)throw!i&&function zo(n){const t=Fe(n)||rn(n)||on(n);return null!==t&&t.standalone}(e),new E(405,false);let s;s=i?e:this._injector.get(ka).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function B1(n){return n.isBoundToModule}(s)?void 0:this._injector.get(_o),c=s.create(Cn.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(KE,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),fu(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;fu(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jE,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>fu(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new E(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(w(Te),w(Ii),w(Mi))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fu(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let oS=!0,Pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=K1,n})();function K1(n){return function W1(n,t,e){if(dc(n)&&!e){const r=Fn(n.index,t);return new Na(r,r)}return 47&n.type?new Na(t[16],t):null}(St(),S(),16==(16&n))}class uS{constructor(){}supports(t){return Pa(t)}create(t){return new eL(t)}}const X1=(n,t)=>t;class eL{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||X1}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<hS(r,i,o)?e:r,a=hS(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Pa(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function MO(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[mo()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new tL(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new dS),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class tL{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nL{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class dS{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new nL,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hS(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function pS(){return new oi([new uS])}let oi=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||pS()),deps:[[n,new is,new Di]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new E(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:pS}),n})();const aL=ZE(null,"core",[]);let lL=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(w(Ya))},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})();function si(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let gu=null;function Lr(){return gu}const Re=new R("DocumentToken");let cm=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return function hL(){return w(gS)}()},providedIn:"platform"}),n})();const fL=new R("Location Initialized");let gS=(()=>{class n extends cm{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lr().getBaseHref(this._doc)}onPopState(e){const r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){vS()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){vS()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(w(Re))},n.\u0275prov=P({token:n,factory:function(){return function pL(){return new gS(w(Re))}()},providedIn:"platform"}),n})();function vS(){return!!window.history.pushState}function um(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function _S(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ai(n){return n&&"?"!==n[0]?"?"+n:n}let bo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return Xe(bS)},providedIn:"root"}),n})();const yS=new R("appBaseHref");let bS=(()=>{class n extends bo{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xe(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return um(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+ai(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+ai(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(w(cm),w(yS,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mL=(()=>{class n extends bo{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=um(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+ai(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+ai(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(w(cm),w(yS,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n{constructor(e){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=_S(CS(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ai(r))}normalize(e){return n.stripTrailingSlash(function vL(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,CS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ai(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=ai,n.joinWithSlash=um,n.stripTrailingSlash=_S,n.\u0275fac=function(e){return new(e||n)(w(bo))},n.\u0275prov=P({token:n,factory:function(){return function gL(){return new Ms(w(bo))}()},providedIn:"root"}),n})();function CS(n){return n.replace(/\/index.html$/,"")}function RS(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Du=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new s2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){OS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){OS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(y(Zt),y(Lt))},n.\u0275dir=M({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class s2{constructor(){this.$implicit=null,this.ngIf=null}}function OS(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ze(t)}'.`)}let Iu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})();const LS="browser";let L2=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new U2(w(Re),window)}),n})();class U2{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function V2(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=US(this.window.history)||US(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function US(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class VS{}class Dm extends class rU extends class dL{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function uL(n){gu||(gu=n)}(new Dm)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function iU(){return el=el||document.querySelector("base"),el?el.getAttribute("href"):null}();return null==e?null:function oU(n){Au=Au||document.createElement("a"),Au.setAttribute("href",n);const t=Au.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){el=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return RS(document.cookie,t)}}let Au,el=null;const zS=new R("TRANSITION_ID"),aU=[{provide:cu,useFactory:function sU(n,t,e){return()=>{e.get(uu).donePromise.then(()=>{const r=Lr(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[zS,Re,Cn],multi:!0}];let cU=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Ru=new R("EventManagerPlugins");let ku=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(w(Ru),w(Te))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class GS{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Lr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let $S=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),tl=(()=>{class n extends $S{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qS))}}return n.\u0275fac=function(e){return new(e||n)(w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function qS(n){Lr().remove(n)}const Im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mm=/%COMP%/g;function xu(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?xu(n,i,e):(i=i.replace(Mm,n),e.push(i))}return e}function YS(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Nu=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Am(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mU(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case ar.ShadowDom:return new gU(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=xu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(w(ku),w(tl),w(Wa))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class Am{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Im[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(ZS(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(ZS(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Im[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Im[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(bn.DashCase|bn.Important)?t.style.setProperty(e,r,i&bn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&bn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,YS(r)):this.eventManager.addEventListener(t,e,YS(r))}}function ZS(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mU extends Am{constructor(t,e,r,i){super(t),this.component=r;const o=xu(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function hU(n){return"_ngcontent-%COMP%".replace(Mm,n)}(i+"-"+r.id),this.hostAttr=function fU(n){return"_nghost-%COMP%".replace(Mm,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class gU extends Am{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xu(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let vU=(()=>{class n extends GS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const JS=["alt","control","meta","shift"],_U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bU=(()=>{class n extends GS{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JS.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=_U[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JS.forEach(s=>{s!==i&&(0,yU[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const e0=[{provide:du,useValue:LS},{provide:BE,useValue:function CU(){Dm.makeCurrent()},multi:!0},{provide:Re,useFactory:function EU(){return function rx(n){xf=n}(document),document},deps:[]}],SU=ZE(aL,"browser",e0),t0=new R(""),n0=[{provide:hu,useClass:class lU{addToWindow(t){Ke.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ke.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ke.getAllAngularRootElements=()=>t.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const i=Ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Lr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:KE,useClass:em,deps:[Te,tm,hu]},{provide:em,useClass:em,deps:[Te,tm,hu]}],r0=[{provide:Bf,useValue:"root"},{provide:Mi,useFactory:function wU(){return new Mi},deps:[]},{provide:Ru,useClass:vU,multi:!0,deps:[Re,Te,du]},{provide:Ru,useClass:bU,multi:!0,deps:[Re]},{provide:Nu,useClass:Nu,deps:[ku,tl,Wa]},{provide:xa,useExisting:Nu},{provide:$S,useExisting:tl},{provide:tl,useClass:tl,deps:[Re]},{provide:ku,useClass:ku,deps:[Ru,Te]},{provide:VS,useClass:cU,deps:[]},[]];let o0=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Wa,useValue:e.appId},{provide:zS,useExisting:Wa},aU]}}}return n.\u0275fac=function(e){return new(e||n)(w(t0,12))},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[...r0,...n0],imports:[Iu,lL]}),n})(),s0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(w(Re))},n.\u0275prov=P({token:n,factory:function(e){let r=null;return r=e?new e:function DU(){return new s0(w(Re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class u0{}const ci="*";function d0(n,t=null){return{type:2,steps:n,options:t}}function Ou(n){return{type:6,styles:n,offset:null}}function h0(n){Promise.resolve().then(n)}class nl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class f0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?h0(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function p0(n){return new E(3e3,!1)}function yV(){return typeof window<"u"&&typeof window.document<"u"}function Om(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Li(n){switch(n.length){case 0:return new nl;case 1:return n[0];default:return new f0(n)}}function m0(n,t,e,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=t.normalizePropertyName(g,s),_){case"!":_=i.get(m);break;case ci:_=o.get(m);break;default:_=t.normalizeStyleValue(m,g,_,s)}f.set(g,_)}),h||a.push(f),c=f,l=d}),s.length)throw function aV(n){return new E(3502,!1)}();return a}function Pm(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Fm(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Fm(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Fm(e,"destroy",n)))}}function Fm(n,t,e){const o=Lm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Lm(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function jn(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function g0(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Um=(n,t)=>!1,v0=(n,t,e)=>[],_0=null;function Vm(n){const t=n.parentNode||n.host;return t===_0?null:t}(Om()||typeof Element<"u")&&(yV()?(_0=(()=>document.documentElement)(),Um=(n,t)=>{for(;t;){if(t===n)return!0;t=Vm(t)}return!1}):Um=(n,t)=>n.contains(t),v0=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Co=null,y0=!1;const b0=Um,C0=v0;let w0=(()=>{class n{validateStyleProperty(e){return function CV(n){Co||(Co=function wV(){return typeof document<"u"?document.body:null}()||{},y0=!!Co.style&&"WebkitAppearance"in Co.style);let t=!0;return Co.style&&!function bV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Co.style,!t&&y0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Co.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return b0(e,r)}getParentElement(e){return Vm(e)}query(e,r,i){return C0(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new nl(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Hm=(()=>{class n{}return n.NOOP=new w0,n})();const Bm="ng-enter",Pu="ng-leave",Fu="ng-trigger",Lu=".ng-trigger",S0="ng-animating",jm=".ng-animating";function ui(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zm(parseFloat(t[1]),t[2])}function zm(n,t){return"s"===t?1e3*n:n}function Uu(n,t,e){return n.hasOwnProperty("duration")?n:function TV(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(p0()),{duration:0,delay:0,easing:""};i=zm(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=zm(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function VU(){return new E(3100,!1)}()),a=!0),o<0&&(t.push(function HU(){return new E(3101,!1)}()),a=!0),a&&t.splice(l,0,p0())}return{duration:i,delay:o,easing:s}}(n,t,e)}function rl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function T0(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ui(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function I0(n,t,e){return e?t+":"+e+";":""}function M0(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=I0(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=I0(0,AV(e),n.style[e]));n.setAttribute("style",t)}function Ur(n,t,e){n.style&&(t.forEach((r,i)=>{const o=$m(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),Om()&&M0(n))}function wo(n,t){n.style&&(t.forEach((e,r)=>{const i=$m(r);n.style[i]=""}),Om()&&M0(n))}function il(n){return Array.isArray(n)?1==n.length?n[0]:d0(n):n}const Gm=new RegExp("{{\\s*(.+?)\\s*}}","g");function A0(n){let t=[];if("string"==typeof n){let e;for(;e=Gm.exec(n);)t.push(e[1]);Gm.lastIndex=0}return t}function ol(n,t,e){const r=n.toString(),i=r.replace(Gm,(o,s)=>{let a=t[s];return null==a&&(e.push(function jU(n){return new E(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Vu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const MV=/-+([a-z0-9])/g;function $m(n){return n.replace(MV,(...t)=>t[1].toUpperCase())}function AV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function zU(n){return new E(3004,!1)}()}}function R0(n,t){return window.getComputedStyle(n)[t]}function PV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function FV(n,t,e){if(":"==n[0]){const l=function LV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function rV(n){return new E(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function nV(n){return new E(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(k0(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(k0(s,i))}(r,e,t)):e.push(n),e}const zu=new Set(["true","1"]),Gu=new Set(["false","0"]);function k0(n,t){const e=zu.has(n)||Gu.has(n),r=zu.has(t)||Gu.has(t);return(i,o)=>{let s="*"==n||n==i,a="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?zu.has(n):Gu.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?zu.has(t):Gu.has(t)),s&&a}}const UV=new RegExp("s*:selfs*,?","g");function qm(n,t,e,r){return new VV(n).build(t,e,r)}class VV{constructor(t){this._driver=t}build(t,e,r){const i=new jV(e);return this._resetContextStyleTimingState(i),zn(this,il(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function $U(){return new E(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(function qU(){return new E(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{A0(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Vu(o.values()),e.errors.push(function KU(n,t){return new E(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=zn(this,il(t.animation),e);return{type:1,matchers:PV(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Eo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>zn(this,r,e)),options:Eo(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=zn(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Eo(t.options)}}visitAnimate(t,e){const r=function GV(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Km(Uu(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Km(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=Uu(e,t);return Km(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Ou({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=Ou(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===ci?r.push(a):e.errors.push(new E(3002,!1)):r.push(T0(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(e.errors.push(function YU(n,t,e,r,i){return new E(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),e.options&&function IV(n,t,e){const r=t.params||{},i=A0(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function BU(n){return new E(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function QU(){return new E(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(_=>{const C=this._makeStyleAst(_,e);let b=null!=C.offset?C.offset:function zV(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(C.styles),k=0;return null!=b&&(o++,k=C.offset=b),l=l||k<0||k>1,a=a||k<c,c=k,s.push(k),C});l&&e.errors.push(function ZU(){return new E(3012,!1)}()),a&&e.errors.push(function JU(){return new E(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function XU(){return new E(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((_,C)=>{const b=h>0?C==f?1:h*C:s[C],k=b*g;e.currentTime=p+m.delay+k,m.duration=k,this._validateStyleAst(_,e),_.offset=b,r.styles.push(_)}),r}visitReference(t,e){return{type:8,animation:zn(this,il(t.animation),e),options:Eo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Eo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Eo(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function HV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(UV,"")),n=n.replace(/@\*/g,Lu).replace(/@\w+/g,e=>Lu+"-"+e.slice(1)).replace(/:animating/g,jm),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,jn(e.collectedStyles,e.currentQuerySelector,new Map);const a=zn(this,il(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Eo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function eV(){return new E(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Uu(t.timings,e.errors,!0);return{type:12,animation:zn(this,il(t.animation),e),timings:r,options:null}}}class jV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Eo(n){return n?(n=rl(n)).params&&(n.params=function BV(n){return n?rl(n):null}(n.params)):n={},n}function Km(n,t,e){return{duration:n,delay:t,easing:e}}function Wm(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class $u{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const KV=new RegExp(":enter","g"),YV=new RegExp(":leave","g");function Ym(n,t,e,r,i,o=new Map,s=new Map,a,l,c=[]){return(new QV).buildKeyframes(n,t,e,r,i,o,s,a,l,c)}class QV{buildKeyframes(t,e,r,i,o,s,a,l,c,u=[]){c=c||new $u;const d=new Qm(t,e,c,i,o,u,[]);d.options=l;const h=l.delay?ui(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),zn(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Wm(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:ui(ol(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?ui(r.duration):null,a=null!=r.delay?ui(r.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),zn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qu);const s=ui(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>zn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ui(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),zn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Uu(e.params?ol(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ui(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qu);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),zn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;zn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const qu={};class Qm{constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ku(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=ui(r.duration)),null!=r.delay&&(i.delay=ui(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=ol(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Qm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=qu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new ZV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(KV,"."+this._enterClassName)).replace(YV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function tV(n){return new E(3014,!1)}()),a}}class Ku{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ku(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||ci),this._currentKeyframe.set(e,ci);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function JV(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,ci)}else Ui(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=ol(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ci),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ui(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===ci&&e.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=t.size?Vu(t.values()):[],s=e.size?Vu(e.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Wm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class ZV extends Ku{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,l=Ui(t[0]);l.set("offset",0),o.push(l);const c=Ui(t[0]);c.set("offset",O0(a)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Ui(t[d]);const f=h.get("offset");h.set("offset",O0((e+f*r)/s)),o.push(h)}r=s,e=0,i="",t=o}return Wm(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function O0(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Zm{}const XV=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class eH extends Zm{normalizePropertyName(t,e){return $m(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(XV.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function GU(n,t){return new E(3005,!1)}())}return s+o}}function P0(n,t,e,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Jm={};class F0{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function tH(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Jm,p=this.buildStyles(r,a&&a.params||Jm,d),m=l&&l.params||Jm,g=this.buildStyles(i,m,d),_=new Set,C=new Map,b=new Map,k="void"===i,$={params:nH(m,h),delay:this.ast.options?.delay},X=u?[]:Ym(t,e,this.ast.animation,o,s,p,g,$,c,d);let ke=0;if(X.forEach(vn=>{ke=Math.max(vn.duration+vn.delay,ke)}),d.length)return P0(e,this._triggerName,r,i,k,p,g,[],[],C,b,ke,d);X.forEach(vn=>{const Nt=vn.element,Ji=jn(C,Nt,new Set);vn.preStyleProps.forEach(Er=>Ji.add(Er));const bi=jn(b,Nt,new Set);vn.postStyleProps.forEach(Er=>bi.add(Er)),Nt!==e&&_.add(Nt)});const De=Vu(_.values());return P0(e,this._triggerName,r,i,k,p,g,X,De,C,b,ke)}}function nH(n,t){const e=rl(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class rH{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=rl(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=ol(s,i,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(l,s)})}),r}}class oH{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new rH(i.style,i.options&&i.options.params||{},r))}),L0(this.states,"true","1"),L0(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new F0(t,i,this.states))}),this.fallbackTransition=function sH(n,t,e){return new F0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function L0(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const aH=new $u;class lH{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=qm(this._driver,e,r,[]);if(r.length)throw function lV(n){return new E(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=m0(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=Ym(this._driver,e,o,Bm,Pu,new Map,new Map,r,aH,i),s.forEach(u=>{const d=jn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function cV(){return new E(3300,!1)}()),s=[]),i.length)throw function uV(n){return new E(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ci))})});const c=Li(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function dV(n){return new E(3301,!1)}();return e}listen(t,e,r,i){const o=Lm(e,"","","");return Pm(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const U0="ng-animate-queued",Xm="ng-animate-disabled",fH=[],V0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed";class eg{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function _H(n){return n??null}(r?t.value:t),r){const o=rl(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const sl="void",tg=new eg(sl);class mH{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,er(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function hV(n,t){return new E(3302,!1)}();if(null==r||0==r.length)throw function fV(n){return new E(3303,!1)}();if(!function yH(n){return"start"==n||"done"==n}(r))throw function pV(n,t){return new E(3400,!1)}();const o=jn(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=jn(this._engine.statesByElement,t,new Map);return a.has(e)||(er(t,Fu),er(t,Fu+"-"+e),a.set(e,tg)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function mV(n){return new E(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new ng(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(er(t,Fu),er(t,Fu+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new eg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=tg),c.value!==sl&&l.value===c.value){if(!function wH(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),_=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{wo(t,g),Ur(t,_)})}return}const h=jn(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(er(t,U0),s.onStart(()=>{As(t,U0)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let _=g.indexOf(s);_>=0&&g.splice(_,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Lu,!0);r.forEach(i=>{if(i[Xn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,sl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&Li(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||tg,u=new eg(sl),d=new ng(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Xn];(!o||o===V0)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){er(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=Lm(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,Pm(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class gH{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new mH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Wu(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Wu(e))return;const o=e[Xn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),er(t,Xm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),As(t,Xm))}removeNode(t,e,r,i){if(Wu(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Xn]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Wu(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Lu,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jm,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Li(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Xn];if(e&&e.setForRemoval){if(t[Xn]=V0,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Xm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)er(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Li(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function gV(n){return new E(3402,!1)}()}_flushAnimations(t,e){const r=new $u,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);const q=this.driver.query(B,".ng-animate-queued",!0);for(let Q=0;Q<q.length;Q++)u.add(q[Q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=j0(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((B,q)=>{const Q=Bm+m++;p.set(q,Q),B.forEach(Ee=>er(Ee,Q))});const g=[],_=new Set,C=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const q=this.collectedLeaveElements[B],Q=q[Xn];Q&&Q.setForRemoval&&(g.push(q),_.add(q),Q.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Ee=>_.add(Ee)):C.add(q))}const b=new Map,k=j0(h,Array.from(_));k.forEach((B,q)=>{const Q=Pu+m++;b.set(q,Q),B.forEach(Ee=>er(Ee,Q))}),t.push(()=>{f.forEach((B,q)=>{const Q=p.get(q);B.forEach(Ee=>As(Ee,Q))}),k.forEach((B,q)=>{const Q=b.get(q);B.forEach(Ee=>As(Ee,Q))}),g.forEach(B=>{this.processLeaveNode(B)})});const $=[],X=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(Q=>{const Ee=Q.player,Ot=Q.element;if($.push(Ee),this.collectedEnterElements.length){const tn=Ot[Xn];if(tn&&tn.setForMove){if(tn.previousTriggersValues&&tn.previousTriggersValues.has(Q.triggerName)){const Vo=tn.previousTriggersValues.get(Q.triggerName),or=this.statesByElement.get(Q.element);if(or&&or.has(Q.triggerName)){const _h=or.get(Q.triggerName);_h.value=Vo,or.set(Q.triggerName,_h)}}return void Ee.destroy()}}const qr=!d||!this.driver.containsElement(d,Ot),qn=b.get(Ot),Xi=p.get(Ot),at=this._buildInstruction(Q,r,Xi,qn,qr);if(at.errors&&at.errors.length)return void X.push(at);if(qr)return Ee.onStart(()=>wo(Ot,at.fromStyles)),Ee.onDestroy(()=>Ur(Ot,at.toStyles)),void i.push(Ee);if(Q.isFallbackTransition)return Ee.onStart(()=>wo(Ot,at.fromStyles)),Ee.onDestroy(()=>Ur(Ot,at.toStyles)),void i.push(Ee);const oA=[];at.timelines.forEach(tn=>{tn.stretchStartingKeyframe=!0,this.disabledNodes.has(tn.element)||oA.push(tn)}),at.timelines=oA,r.append(Ot,at.timelines),s.push({instruction:at,player:Ee,element:Ot}),at.queriedElements.forEach(tn=>jn(a,tn,[]).push(Ee)),at.preStyleProps.forEach((tn,Vo)=>{if(tn.size){let or=l.get(Vo);or||l.set(Vo,or=new Set),tn.forEach((_h,i_)=>or.add(i_))}}),at.postStyleProps.forEach((tn,Vo)=>{let or=c.get(Vo);or||c.set(Vo,or=new Set),tn.forEach((_h,i_)=>or.add(i_))})});if(X.length){const B=[];X.forEach(q=>{B.push(function vV(n,t){return new E(3505,!1)}())}),$.forEach(q=>q.destroy()),this.reportError(B)}const ke=new Map,De=new Map;s.forEach(B=>{const q=B.element;r.has(q)&&(De.set(q,q),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,ke))}),i.forEach(B=>{const q=B.element;this._getPreviousPlayers(q,!1,B.namespaceId,B.triggerName,null).forEach(Ee=>{jn(ke,q,[]).push(Ee),Ee.destroy()})});const vn=g.filter(B=>G0(B,l,c)),Nt=new Map;B0(Nt,this.driver,C,c,ci).forEach(B=>{G0(B,l,c)&&vn.push(B)});const bi=new Map;f.forEach((B,q)=>{B0(bi,this.driver,new Set(B),l,"!")}),vn.forEach(B=>{const q=Nt.get(B),Q=bi.get(B);Nt.set(B,new Map([...Array.from(q?.entries()??[]),...Array.from(Q?.entries()??[])]))});const Er=[],ra=[],ia={};s.forEach(B=>{const{element:q,player:Q,instruction:Ee}=B;if(r.has(q)){if(u.has(q))return Q.onDestroy(()=>Ur(q,Ee.toStyles)),Q.disabled=!0,Q.overrideTotalTime(Ee.totalTime),void i.push(Q);let Ot=ia;if(De.size>1){let qn=q;const Xi=[];for(;qn=qn.parentNode;){const at=De.get(qn);if(at){Ot=at;break}Xi.push(qn)}Xi.forEach(at=>De.set(at,Ot))}const qr=this._buildAnimation(Q.namespaceId,Ee,ke,o,bi,Nt);if(Q.setRealPlayer(qr),Ot===ia)Er.push(Q);else{const qn=this.playersByElement.get(Ot);qn&&qn.length&&(Q.parentPlayer=Li(qn)),i.push(Q)}}else wo(q,Ee.fromStyles),Q.onDestroy(()=>Ur(q,Ee.toStyles)),ra.push(Q),u.has(q)&&i.push(Q)}),ra.forEach(B=>{const q=o.get(B.element);if(q&&q.length){const Q=Li(q);B.setRealPlayer(Q)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<g.length;B++){const q=g[B],Q=q[Xn];if(As(q,Pu),Q&&Q.hasAnimation)continue;let Ee=[];if(a.size){let qr=a.get(q);qr&&qr.length&&Ee.push(...qr);let qn=this.driver.query(q,jm,!0);for(let Xi=0;Xi<qn.length;Xi++){let at=a.get(qn[Xi]);at&&at.length&&Ee.push(...at)}}const Ot=Ee.filter(qr=>!qr.destroyed);Ot.length?bH(this,q,Ot):this.processLeaveNode(q)}return g.length=0,Er.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const q=this.players.indexOf(B);this.players.splice(q,1)}),B.play()}),Er}elementContainsData(t,e){let r=!1;const i=e[Xn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==sl;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=jn(r,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}wo(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Xn];if(g&&g.removedBeforeQueried)return new nl(p.duration,p.delay);const _=m!==l,C=function CH(n){const t=[];return z0(n,t),t}((r.get(m)||fH).map(ke=>ke.getRealPlayer())).filter(ke=>!!ke.element&&ke.element===m),b=o.get(m),k=s.get(m),$=m0(0,this._normalizer,0,p.keyframes,b,k),X=this._buildPlayer(p,$,C);if(p.subTimeline&&i&&d.add(m),_){const ke=new ng(t,a,m);ke.setRealPlayer(X),c.push(ke)}return X});c.forEach(p=>{jn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function vH(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>er(p,S0));const f=Li(h);return f.onDestroy(()=>{u.forEach(p=>As(p,S0)),Ur(l,e.toStyles)}),d.forEach(p=>{jn(i,p,[]).push(f)}),f}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new nl(t.duration,t.delay)}}class ng{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new nl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Pm(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){jn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wu(n){return n&&1===n.nodeType}function H0(n,t){const e=n.style.display;return n.style.display=t??"none",e}function B0(n,t,e,r,i){const o=[];e.forEach(l=>o.push(H0(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Xn]=pH,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>H0(l,o[a++])),s}function j0(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function er(n,t){n.classList?.add(t)}function As(n,t){n.classList?.remove(t)}function bH(n,t,e){Li(e).onDone(()=>n.processLeaveNode(t))}function z0(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof f0?z0(r.players,t):t.push(r)}}function G0(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Yu{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new gH(t,e,r),this._timelineEngine=new lH(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=qm(this._driver,o,l,[]);if(l.length)throw function sV(n,t){return new E(3404,!1)}();a=function iH(n,t,e){return new oH(n,t,e)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=g0(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=g0(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let SH=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wo(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function rg(n){let t=null;return n.forEach((e,r)=>{(function TH(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class $0{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:R0(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class DH{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return b0(t,e)}getParentElement(t){return Vm(t)}query(t,e,r){return C0(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof $0);(function RV(n,t){return 0===n||0===t})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function DV(n){return n.length?n[0]instanceof Map?n:n.map(t=>T0(t)):[]}(e).map(f=>Ui(f));d=function kV(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,R0(n,a)))}}return t}(t,d,c);const h=function EH(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=rg(t[0]),t.length>1&&(r=rg(t[t.length-1]))):t instanceof Map&&(e=rg(t)),e||r?new SH(n,e,r):null}(t,d);return new $0(t,d,l,h)}}let IH=(()=>{class n extends u0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ar.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?d0(e):e;return q0(this._renderer,null,r,"register",[i]),new MH(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(w(xa),w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class MH extends class OU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new AH(this._id,t,e||{},this._renderer)}}class AH{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return q0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function q0(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const K0="@.disabled";let RH=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new W0("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return r.data.animation.forEach(l),new kH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(w(xa),w(Yu),w(Te))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class W0{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==K0?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class kH extends W0{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==K0?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function xH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function NH(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}const Y0=[{provide:u0,useClass:IH},{provide:Zm,useFactory:function PH(){return new eH}},{provide:Yu,useClass:(()=>{class n extends Yu{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(w(Re),w(Hm),w(Zm),w(Ya))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})()},{provide:xa,useFactory:function FH(n,t,e){return new RH(n,t,e)},deps:[Nu,Yu,Te]}],ig=[{provide:Hm,useFactory:()=>new DH},{provide:Ni,useValue:"BrowserAnimations"},...Y0],Q0=[{provide:Hm,useClass:w0},{provide:Ni,useValue:"NoopAnimations"},...Y0];let LH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Q0:ig}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:ig,imports:[o0]}),n})();const{isArray:UH}=Array,{getPrototypeOf:VH,prototype:HH,keys:BH}=Object;const{isArray:zH}=Array;let Dg,GT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[GT]}),n})(),GB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[zB]}),n})();try{Dg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dg=!1}let dl,Ig,ji=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function F2(n){return n===LS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(w(du))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sd(n){return function qB(){if(null==dl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dl=!0}))}finally{dl=dl||!1}return dl}()?n:!!n.capture}function hl(n){return n.composedPath?n.composedPath()[0]:n.target}class En extends Je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function U(...n){return Se(n,aa(n))}function _t(n,t,e){const r=Ve(n)||t||e?{next:n,error:t,complete:e}:n;return r?lt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(nt(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ci}class dj extends nn{constructor(t,e){super()}schedule(t,e=0){return this}}const ld={setInterval(n,t,...e){const{delegate:r}=ld;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=ld;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Ag extends dj{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return ld.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&ld.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ho(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Rg={now:()=>(Rg.delegate||Date).now(),delegate:void 0};class fl{constructor(t,e=fl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}fl.now=Rg.now;class kg extends fl{constructor(t,e=fl.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const xg=new kg(Ag),hj=xg;function Vt(n,t){return lt((e,r)=>{let i=0;e.subscribe(nt(r,o=>n.call(t,o,i++)&&r.next(o)))})}function dD(n){return Vt((t,e)=>n<=e)}function pj(n,t){return n===t}function Sn(n){return lt((t,e)=>{Rn(n).subscribe(nt(e,()=>e.complete(),yh)),!e.closed&&t.subscribe(e)})}function fn(n){return null!=n&&"false"!=`${n}`}function fD(n){return Array.isArray(n)?n:[n]}function xs(n){return n instanceof Oe?n.nativeElement:n}function Og(...n){const t=aa(n),e=function I_(n){return Ve(Dh(n))?n.pop():void 0}(n),{args:r,keys:i}=function Z0(n){if(1===n.length){const t=n[0];if(UH(t))return{args:t,keys:null};if(function jH(n){return n&&"object"==typeof n&&VH(n)===HH}(t)){const e=BH(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}(n);if(0===r.length)return Se([],t);const o=new Ze(function gj(n,t,e=Ci){return r=>{pD(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)pD(t,()=>{const c=Se(n[l],t);let u=!1;c.subscribe(nt(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>function X0(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}(i,s):Ci));return e?o.pipe(function J0(n){return Z(t=>function GH(n,t){return zH(t)?n(...t):n(t)}(n,t))}(e)):o}function pD(n,t,e){n?Kr(e,n,t):t()}function cd(...n){return function vj(){return Bo(1)}()(Se(n,aa(n)))}function zi(n){return n<=0?()=>Sr:lt((t,e)=>{let r=0;t.subscribe(nt(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ud(...n){const t=aa(n);return lt((e,r)=>{(t?cd(n,e,t):cd(n,e)).subscribe(r)})}const mD=new Set;let Ns,_j=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yj(n){if(!mD.has(n))try{Ns||(Ns=document.createElement("style"),Ns.setAttribute("type","text/css"),document.head.appendChild(Ns)),Ns.sheet&&(Ns.sheet.insertRule(`@media ${n} {body{ }}`,0),mD.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(w(ji))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Cj=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gD(fD(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Og(gD(fD(e)).map(s=>this._registerQuery(s).observable));return o=cd(o.pipe(zi(1)),o.pipe(dD(1),function Ng(n,t=xg){return lt((e,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}e.subscribe(nt(r,c=>{o=c,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Z(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Ze(s=>{const a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ud(r),Z(({matches:s})=>({query:e,matches:s})),Sn(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(w(_j),w(Te))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gD(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function bD(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CD(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const kj=new R("cdk-input-modality-detector-options"),xj={ignoreKeys:[18,17,224,91,16]},Os=sd({passive:!0,capture:!0});let Nj=(()=>{class n{constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new En(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bD(s)?"keyboard":"mouse"),this._mostRecentTarget=hl(s))},this._onTouchstart=s=>{CD(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hl(s))},this._options={...xj,...o},this.modalityDetected=this._modality.pipe(dD(1)),this.modalityChanged=this.modalityDetected.pipe(function fj(n,t=Ci){return n=n??pj,lt((e,r)=>{let i,o=!0;e.subscribe(nt(r,s=>{const a=t(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Os),i.addEventListener("mousedown",this._onMousedown,Os),i.addEventListener("touchstart",this._onTouchstart,Os)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Os),document.removeEventListener("mousedown",this._onMousedown,Os),document.removeEventListener("touchstart",this._onTouchstart,Os))}}return n.\u0275fac=function(e){return new(e||n)(w(ji),w(Te),w(Re),w(kj,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pj=new R("cdk-focus-monitor-default-options"),dd=sd({passive:!0,capture:!0});let hd=(()=>{class n{constructor(e,r,i,o,s){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Je,this._rootNodeFocusAndBlurListener=a=>{for(let c=hl(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,r=!1){const i=xs(e);if(!this._platform.isBrowser||1!==i.nodeType)return U(null);const o=function WB(n){if(function KB(){if(null==Ig){const n=typeof document<"u"?document.head:null;Ig=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ig}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Je,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const r=xs(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=xs(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=hl(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dd)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Sn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(w(Te),w(ji),w(Nj),w(Re,8),w(Pj,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ED="cdk-high-contrast-black-on-white",SD="cdk-high-contrast-white-on-black",Pg="cdk-high-contrast-active";let Fj=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Xe(Cj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Pg,ED,SD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Pg,ED):2===r&&e.add(Pg,SD)}}}return n.\u0275fac=function(e){return new(e||n)(w(ji),w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lj=new R("cdk-dir-doc",{providedIn:"root",factory:function Uj(){return Xe(Re)}}),Vj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Bj=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ue,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function Hj(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Vj.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(w(Lj,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})();const zj=new R("mat-sanity-checks",{providedIn:"root",factory:function jj(){return!0}});let it=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function YB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(w(Fj),w(zj,8),w(Re))},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[fd,fd]}),n})();function ID(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=fn(t)}}}function Fg(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function pd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=fn(t)}}}let qj=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})();class Yj{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const AD={enterDuration:225,exitDuration:150},Lg=sd({passive:!0}),RD=["mousedown","touchstart"],kD=["mouseup","mouseleave","touchend","touchcancel"];class Zj{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=xs(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...AD,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=r.radius||function Jj(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),a=t-i.left,l=e-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new Yj(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(m),C=()=>this._destroyRipple(m);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",C),g={onTransitionEnd:_,onTransitionCancel:C}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...AD,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=xs(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(RD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kD),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=bD(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!CD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Lg)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(RD.forEach(t=>{this._triggerElement.removeEventListener(t,this,Lg)}),this._pointerUpEventsRegistered&&kD.forEach(t=>{this._triggerElement.removeEventListener(t,this,Lg)}))}}const Xj=new R("mat-ripple-global-options");let Ps=(()=>{class n{constructor(e,r,i,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Zj(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(y(Oe),y(Te),y(ji),y(Xj,8),y(Ni,8))},n.\u0275dir=M({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&kt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Ug=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})(),xD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it]}),n})();const ND=["mat-button",""],OD=["*"],rz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],iz=Fg(ID(pd(class{constructor(n){this._elementRef=n}})));let PD=(()=>{class n extends iz{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of rz)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(y(Oe),y(hd),y(Ni,8))},n.\u0275cmp=Ge({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&Bn(Ps,5),2&e){let i;He(i=Be())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(Ft("disabled",r.disabled||null),kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[z],attrs:ND,ngContentSelectors:OD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(xr(),ce(0,"span",0),cn(1),ue(),Qt(2,"span",1)(3,"span",2)),2&e&&($e(2),kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),dt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Ps],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),oz=(()=>{class n extends PD{constructor(e,r,i,o){super(r,e,i),this._ngZone=o,this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(y(hd),y(Oe),y(Ni,8),y(Te,8))},n.\u0275cmp=Ge({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){2&e&&(Ft("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[z],attrs:ND,ngContentSelectors:OD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(xr(),ce(0,"span",0),cn(1),ue(),Qt(2,"span",1)(3,"span",2)),2&e&&($e(2),kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),dt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Ps],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[Ug,it,it]}),n})();const az=["*",[["mat-toolbar-row"]]],lz=["*","mat-toolbar-row"],cz=Fg(class{constructor(n){this._elementRef=n}});let uz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=M({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),dz=(()=>{class n extends cz{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(y(Oe),y(ji),y(Re))},n.\u0275cmp=Ge({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&Jt(i,uz,5),2&e){let o;He(o=Be())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&kt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[z],ngContentSelectors:lz,decls:2,vars:0,template:function(e,r){1&e&&(xr(az),cn(0),cn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})();function Vg(){return lt((n,t)=>{let e=null;n._refCount++;const r=nt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Hg extends Ze{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,h_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new nn;const e=this.getSubject();t.add(this.source.subscribe(nt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=nn.EMPTY)}return t}refCount(){return Vg()(this)}}function Bg(n){return n&&"function"==typeof n.connect&&!(n instanceof Hg)}class FD{applyChanges(t,e,r,i,o){t.forEachOperation((s,a,l)=>{let c,u;if(null==s.previousIndex){const d=r(s,a,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(e.remove(a),u=3):(c=e.get(a),e.move(c,l),u=2);o&&o({context:c?.context,operation:u,record:s})})}detach(){}}const ml=new R("_ViewRepeater");let fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})(),Iz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[MD,Ug,it,xD,Iu,MD,it,xD,fz]}),n})();const gl={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=gl;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new nn(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=gl;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=gl;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Az extends kg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class Mz extends Ag{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=gl.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(gl.cancelAnimationFrame(e),t._scheduled=void 0)}});let jg,kz=1;const md={};function HD(n){return n in md&&(delete md[n],!0)}const xz={setImmediate(n){const t=kz++;return md[t]=!0,jg||(jg=Promise.resolve()),jg.then(()=>HD(t)&&n()),t},clearImmediate(n){HD(n)}},{setImmediate:Nz,clearImmediate:Oz}=xz,gd={setImmediate(...n){const{delegate:t}=gd;return(t?.setImmediate||Nz)(...n)},clearImmediate(n){const{delegate:t}=gd;return(t?.clearImmediate||Oz)(n)},delegate:void 0};new class Fz extends kg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class Pz extends Ag{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=gd.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(gd.clearImmediate(e),t._scheduled=void 0)}});function Bz(n,t=xg){return function Uz(n){return lt((t,e)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(nt(e,c=>{r=!0,i=c,o||Rn(n(c)).subscribe(o=nt(e,a,l))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function Hz(n=0,t,e=hj){let r=-1;return null!=t&&(D_(t)?e=t:r=t),new Ze(i=>{let o=function Vz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t))}let zz=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new Je,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Bz(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(w(ji),w(Te),w(Re,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[fd,BD,fd,BD]}),n})();const qz=[[["caption"]],[["colgroup"],["col"]]],Kz=["caption","colgroup, col"];function zg(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=fn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Fs=new R("CDK_TABLE");let Ls=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(y(Lt))},n.\u0275dir=M({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Us=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(y(Lt))},n.\u0275dir=M({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),vd=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(y(Lt))},n.\u0275dir=M({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Zz{}const Jz=zg(Zz);let di=(()=>{class n extends Jz{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=fn(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(y(Fs,8))},n.\u0275dir=M({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,i){if(1&e&&(Jt(i,Ls,5),Jt(i,Us,5),Jt(i,vd,5)),2&e){let o;He(o=Be())&&(r.cell=o.first),He(o=Be())&&(r.headerCell=o.first),He(o=Be())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ae([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),z]}),n})();class Gg{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let $g=(()=>{class n extends Gg{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(y(di),y(Oe))},n.\u0275dir=M({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[z]}),n})(),qg=(()=>{class n extends Gg{constructor(e,r){if(super(e,r),1===e._table?._elementRef.nativeElement.nodeType){const i=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(y(di),y(Oe))},n.\u0275dir=M({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[z]}),n})();class zD{constructor(){this.tasks=[],this.endTasks=[]}}const Kg=new R("_COALESCED_STYLE_SCHEDULER");let GD=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Je}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new zD,this._getScheduleObservable().pipe(Sn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new zD;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Se(Promise.resolve(void 0)):this._ngZone.onStable.pipe(zi(1))}}return n.\u0275fac=function(e){return new(e||n)(w(Te))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Wg=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof vl?e.headerCell.template:this instanceof _l?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(y(Lt),y(oi))},n.\u0275dir=M({type:n,features:[Kt]}),n})();class Xz extends Wg{}const e3=zg(Xz);let vl=(()=>{class n extends e3{constructor(e,r,i){super(e,r),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(y(Lt),y(oi),y(Fs,8))},n.\u0275dir=M({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[z,Kt]}),n})();class t3 extends Wg{}const n3=zg(t3);let _l=(()=>{class n extends n3{constructor(e,r,i){super(e,r),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(y(Lt),y(oi),y(Fs,8))},n.\u0275dir=M({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[z,Kt]}),n})(),_d=(()=>{class n extends Wg{constructor(e,r,i){super(e,r),this._table=i}}return n.\u0275fac=function(e){return new(e||n)(y(Lt),y(oi),y(Fs,8))},n.\u0275dir=M({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[z]}),n})(),hi=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(y(Zt))},n.\u0275dir=M({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ge({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Rr(0,0)},dependencies:[hi],encapsulation:2}),n})(),Zg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ge({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Rr(0,0)},dependencies:[hi],encapsulation:2}),n})(),yd=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(y(Lt))},n.\u0275dir=M({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const $D=["top","bottom","left","right"];class r3{constructor(t,e,r,i,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,e)})}updateStickyColumns(t,e,r,i=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!r.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,a=this._getCellWidths(o,i),l=this._getStickyStartColumnPositions(a,e),c=this._getStickyEndColumnPositions(a,r),u=e.lastIndexOf(!0),d=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const m of t)for(let g=0;g<s;g++){const _=m.children[g];e[g]&&this._addStickyStyle(_,f,l[g],g===u),r[g]&&this._addStickyStyle(_,p,c[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,g)=>e[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,g)=>r[g+d]?m:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const i="bottom"===r?t.slice().reverse():t,o="bottom"===r?e.slice().reverse():e,s=[],a=[],l=[];for(let u=0,d=0;u<i.length;u++){if(!o[u])continue;s[u]=d;const h=i[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const c=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<i.length;u++){if(!o[u])continue;const d=s[u],h=u===c;for(const f of l[u])this._addStickyStyle(f,r,d,h)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const i of e)t.style[i]="",t.classList.remove(this._borderCellCss[i]);$D.some(i=>-1===e.indexOf(i)&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const i of $D)t.style[i]&&(r+=e[i]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=t.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let i=0;for(let o=0;o<t.length;o++)e[o]&&(r[o]=i,i+=t[o]);return r}_getStickyEndColumnPositions(t,e){const r=[];let i=0;for(let o=t.length;o>0;o--)e[o]&&(r[o]=i,i+=t[o]);return r}}const Jg=new R("CDK_SPL");let bd=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(y(Zt),y(Oe))},n.\u0275dir=M({type:n,selectors:[["","rowOutlet",""]]}),n})(),Cd=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(y(Zt),y(Oe))},n.\u0275dir=M({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),wd=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(y(Zt),y(Oe))},n.\u0275dir=M({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Ed=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(y(Zt),y(Oe))},n.\u0275dir=M({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Sd=(()=>{class n{constructor(e,r,i,o,s,a,l,c,u,d,h,f){this._differs=e,this._changeDetectorRef=r,this._elementRef=i,this._dir=s,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=f,this._onDestroy=new Je,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ue,this.viewChange=new En({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=fn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=fn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Sn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Bg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&Te.isInAngularZone()?this._ngZone.onStable.pipe(zi(1),Sn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===o&&s.push(r[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let l=s[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,r,i){return this._getRowDefs(e,r).map(s=>{const a=i&&i.has(s)?i.get(s):[];if(a.length){const l=a.shift();return l.dataIndex=r,l}return{data:e,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Td(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Td(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Td(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Td(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,a)=>s||!!a.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(e){this._data=[],Bg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Bg(this.dataSource)?e=this.dataSource.connect(this):function $z(n){return!!n&&(n instanceof Ze||Ve(n.lift)&&Ve(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=U(this.dataSource)),this._renderChangeSubscription=e.pipe(Sn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let i=0;i<e.viewContainer.length;i++){const o=e.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,e))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,i,o={}){const s=e.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(e,r){for(let i of this._getCellTemplates(e))hi.mostRecentCellOutlet&&hi.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,i=e.length;r<i;r++){const s=e.get(r).context;s.count=i,s.first=0===r,s.last=r===i-1,s.even=r%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const i=this._columnDefsByName.get(r);return e.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const s of i.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new r3(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:U()).pipe(Sn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(y(oi),y(Pi),y(Oe),lo("role"),y(Bj,8),y(Re),y(ji),y(ml),y(Kg),y(zz),y(Jg,12),y(Te,8))},n.\u0275cmp=Ge({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,i){if(1&e&&(Jt(i,yd,5),Jt(i,di,5),Jt(i,_d,5),Jt(i,vl,5),Jt(i,_l,5)),2&e){let o;He(o=Be())&&(r._noDataRow=o.first),He(o=Be())&&(r._contentColumnDefs=o),He(o=Be())&&(r._contentRowDefs=o),He(o=Be())&&(r._contentHeaderRowDefs=o),He(o=Be())&&(r._contentFooterRowDefs=o)}},viewQuery:function(e,r){if(1&e&&(Bn(bd,7),Bn(Cd,7),Bn(wd,7),Bn(Ed,7)),2&e){let i;He(i=Be())&&(r._rowOutlet=i.first),He(i=Be())&&(r._headerRowOutlet=i.first),He(i=Be())&&(r._footerRowOutlet=i.first),He(i=Be())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&kt("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ae([{provide:Fs,useExisting:n},{provide:ml,useClass:FD},{provide:Kg,useClass:GD},{provide:Jg,useValue:null}])],ngContentSelectors:Kz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(xr(qz),cn(0),cn(1,1),Rr(2,0)(3,1)(4,2)(5,3))},dependencies:[bd,Cd,wd,Ed],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Td(n,t){return n.concat(Array.from(t))}let s3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[Gz]}),n})();const a3=[[["caption"]],[["colgroup"],["col"]]],l3=["caption","colgroup, col"];let KD=(()=>{class n extends Sd{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275cmp=Ge({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&kt("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[ae([{provide:ml,useClass:FD},{provide:Sd,useExisting:n},{provide:Fs,useExisting:n},{provide:Kg,useClass:GD},{provide:Jg,useValue:null}]),z],ngContentSelectors:l3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(xr(a3),cn(0),cn(1,1),Rr(2,0)(3,1)(4,2)(5,3))},dependencies:[bd,Cd,wd,Ed],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),Xg=(()=>{class n extends Ls{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["","matCellDef",""]],features:[ae([{provide:Ls,useExisting:n}]),z]}),n})(),ev=(()=>{class n extends Us{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["","matHeaderCellDef",""]],features:[ae([{provide:Us,useExisting:n}]),z]}),n})(),tv=(()=>{class n extends di{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ae([{provide:di,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),z]}),n})(),nv=(()=>{class n extends $g{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[z]}),n})(),rv=(()=>{class n extends qg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[z]}),n})(),WD=(()=>{class n extends vl{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ae([{provide:vl,useExisting:n}]),z]}),n})(),YD=(()=>{class n extends _d{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275dir=M({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ae([{provide:_d,useExisting:n}]),z]}),n})(),QD=(()=>{class n extends Yg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275cmp=Ge({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[ae([{provide:Yg,useExisting:n}]),z],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Rr(0,0)},dependencies:[hi],encapsulation:2}),n})(),ZD=(()=>{class n extends Zg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=we(n)))(r||n)}}(),n.\u0275cmp=Ge({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[ae([{provide:Zg,useExisting:n}]),z],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&Rr(0,0)},dependencies:[hi],encapsulation:2}),n})(),_3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[s3,it,it]}),n})();const b3=["*",[["mat-card-footer"]]],C3=["*","mat-card-footer"];let w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=M({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),E3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=M({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=M({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),T3=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(y(Ni,8))},n.\u0275cmp=Ge({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:C3,decls:2,vars:0,template:function(e,r){1&e&&(xr(b3),cn(0),cn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})(),JD=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[JD]}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})(),j3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[Ug,it,XD,nI,it,nI]}),n})();function Vs(n,t){const e=Ve(n)?n:()=>n,r=i=>i.error(e());return new Ze(t?i=>t.schedule(r,0,i):r)}function _r(n){return lt((t,e)=>{let o,r=null,i=!1;r=t.subscribe(nt(e,void 0,void 0,s=>{o=Rn(n(s,_r(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Dd(n){return lt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Vr(n,t){return Ve(t)?Pt(n,t,1):Pt(n,1)}class rI{}class iI{}class fi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof fi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new fi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof fi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class z3{encodeKey(t){return oI(t)}encodeValue(t){return oI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const $3=/%(\d[a-f0-9])/gi,q3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oI(n){return encodeURIComponent(n).replace($3,(t,e)=>q3[e]??t)}function Id(n){return`${n}`}class Gi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new z3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(Id):[Id(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Gi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Id(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Id(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class K3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function sI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aI(n){return typeof Blob<"u"&&n instanceof Blob}function lI(n){return typeof FormData<"u"&&n instanceof FormData}class yl{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function W3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new fi),this.context||(this.context=new K3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Gi,this.urlWithParams=e}serializeBody(){return null===this.body?null:sI(this.body)||aI(this.body)||lI(this.body)||function Y3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lI(this.body)?null:aI(this.body)?this.body.type||null:sI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new yl(e,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var yt=(()=>((yt=yt||{})[yt.Sent=0]="Sent",yt[yt.UploadProgress=1]="UploadProgress",yt[yt.ResponseHeader=2]="ResponseHeader",yt[yt.DownloadProgress=3]="DownloadProgress",yt[yt.Response=4]="Response",yt[yt.User=5]="User",yt))();class iv{constructor(t,e=200,r="OK"){this.headers=t.headers||new fi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ov extends iv{constructor(t={}){super(t),this.type=yt.ResponseHeader}clone(t={}){return new ov({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Md extends iv{constructor(t={}){super(t),this.type=yt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Md({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cI extends iv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function sv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hs=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof yl)o=e;else{let l,c;l=i.headers instanceof fi?i.headers:new fi(i.headers),i.params&&(c=i.params instanceof Gi?i.params:new Gi({fromObject:i.params})),o=new yl(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=U(o).pipe(Vr(l=>this.handler.handle(l)));if(e instanceof yl||"events"===i.observe)return s;const a=s.pipe(Vt(l=>l instanceof Md));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Z(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Z(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Gi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,sv(i,r))}post(e,r,i={}){return this.request("POST",e,sv(i,r))}put(e,r,i={}){return this.request("PUT",e,sv(i,r))}}return n.\u0275fac=function(e){return new(e||n)(w(rI))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class uI{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const av=new R("HTTP_INTERCEPTORS");let Q3=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Z3=/^\)\]\}',?\n/;let dI=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new fi(i.getAllResponseHeaders()),m=function J3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new ov({headers:p,status:i.status,statusText:f,url:m}),s},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let C=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof _){const b=_;_=_.replace(Z3,"");try{_=""!==_?JSON.parse(_):null}catch(k){_=b,C&&(C=!1,_={error:k,text:_})}}C?(r.next(new Md({body:_,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new cI({error:_,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new cI({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:yt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:yt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),e.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:yt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),e.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(w(VS))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const lv=new R("XSRF_COOKIE_NAME"),cv=new R("XSRF_HEADER_NAME");class hI{}let X3=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=RS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(w(Re),w(du),w(lv))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),uv=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(w(hI),w(cv))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),eG=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(av,[]);this.chain=r.reduceRight((i,o)=>new uI(i,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(w(iI),w(Cn))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),tG=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:uv,useClass:Q3}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:lv,useValue:e.cookieName}:[],e.headerName?{provide:cv,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[uv,{provide:av,useExisting:uv,multi:!0},{provide:hI,useClass:X3},{provide:lv,useValue:"XSRF-TOKEN"},{provide:cv,useValue:"X-XSRF-TOKEN"}]}),n})(),nG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[Hs,{provide:rI,useClass:eG},dI,{provide:iI,useExisting:dI}],imports:[tG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),lG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[it,it]}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({}),n})(),hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[Iu,it,XD,it]}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[qj],imports:[vI,hv,it,vI,hv]}),n})();const kd=oa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _I(n){return new Ze(t=>{Rn(n()).subscribe(t)})}function nr(n,t){return lt((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(nt(r,l=>{i?.unsubscribe();let c=0;const u=o++;Rn(n(l,u)).subscribe(i=nt(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xd(n){return lt((t,e)=>{let r=!1;t.subscribe(nt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function yI(n=pG){return lt((t,e)=>{let r=!1;t.subscribe(nt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function pG(){return new kd}function $i(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Vt((i,o)=>n(i,o,r)):Ci,zi(1),e?xd(t):yI(()=>new kd))}function mG(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(nt(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function bI(n,t){return lt(mG(n,t,arguments.length>=2,!0))}function fv(n){return n<=0?()=>Sr:lt((t,e)=>{let r=[];t.subscribe(nt(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function CI(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Vt((i,o)=>n(i,o,r)):Ci,fv(1),e?xd(t):yI(()=>new kd))}const fe="primary",Cl=Symbol("RouteTitle");class _G{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bs(n){return new _G(n)}function yG(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!wI(n[i],t[i]))return!1;return!0}function wI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function EI(n){return Array.prototype.concat.apply([],n)}function SI(n){return n.length>0?n[n.length-1]:null}function Ht(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function qi(n){return Sp(n)?n:La(n)?Se(Promise.resolve(n)):U(n)}const wG={exact:function II(n,t,e){if(!Ao(n.segments,t.segments)||!Nd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!II(n.children[r],t.children[r],e))return!1;return!0},subset:MI},TI={exact:function EG(n,t){return Hr(n,t)},subset:function SG(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wI(n[e],t[e]))},ignored:()=>!0};function DI(n,t,e){return wG[e.paths](n.root,t.root,e.matrixParams)&&TI[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function MI(n,t,e){return AI(n,t,t.segments,e)}function AI(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Ao(i,e)||t.hasChildren()||!Nd(i,e,r))}if(n.segments.length===e.length){if(!Ao(n.segments,e)||!Nd(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!MI(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ao(n.segments,i)&&Nd(n.segments,i,r)&&n.children[fe])&&AI(n.children[fe],t,o,r)}}function Nd(n,t,e){return t.every((r,i)=>TI[e](n[i].parameters,r.parameters))}class Mo{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return IG.serialize(this)}}class pe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ht(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}}class wl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bs(this.parameters)),this._parameterMap}toString(){return NI(this)}}function Ao(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let RI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return new mv},providedIn:"root"}),n})();class mv{parse(t){const e=new FG(t);return new Mo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${El(t.root,!0)}`,r=function RG(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Pd(e)}=${Pd(i)}`).join("&"):`${Pd(e)}=${Pd(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function MG(n){return encodeURI(n)}(t.fragment)}`:""}`}}const IG=new mv;function Od(n){return n.segments.map(t=>NI(t)).join("/")}function El(n,t){if(!n.hasChildren())return Od(n);if(t){const e=n.children[fe]?El(n.children[fe],!1):"",r=[];return Ht(n.children,(i,o)=>{o!==fe&&r.push(`${o}:${El(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function DG(n,t){let e=[];return Ht(n.children,(r,i)=>{i===fe&&(e=e.concat(t(r,i)))}),Ht(n.children,(r,i)=>{i!==fe&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===fe?[El(n.children[fe],!1)]:[`${i}:${El(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fe]?`${Od(n)}/${e[0]}`:`${Od(n)}/(${e.join("//")})`}}function kI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return kI(n).replace(/%3B/gi,";")}function gv(n){return kI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fd(n){return decodeURIComponent(n)}function xI(n){return Fd(n.replace(/\+/g,"%20"))}function NI(n){return`${gv(n.path)}${function AG(n){return Object.keys(n).map(t=>`;${gv(t)}=${gv(n[t])}`).join("")}(n.parameters)}`}const kG=/^[^\/()?;=#]+/;function Ld(n){const t=n.match(kG);return t?t[0]:""}const xG=/^[^=?&#]+/,OG=/^[^&#]+/;class FG{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[fe]=new pe(t,e)),r}parseSegment(){const t=Ld(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new wl(Fd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ld(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Ld(this.remaining);i&&(r=i,this.capture(r))}t[Fd(e)]=Fd(r)}parseQueryParam(t){const e=function NG(n){const t=n.match(xG);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function PG(n){const t=n.match(OG);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=xI(e),o=xI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ld(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=fe);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[fe]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function vv(n){return n.segments.length>0?new pe([],{[fe]:n}):n}function Ud(n){const t={};for(const r of Object.keys(n.children)){const o=Ud(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function LG(n){if(1===n.numberOfChildren&&n.children[fe]){const t=n.children[fe];return new pe(n.segments.concat(t.segments),t.children)}return n}(new pe(n.segments,t))}function Ro(n){return n instanceof Mo}function HG(n,t,e,r,i){if(0===e.length)return js(t.root,t.root,t.root,r,i);const o=function FI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PI(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Ht(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new PI(e,t,r)}(e);return o.toRoot()?js(t.root,t.root,new pe([],{}),r,i):function s(l){const c=function jG(n,t,e,r){if(n.isAbsolute)return new zs(t.root,!0,0);if(-1===r)return new zs(e,e===t.root,0);return function LI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new zs(r,!1,i-o)}(e,r+(Sl(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,l),u=c.processChildren?Dl(c.segmentGroup,c.index,o.commands):yv(c.segmentGroup,c.index,o.commands);return js(t.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Sl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tl(n){return"object"==typeof n&&null!=n&&n.outlets}function js(n,t,e,r,i){let s,o={};r&&Ht(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:OI(n,t,e);const a=vv(Ud(s));return new Mo(a,o,i)}function OI(n,t,e){const r={};return Ht(n.children,(i,o)=>{r[o]=i===t?e:OI(i,t,e)}),new pe(n.segments,r)}class PI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Sl(r[0]))throw new E(4003,!1);const i=r.find(Tl);if(i&&i!==SI(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zs{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function yv(n,t,e){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return Dl(n,t,e);const r=function GG(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Tl(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!VI(l,c,s))return o;r+=2}else{if(!VI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new pe(n.segments.slice(0,r.pathIndex),{});return o.children[fe]=new pe(n.segments.slice(r.pathIndex),n.children),Dl(o,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?bv(n,t,e):r.match?Dl(n,0,i):bv(n,t,e)}function Dl(n,t,e){if(0===e.length)return new pe(n.segments,{});{const r=function zG(n){return Tl(n[0])?n[0].outlets:{[fe]:n}}(e),i={};return Ht(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yv(n.children[s],t,o))}),Ht(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new pe(n.segments,i)}}function bv(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Tl(o)){const l=$G(o.outlets);return new pe(r,l)}if(0===i&&Sl(e[0])){r.push(new wl(n.segments[t].path,UI(e[0]))),i++;continue}const s=Tl(o)?o.outlets[fe]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Sl(a)?(r.push(new wl(s,UI(a))),i+=2):(r.push(new wl(s,{})),i++)}return new pe(r,{})}function $G(n){const t={};return Ht(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=bv(new pe([],{}),0,e))}),t}function UI(n){const t={};return Ht(n,(e,r)=>t[r]=`${e}`),t}function VI(n,t,e){return n==e.path&&Hr(t,e.parameters)}class pi{constructor(t,e){this.id=t,this.url=e}}class Cv extends pi{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ko extends pi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vd extends pi{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HI extends pi{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qG extends pi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KG extends pi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WG extends pi{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YG extends pi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QG extends pi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XG{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e${constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t${constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n${constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BI{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=wv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ev(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ev(t,this._root).map(e=>e.value)}}function wv(n,t){if(n===t.value)return t;for(const e of t.children){const r=wv(n,e);if(r)return r}return null}function Ev(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Ev(n,e);if(r.length)return r.unshift(t),r}return[]}class mi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zI extends jI{constructor(t,e){super(t),this.snapshot=e,Sv(this,t)}toString(){return this.snapshot.toString()}}function GI(n,t){const e=function i$(n,t){const s=new Hd([],{},{},"",{},fe,t,null,n.root,-1,{});return new qI("",new mi(s,[]))}(n,t),r=new En([new wl("",{})]),i=new En({}),o=new En({}),s=new En({}),a=new En(""),l=new Ki(r,i,s,a,o,fe,t,e.root);return l.snapshot=e.root,new zI(new mi(l,[]),e)}class Ki{constructor(t,e,r,i,o,s,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(Z(c=>c[Cl]))??U(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(t=>Bs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(t=>Bs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $I(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function o$(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hd{constructor(t,e,r,i,o,s,a,l,c,u,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Cl],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qI extends jI{constructor(t,e){super(e),this.url=t,Sv(this,e)}toString(){return KI(this._root)}}function Sv(n,t){t.value._routerState=n,t.children.forEach(e=>Sv(n,e))}function KI(n){const t=n.children.length>0?` { ${n.children.map(KI).join(", ")} } `:"";return`${n.value}${t}`}function Tv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hr(t.params,e.params)||n.params.next(e.params),function bG(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Dv(n,t){const e=Hr(n.params,t.params)&&function TG(n,t){return Ao(n,t)&&n.every((e,r)=>Hr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Dv(n.parent,t.parent))}function Il(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function a$(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Il(n,r,i);return Il(n,r)})}(n,t,e);return new mi(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Il(n,a)),s}}const r=function l$(n){return new Ki(new En(n.url),new En(n.params),new En(n.queryParams),new En(n.fragment),new En(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Il(n,o));return new mi(r,i)}}const Iv="ngNavigationCancelingError";function WI(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Ro(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=YI(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function YI(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Iv]=!0,r.cancellationCode=t,e&&(r.url=e),r}function QI(n){return ZI(n)&&Ro(n.url)}function ZI(n){return n&&n[Iv]}class c${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ml,this.attachRef=null}}let Ml=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new c$,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bd=!1;let Mv=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.name=i||fe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,Bd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,Bd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,Bd);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new E(4013,Bd);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new u$(e,a,i.injector);if(r&&function d$(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(y(Ml),y(Zt),lo("name"),y(Pi),y(Ii))},n.\u0275dir=M({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class u${constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ki?this.route:t===Ml?this.childContexts:this.parent.get(t,e)}}let Av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ge({type:n,selectors:[["ng-component"]],standalone:!0,features:[tE],decls:1,vars:0,template:function(e,r){1&e&&Qt(0,"router-outlet")},dependencies:[Mv],encapsulation:2}),n})();function JI(n,t){return n.providers&&!n._injector&&(n._injector=ou(n.providers,t,`Route: ${n.path}`)),n._injector??t}function kv(n){const t=n.children&&n.children.map(kv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==fe&&(e.component=Av),e}function rr(n){return n.outlet||fe}function XI(n,t){const e=n.filter(r=>rr(r)===t);return e.push(...n.filter(r=>rr(r)!==t)),e}function Al(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class g${constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Tv(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Gs(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Ht(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Gs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Gs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=Gs(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new n$(o.value.snapshot))}),t.children.length&&this.forwardEvent(new e$(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Tv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tv(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Al(i.snapshot),l=a?.get(ka)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class eM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jd{constructor(t,e){this.component=t,this.route=e}}function v$(n,t,e){const r=n._root;return Rl(r,t?t._root:null,e,[r.value])}function $s(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function KA(n){return null!==oc(n)}(n)?t.get(n):n:r}function Rl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gs(t);return n.children.forEach(s=>{(function y$(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function b$(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ao(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ao(n.url,t.url)||!Hr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dv(n,t)||!Hr(n.queryParams,t.queryParams);default:return!Dv(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new eM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rl(n,t,o.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jd(a.outlet.component,s))}else s&&kl(t,a,i),i.canActivateChecks.push(new eM(r)),Rl(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Ht(o,(s,a)=>kl(s,e.getContext(a),i)),i}function kl(n,t,e){const r=Gs(n),i=n.value;Ht(r,(o,s)=>{kl(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new jd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function xl(n){return"function"==typeof n}function xv(n){return n instanceof kd||"EmptyError"===n?.name}const zd=Symbol("INITIAL_VALUE");function qs(){return nr(n=>Og(n.map(t=>t.pipe(zi(1),ud(zd)))).pipe(Z(t=>{for(const e of t)if(!0!==e){if(e===zd)return zd;if(!1===e||e instanceof Mo)return e}return!0}),Vt(t=>t!==zd),zi(1)))}function tM(n){return function pA(...n){return c_(n)}(_t(t=>{if(Ro(t))throw WI(0,t)}),Z(t=>!0===t))}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nM(n,t,e,r,i){const o=Ov(n,t,e);return o.matched?function L$(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?U(i.map(s=>{const a=$s(s,n);return qi(function D$(n){return n&&xl(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(qs(),tM()):U(!0)}(r=JI(t,r),t,e).pipe(Z(s=>!0===s?o:{...Nv})):U(o)}function Ov(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Nv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||yG)(e,n,t);if(!i)return{...Nv};const o={};Ht(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Gd(n,t,e,r,i="corrected"){if(e.length>0&&function H$(n,t,e){return e.some(r=>$d(n,t,r)&&rr(r)!==fe)}(n,e,r)){const s=new pe(t,function V$(n,t,e,r){const i={};i[fe]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&rr(o)!==fe){const s=new pe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[rr(o)]=s}return i}(n,t,r,new pe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function B$(n,t,e){return e.some(r=>$d(n,t,r))}(n,e,r)){const s=new pe(n.segments,function U$(n,t,e,r,i,o){const s={};for(const a of r)if($d(n,e,a)&&!i[rr(a)]){const l=new pe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[rr(a)]=l}return{...i,...s}}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new pe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function $d(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function rM(n,t,e,r){return!!(rr(n)===r||r!==fe&&$d(t,e,n))&&("**"===n.path||Ov(t,n,e).matched)}function iM(n,t,e){return 0===t.length&&!n.children[e]}const qd=!1;class Kd{constructor(t){this.segmentGroup=t||null}}class oM{constructor(t){this.urlTree=t}}function Nl(n){return Vs(new Kd(n))}function sM(n){return Vs(new oM(n))}class $${constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Gd(this.urlTree.root,[],[],this.config).segmentGroup,e=new pe(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,fe).pipe(Z(o=>this.createUrlTree(Ud(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_r(o=>{if(o instanceof oM)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Kd?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,fe).pipe(Z(i=>this.createUrlTree(Ud(i),t.queryParams,t.fragment))).pipe(_r(i=>{throw i instanceof Kd?this.noMatchError(i):i}))}noMatchError(t){return new E(4002,qd)}createUrlTree(t,e,r){const i=vv(t);return new Mo(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Z(o=>new pe([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Se(i).pipe(Vr(o=>{const s=r.children[o],a=XI(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(Z(l=>({segment:l,outlet:o})))}),bI((o,s)=>(o[s.outlet]=s.segment,o),{}),CI())}expandSegment(t,e,r,i,o,s){return Se(r).pipe(Vr(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(_r(c=>{if(c instanceof Kd)return U(null);throw c}))),$i(a=>!!a),_r((a,l)=>{if(xv(a))return iM(e,i,o)?U(new pe([],{})):Nl(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return rM(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Nl(e):Nl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sM(o):this.lineralizeSegments(r,o).pipe(Pt(s=>{const a=new pe(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Ov(e,i,o);if(!a)return Nl(e);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?sM(d):this.lineralizeSegments(i,d).pipe(Pt(h=>this.expandSegment(t,e,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=JI(r,t),r.loadChildren?(r._loadedRoutes?U({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Z(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):U(new pe(i,{}))):nM(e,r,i,t).pipe(nr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(Pt(u=>{const d=u.injector??t,h=u.routes,{segmentGroup:f,slicedSegments:p}=Gd(e,a,l,h),m=new pe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Z(b=>new pe(a,b)));if(0===h.length&&0===p.length)return U(new pe(a,{}));const g=rr(r)===o;return this.expandSegment(d,m,h,p,g?fe:o,!0).pipe(Z(C=>new pe(a.concat(C.segments),C.children)))})):Nl(e)))}getChildConfig(t,e,r){return e.children?U({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?U({routes:e._loadedRoutes,injector:e._loadedInjector}):function F$(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(s=>{const a=$s(s,n);return qi(function w$(n){return n&&xl(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(qs(),tM())}(t,e,r).pipe(Pt(i=>i?this.configLoader.loadChildren(t,e).pipe(_t(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function z$(n){return Vs(YI(qd,3))}())):U({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[fe])return Vs(new E(4e3,qd));i=i.children[fe]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Mo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Ht(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return Ht(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new pe(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new E(4001,qd);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class K${}class Q${constructor(t,e,r,i,o,s,a,l){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const t=Gd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,fe).pipe(Z(e=>{if(null===e)return null;const r=new Hd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new mi(r,e),o=new qI(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=$I(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Se(Object.keys(r.children)).pipe(Vr(i=>{const o=r.children[i],s=XI(e,i);return this.processSegmentGroup(t,s,o,i)}),bI((i,o)=>i&&o?(i.push(...o),i):null),function gG(n,t=!1){return lt((e,r)=>{let i=0;e.subscribe(nt(r,o=>{const s=n(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),xd(null),CI(),Z(i=>{if(null===i)return null;const o=aM(i);return function Z$(n){n.sort((t,e)=>t.value.outlet===fe?-1:e.value.outlet===fe?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Se(e).pipe(Vr(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),$i(s=>!!s),_r(s=>{if(xv(s))return iM(r,i,o)?U([]):U(null);throw s}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!rM(e,r,i,o))return U(null);let s;if("**"===e.path){const a=i.length>0?SI(i).parameters:{},l=cM(r)+i.length;s=U({snapshot:new Hd(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dM(e),rr(e),e.component??e._loadedComponent??null,e,lM(r),l,hM(e),l),consumedSegments:[],remainingSegments:[]})}else s=nM(r,e,i,t).pipe(Z(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=cM(r)+l.length;return{snapshot:new Hd(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dM(e),rr(e),e.component??e._loadedComponent??null,e,lM(r),d,hM(e),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(nr(a=>{if(null===a)return U(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function J$(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:f,slicedSegments:p}=Gd(r,c,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Z(g=>null===g?null:[new mi(l,g)]));if(0===h.length&&0===p.length)return U([new mi(l,[])]);const m=rr(e)===o;return this.processSegment(d,h,f,p,m?fe:o).pipe(Z(g=>null===g?null:[new mi(l,g)]))}))}}function X$(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function aM(n){const t=[],e=new Set;for(const r of n){if(!X$(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=aM(r.children);t.push(new mi(r.value,i))}return t.filter(r=>!e.has(r))}function lM(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cM(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function dM(n){return n.data||{}}function hM(n){return n.resolve||{}}function fM(n){return"string"==typeof n.title||null===n.title}function Pv(n){return nr(t=>{const e=n(t);return e?Se(e).pipe(Z(()=>t)):U(t)})}let pM=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===fe);return r}getResolvedTitleForRoute(e){return e.data[Cl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=P({token:n,factory:function(){return Xe(mM)},providedIn:"root"}),n})(),mM=(()=>{class n extends pM{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(w(s0))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aq{}class cq extends class lq{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Yd=new R("",{providedIn:"root",factory:()=>({})}),Fv=new R("ROUTES");let Lv=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return U(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=qi(e.loadComponent()).pipe(_t(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Dd(()=>{this.componentLoaders.delete(e)})),i=new Hg(r,()=>new Je).pipe(Vg());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Z(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(e).injector,c=EI(l.get(Fv,[],W.Self|W.Optional)));return{routes:c.map(kv),injector:l}}),Dd(()=>{this.childrenLoaders.delete(r)})),s=new Hg(o,()=>new Je).pipe(Vg());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return qi(e()).pipe(Pt(r=>r instanceof Xw||Array.isArray(r)?U(r):Se(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(w(Cn),w(Qp))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dq{}class hq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fq(n){throw n}function pq(n,t,e){return t.parse("/")}const mq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vM(){const n=Xe(RI),t=Xe(Ml),e=Xe(Ms),r=Xe(Cn),i=Xe(Qp),o=Xe(Fv,{optional:!0})??[],s=Xe(Yd,{optional:!0})??{},a=Xe(mM),l=Xe(pM,{optional:!0}),c=Xe(dq,{optional:!0}),u=Xe(aq,{optional:!0}),d=new Mt(null,n,t,e,r,i,EI(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function vq(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let Mt=(()=>{class n{constructor(e,r,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je,this.errorHandler=fq,this.malformedUriErrorHandler=pq,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>U(void 0),this.urlHandlingStrategy=new hq,this.routeReuseStrategy=new cq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Lv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new JG(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new ZG(h)),this.ngModule=s.get(_o),this.console=s.get(I1);const d=s.get(Te);this.isNgZoneEnabled=d instanceof Te&&Te.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function CG(){return new Mo(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GI(this.currentUrlTree,this.rootComponentType),this.transitions=new En({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Vt(i=>0!==i.id),Z(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),nr(i=>{let o=!1,s=!1;return U(i).pipe(_t(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return _M(a.source)&&(this.browserUrlTree=a.extractedUrl),U(a).pipe(nr(d=>{const h=this.transitions.getValue();return r.next(new Cv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Sr:Promise.resolve(d)}),function q$(n,t,e,r){return nr(i=>function G$(n,t,e,r,i){return new $$(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(Z(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_t(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function tq(n,t,e,r,i,o){return Pt(s=>function Y$(n,t,e,r,i,o,s="emptyOnly",a="legacy"){return new Q$(n,t,e,r,i,s,a,o).recognize().pipe(nr(l=>null===l?function W$(n){return new Ze(t=>t.error(n))}(new K$):U(l)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Z(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),_t(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new qG(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,_=new Cv(h,this.serializeUrl(f),p,m);r.next(_);const C=GI(f,this.rootComponentType).snapshot;return U(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Sr}),_t(a=>{const l=new KG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Z(a=>i={...a,guards:v$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function M$(n,t){return Pt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?U({...e,guardsResult:!0}):function A$(n,t,e,r){return Se(n).pipe(Pt(i=>function P$(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(a=>{const l=Al(t)??i,c=$s(a,l);return qi(function T$(n){return n&&xl(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,r):l.runInContext(()=>c(n,t,e,r))).pipe($i())})).pipe(qs()):U(!0)}(i.component,i.route,e,t,r)),$i(i=>!0!==i,!0))}(s,r,i,n).pipe(Pt(a=>a&&function C$(n){return"boolean"==typeof n}(a)?function R$(n,t,e,r){return Se(t).pipe(Vr(i=>cd(function x$(n,t){return null!==n&&t&&t(new XG(n)),U(!0)}(i.route.parent,r),function k$(n,t){return null!==n&&t&&t(new t$(n)),U(!0)}(i.route,r),function O$(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function _$(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>_I(()=>U(s.guards.map(l=>{const c=Al(s.node)??e,u=$s(l,c);return qi(function S$(n){return n&&xl(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe($i())})).pipe(qs())));return U(o).pipe(qs())}(n,i.path,e),function N$(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(o=>_I(()=>{const s=Al(t)??e,a=$s(o,s);return qi(function E$(n){return n&&xl(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe($i())}));return U(i).pipe(qs())}(n,i.route,e))),$i(i=>!0!==i,!0))}(r,o,n,t):U(a)),Z(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_t(a=>{if(i.guardsResult=a.guardsResult,Ro(a.guardsResult))throw WI(0,a.guardsResult);const l=new WG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Pv(a=>{if(a.guards.canActivateChecks.length)return U(a).pipe(_t(l=>{const c=new YG(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),nr(l=>{let c=!1;return U(l).pipe(function nq(n,t){return Pt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return U(e);let o=0;return Se(i).pipe(Vr(s=>function rq(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!fM(i)&&(o[Cl]=i.title),function iq(n,t,e,r){const i=function oq(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return U({});const o={};return Se(i).pipe(Pt(s=>function sq(n,t,e,r){const i=Al(t)??r,o=$s(n,i);return qi(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe($i(),_t(a=>{o[s]=a}))),fv(1),function vG(n){return Z(()=>n)}(o),_r(s=>xv(s)?Sr:Vs(s)))}(o,n,t,r).pipe(Z(s=>(n._resolvedData=s,n.data=$I(n,e).resolve,i&&fM(i)&&(n.data[Cl]=i.title),null)))}(s.route,r,n,t)),_t(()=>o++),fv(1),Pt(s=>o===i.length?U(e):Sr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_t({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),_t(l=>{const c=new QG(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Pv(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(_t(d=>{c.component=d}),Z(()=>{})));for(const d of c.children)u.push(...l(d));return u};return Og(l(a.targetSnapshot.root)).pipe(xd(),zi(1))}),Pv(()=>this.afterPreactivation()),Z(a=>{const l=function s$(n,t,e){const r=Il(n,t._root,e?e._root:void 0);return new zI(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),_t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Z(r=>(new g$(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_t({next(){o=!0},complete(){o=!0}}),Dd(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),_r(a=>{if(s=!0,ZI(a)){QI(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Vd(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),QI(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_M(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new HI(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Sr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(kv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),HG(c,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Ro(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function _q(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new E(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...mq}:!1===r?{...gq}:r,Ro(e))return DI(this.currentUrlTree,e,i);const o=this.parseUrl(e);return DI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ko(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new Vd(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Bc()},n.\u0275prov=P({token:n,factory:function(){return vM()},providedIn:"root"}),n})();function _M(n){return"imperative"!==n}let Zd=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Je,this.subscription=e.events.subscribe(o=>{o instanceof ko&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=si(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=si(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=si(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,s){return!!(0!==e||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(y(Mt),y(Ki),y(bo))},n.\u0275dir=M({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&mt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Ft("target",r.target)("href",r.href,Lf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Kt]}),n})();class yM{}let Cq=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(e=>e instanceof ko),Vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ou(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(Bo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):U(null);const o=i.pipe(Pt(s=>null===s?U(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?Se([o,this.loader.loadComponent(r)]).pipe(Bo()):o})}}return n.\u0275fac=function(e){return new(e||n)(w(Mt),w(Qp),w(Ii),w(yM),w(Lv))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vv=new R("");let bM=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ko&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof BI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new BI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Bc()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();function Ks(n,t){return{\u0275kind:n,\u0275providers:t}}function Hv(n){return[{provide:Fv,multi:!0,useValue:n}]}function wM(){const n=Xe(Cn);return t=>{const e=n.get(Ya);if(t!==e.components[0])return;const r=n.get(Mt),i=n.get(EM);1===n.get(Bv)&&r.initialNavigation(),n.get(SM,null,W.Optional)?.setUpPreloading(),n.get(Vv,null,W.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const EM=new R("",{factory:()=>new Je}),Bv=new R("",{providedIn:"root",factory:()=>1});const SM=new R("");function Tq(n){return Ks(0,[{provide:SM,useExisting:Cq},{provide:yM,useExisting:n}])}const TM=new R("ROUTER_FORROOT_GUARD"),Dq=[Ms,{provide:RI,useClass:mv},{provide:Mt,useFactory:vM},Ml,{provide:Ki,useFactory:function CM(n){return n.routerState.root},deps:[Mt]},Lv];function Iq(){return new YE("Router",Mt)}let DM=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Dq,[],Hv(e),{provide:TM,useFactory:kq,deps:[[Mt,new Di,new is]]},{provide:Yd,useValue:r||{}},r?.useHash?{provide:bo,useClass:mL}:{provide:bo,useClass:bS},{provide:Vv,useFactory:()=>{const n=Xe(Mt),t=Xe(L2),e=Xe(Yd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new bM(n,t,e)}},r?.preloadingStrategy?Tq(r.preloadingStrategy).\u0275providers:[],{provide:YE,multi:!0,useFactory:Iq},r?.initialNavigation?xq(r):[],[{provide:IM,useFactory:wM},{provide:jE,multi:!0,useExisting:IM}]]}}static forChild(e){return{ngModule:n,providers:[Hv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(w(TM,8))},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[Av]}),n})();function kq(n){return"guarded"}function xq(n){return["disabled"===n.initialNavigation?Ks(3,[{provide:cu,multi:!0,useFactory:()=>{const t=Xe(Mt);return()=>{t.setUpLocationChangeListener()}}},{provide:Bv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ks(2,[{provide:Bv,useValue:0},{provide:cu,multi:!0,deps:[Cn],useFactory:t=>{const e=t.get(fL,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(Mt),a=t.get(EM);(function i(o){t.get(Mt).events.pipe(Vt(a=>a instanceof ko||a instanceof Vd||a instanceof HI),Z(a=>a instanceof ko||a instanceof Vd&&(0===a.code||1===a.code)&&null),Vt(a=>null!==a),zi(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?U(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const IM=new R("");var jv=function(n,t){return(jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Tn(n,t){function e(){this.constructor=n}jv(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Qe=function(){return Qe=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qe.apply(this,arguments)};function ee(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function te(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function eh(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),i=0;for(t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var v={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ol=[v.OPENID_SCOPE,v.PROFILE_SCOPE,v.OFFLINE_ACCESS_SCOPE],MM=eh(Ol,[v.EMAIL_SCOPE]),Dn=(()=>{return(n=Dn||(Dn={})).CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info",n.X_MS_REQUEST_ID="x-ms-request-id",n.X_MS_HTTP_VERSION="x-ms-httpver",Dn;var n})(),bt=(()=>{return(n=bt||(bt={})).ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account",n.ACTIVE_ACCOUNT_FILTERS="active-account-filters",bt;var n})(),Pl=(()=>{return(n=Pl||(Pl={})).COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",Pl;var n})(),re=(()=>{return(n=re||(re={})).CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.X_APP_NAME="x-app-name",n.X_APP_VER="x-app-ver",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code",n.NATIVE_BROKER="nativebroker",n.LOGOUT_HINT="logout_hint",re;var n})(),xo=(()=>{return(n=xo||(xo={})).ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc",xo;var n})(),Bt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Ws=(()=>{return(n=Ws||(Ws={})).ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier",Ws;var n})(),AM={PLAIN:"plain",S256:"S256"},Fl=(()=>{return(n=Fl||(Fl={})).QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post",Fl;var n})(),Ll=(()=>{return(n=Ll||(Ll={})).IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",Ll;var n})(),Br=(()=>{return(n=Br||(Br={})).MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic",Br;var n})(),pn=(()=>{return(n=pn||(pn={})).CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR=".",pn;var n})(),_e=(()=>{return(n=_e||(_e={})).ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken",_e;var n})(),Wi=(()=>{return(n=Wi||(Wi={})).ACCOUNT="Account",n.CREDENTIAL="Credential",n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.REFRESH_TOKEN="RefreshToken",n.APP_METADATA="AppMetadata",n.TEMPORARY="TempCache",n.TELEMETRY="Telemetry",n.UNDEFINED="Undefined",n.THROTTLING="Throttling",Wi;var n})(),jr=(()=>{return(n=jr||(jr={}))[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED",jr;var n})(),zv="appmetadata",Gn=(()=>{return(n=Gn||(Gn={})).CONFIG="config",n.CACHE="cache",n.NETWORK="network",n.HARDCODED_VALUES="hardcoded_values",Gn;var n})(),jt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Pe=(()=>{return(n=Pe||(Pe={})).BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert",Pe;var n})(),Hl=(()=>{return(n=Hl||(Hl={})).username="username",n.password="password",Hl;var n})(),No=(()=>{return(n=No||(No={}))[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest",No;var n})(),gi=(()=>{return(n=gi||(gi={})).FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4",gi;var n})(),Yi=(()=>{return(n=Yi||(Yi={})).CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5",Yi;var n})(),Qi=(()=>{return(n=Qi||(Qi={})).NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4",Qi;var n})(),nh=(()=>{return(n=nh||(nh={})).Jwt="JWT",n.Jwk="JWK",nh;var n})(),Bl_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",zr=(()=>{return(n=zr||(zr={})).HandshakeRequest="Handshake",n.HandshakeResponse="HandshakeResponse",n.GetToken="GetToken",n.Response="Response",zr;var n})(),xt=(()=>{return(n=xt||(xt={})).LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage",xt;var n})(),br=(()=>{return(n=br||(br={})).GET="GET",n.POST="POST",br;var n})(),Ce=(()=>{return(n=Ce||(Ce={})).AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId",n.NATIVE_REQUEST="request.native",n.REDIRECT_CONTEXT="request.redirect.context",Ce;var n})(),Oo=(()=>{return(n=Oo||(Oo={})).WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version",Oo;var n})(),qe=(()=>{return(n=qe||(qe={}))[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup",qe;var n})(),x=(()=>{return(n=x||(x={})).Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",x;var n})(),Ct=(()=>{return(n=Ct||(Ct={})).Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none",Ct;var n})(),kM={scopes:Ol},Ys="jwk",rh=(()=>{return(n=rh||(rh={})).React="@azure/msal-react",n.Angular="@azure/msal-angular",rh;var n})(),Gv="msal.db",mn=(()=>{return(n=mn||(mn={}))[n.Default=0]="Default",n[n.AccessToken=1]="AccessToken",n[n.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",n[n.RefreshToken=3]="RefreshToken",n[n.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",n[n.Skip=5]="Skip",mn;var n})(),H=(()=>{return(n=H||(H={})).INITIALIZE_START="msal:initializeStart",n.INITIALIZE_END="msal:initializeEnd",n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd",H;var n})(),Lq=function(){function n(){}return n.getInteractionStatusFromEvent=function(t,e){switch(t.eventType){case H.LOGIN_START:return Ct.Login;case H.SSO_SILENT_START:return Ct.SsoSilent;case H.ACQUIRE_TOKEN_START:if(t.interactionType===x.Redirect||t.interactionType===x.Popup)return Ct.AcquireToken;break;case H.HANDLE_REDIRECT_START:return Ct.HandleRedirect;case H.LOGOUT_START:return Ct.Logout;case H.SSO_SILENT_SUCCESS:case H.SSO_SILENT_FAILURE:if(e&&e!==Ct.SsoSilent)break;return Ct.None;case H.LOGOUT_END:if(e&&e!==Ct.Logout)break;return Ct.None;case H.HANDLE_REDIRECT_END:if(e&&e!==Ct.HandleRedirect)break;return Ct.None;case H.LOGIN_SUCCESS:case H.LOGIN_FAILURE:case H.ACQUIRE_TOKEN_SUCCESS:case H.ACQUIRE_TOKEN_FAILURE:if(t.interactionType===x.Redirect||t.interactionType===x.Popup){if(e&&e!==Ct.Login&&e!==Ct.AcquireToken)break;return Ct.None}}return null},n}(),$v=function(n,t){return($v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function zt(n,t){function e(){this.constructor=n}$v(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var j=function(){return j=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},j.apply(this,arguments)};function xM(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}function T(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function D(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function Uq(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,s,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function qv(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Uq(arguments[t]));return n}var ih_unexpectedError_code="unexpected_error",ih_unexpectedError_desc="Unexpected error in authentication.",ih_postRequestFailed_code="post_request_failed",ih_postRequestFailed_desc="Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.",G=function(n){function t(e,r,i){var o=this;return o=n.call(this,r?e+": "+r:e)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=e||v.EMPTY_STRING,o.errorMessage=r||v.EMPTY_STRING,o.subError=i||v.EMPTY_STRING,o.name="AuthError",o}return Tn(t,n),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(ih_unexpectedError_code,ih_unexpectedError_desc+": "+e)},t.createPostRequestFailed=function(e){return new t(ih_postRequestFailed_code,ih_postRequestFailed_desc+": "+e)},t}(Error),In_redirectUriNotSet_code="redirect_uri_empty",In_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",In_postLogoutUriNotSet_code="post_logout_uri_empty",In_postLogoutUriNotSet_desc="A post logout redirect has not been set.",In_storageNotSupportedError_code="storage_not_supported",In_storageNotSupportedError_desc="Given storage configuration option was not supported.",In_noRedirectCallbacksSet_code="no_redirect_callbacks",In_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",In_stubPcaInstanceCalled_code="stubbed_public_client_application_called",In_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",In_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",In_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",In_entropyNotProvided_code="entropy_not_provided",In_entropyNotProvided_desc="The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option.",Qs=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,t.prototype),i}return zt(t,n),t.createRedirectUriEmptyError=function(){return new t(In_redirectUriNotSet_code,In_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(In_postLogoutUriNotSet_code,In_postLogoutUriNotSet_desc)},t.createStorageNotSupportedError=function(e){return new t(In_storageNotSupportedError_code,In_storageNotSupportedError_desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(In_noRedirectCallbacksSet_code,In_noRedirectCallbacksSet_desc)},t.createStubPcaInstanceCalledError=function(){return new t(In_stubPcaInstanceCalled_code,In_stubPcaInstanceCalled_desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(In_inMemRedirectUnavailable_code,In_inMemRedirectUnavailable_desc)},t.createEntropyNotProvided=function(){return new t(In_entropyNotProvided_code,In_entropyNotProvided_desc)},t}(G),A_clientInfoDecodingError_code="client_info_decoding_error",A_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",A_clientInfoEmptyError_code="client_info_empty_error",A_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",A_tokenParsingError_code="token_parsing_error",A_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",A_nullOrEmptyToken_code="null_or_empty_token",A_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",A_endpointResolutionError_code="endpoints_resolution_error",A_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",A_networkError_code="network_error",A_networkError_desc="Network request failed. Please check network trace to determine root cause.",A_unableToGetOpenidConfigError_code="openid_config_error",A_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",A_hashNotDeserialized_code="hash_not_deserialized",A_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",A_invalidStateError_code="invalid_state",A_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",A_stateMismatchError_code="state_mismatch",A_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",A_stateNotFoundError_code="state_not_found",A_stateNotFoundError_desc="State not found",A_nonceMismatchError_code="nonce_mismatch",A_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",A_nonceNotFoundError_code="nonce_not_found",A_nonceNotFoundError_desc="nonce not found",A_authTimeNotFoundError_code="auth_time_not_found",A_authTimeNotFoundError_desc="Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",A_maxAgeTranspiredError_code="max_age_transpired",A_maxAgeTranspiredError_desc="Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",A_multipleMatchingTokens_code="multiple_matching_tokens",A_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",A_multipleMatchingAccounts_code="multiple_matching_accounts",A_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",A_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",A_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",A_tokenRequestCannotBeMade_code="request_cannot_be_made",A_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",A_appendEmptyScopeError_code="cannot_append_empty_scope",A_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",A_removeEmptyScopeError_code="cannot_remove_empty_scope",A_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",A_appendScopeSetError_code="cannot_append_scopeset",A_appendScopeSetError_desc="Cannot append ScopeSet due to error.",A_emptyInputScopeSetError_code="empty_input_scopeset",A_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",A_DeviceCodePollingCancelled_code="device_code_polling_cancelled",A_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",A_DeviceCodeExpired_code="device_code_expired",A_DeviceCodeExpired_desc="Device code is expired.",A_DeviceCodeUnknownError_code="device_code_unknown_error",A_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",A_NoAccountInSilentRequest_code="no_account_in_silent_request",A_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",A_invalidCacheRecord_code="invalid_cache_record",A_invalidCacheRecord_desc="Cache record object was null or undefined.",A_invalidCacheEnvironment_code="invalid_cache_environment",A_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",A_noAccountFound_code="no_account_found",A_noAccountFound_desc="No account found in cache for given key.",A_CachePluginError_code="no cache plugin set on CacheManager",A_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",A_noCryptoObj_code="no_crypto_object",A_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",A_invalidCacheType_code="invalid_cache_type",A_invalidCacheType_desc="Invalid cache type",A_unexpectedAccountType_code="unexpected_account_type",A_unexpectedAccountType_desc="Unexpected account type.",A_unexpectedCredentialType_code="unexpected_credential_type",A_unexpectedCredentialType_desc="Unexpected credential type.",A_invalidAssertion_code="invalid_assertion",A_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",A_invalidClientCredential_code="invalid_client_credential",A_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",A_tokenRefreshRequired_code="token_refresh_required",A_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",A_userTimeoutReached_code="user_timeout_reached",A_userTimeoutReached_desc="User defined timeout for device code polling reached",A_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",A_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",A_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",A_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",A_bindingKeyNotRemovedError_code="binding_key_not_removed",A_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",A_logoutNotSupported_code="end_session_endpoint_not_supported",A_logoutNotSupported_desc="Provided authority does not support logout.",A_keyIdMissing_code="key_id_missing",A_keyIdMissing_desc="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",V=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return Tn(t,n),t.createClientInfoDecodingError=function(e){return new t(A_clientInfoDecodingError_code,A_clientInfoDecodingError_desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(A_clientInfoEmptyError_code,""+A_clientInfoEmptyError_desc)},t.createTokenParsingError=function(e){return new t(A_tokenParsingError_code,A_tokenParsingError_desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(A_nullOrEmptyToken_code,A_nullOrEmptyToken_desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(A_endpointResolutionError_code,A_endpointResolutionError_desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(A_networkError_code,A_networkError_desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(A_unableToGetOpenidConfigError_code,A_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(A_hashNotDeserialized_code,A_hashNotDeserialized_desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(A_invalidStateError_code,A_invalidStateError_desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(A_stateMismatchError_code,A_stateMismatchError_desc)},t.createStateNotFoundError=function(e){return new t(A_stateNotFoundError_code,A_stateNotFoundError_desc+":  "+e)},t.createNonceMismatchError=function(){return new t(A_nonceMismatchError_code,A_nonceMismatchError_desc)},t.createAuthTimeNotFoundError=function(){return new t(A_authTimeNotFoundError_code,A_authTimeNotFoundError_desc)},t.createMaxAgeTranspiredError=function(){return new t(A_maxAgeTranspiredError_code,A_maxAgeTranspiredError_desc)},t.createNonceNotFoundError=function(e){return new t(A_nonceNotFoundError_code,A_nonceNotFoundError_desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(A_multipleMatchingTokens_code,A_multipleMatchingTokens_desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(A_multipleMatchingAccounts_code,A_multipleMatchingAccounts_desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(A_multipleMatchingAppMetadata_code,A_multipleMatchingAppMetadata_desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(A_tokenRequestCannotBeMade_code,A_tokenRequestCannotBeMade_desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(A_appendEmptyScopeError_code,A_appendEmptyScopeError_desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(A_removeEmptyScopeError_code,A_removeEmptyScopeError_desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(A_appendScopeSetError_code,A_appendScopeSetError_desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(A_emptyInputScopeSetError_code,""+A_emptyInputScopeSetError_desc)},t.createDeviceCodeCancelledError=function(){return new t(A_DeviceCodePollingCancelled_code,""+A_DeviceCodePollingCancelled_desc)},t.createDeviceCodeExpiredError=function(){return new t(A_DeviceCodeExpired_code,""+A_DeviceCodeExpired_desc)},t.createDeviceCodeUnknownError=function(){return new t(A_DeviceCodeUnknownError_code,""+A_DeviceCodeUnknownError_desc)},t.createNoAccountInSilentRequestError=function(){return new t(A_NoAccountInSilentRequest_code,""+A_NoAccountInSilentRequest_desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(A_invalidCacheRecord_code,A_invalidCacheRecord_desc)},t.createInvalidCacheEnvironmentError=function(){return new t(A_invalidCacheEnvironment_code,A_invalidCacheEnvironment_desc)},t.createNoAccountFoundError=function(){return new t(A_noAccountFound_code,A_noAccountFound_desc)},t.createCachePluginError=function(){return new t(A_CachePluginError_code,""+A_CachePluginError_desc)},t.createNoCryptoObjectError=function(e){return new t(A_noCryptoObj_code,""+A_noCryptoObj_desc+e)},t.createInvalidCacheTypeError=function(){return new t(A_invalidCacheType_code,""+A_invalidCacheType_desc)},t.createUnexpectedAccountTypeError=function(){return new t(A_unexpectedAccountType_code,""+A_unexpectedAccountType_desc)},t.createUnexpectedCredentialTypeError=function(){return new t(A_unexpectedCredentialType_code,""+A_unexpectedCredentialType_desc)},t.createInvalidAssertionError=function(){return new t(A_invalidAssertion_code,""+A_invalidAssertion_desc)},t.createInvalidCredentialError=function(){return new t(A_invalidClientCredential_code,""+A_invalidClientCredential_desc)},t.createRefreshRequiredError=function(){return new t(A_tokenRefreshRequired_code,A_tokenRefreshRequired_desc)},t.createUserTimeoutReachedError=function(){return new t(A_userTimeoutReached_code,A_userTimeoutReached_desc)},t.createTokenClaimsRequiredError=function(){return new t(A_tokenClaimsRequired_code,A_tokenClaimsRequired_desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(A_noAuthorizationCodeFromServer_code,A_noAuthorizationCodeFromServer_desc)},t.createBindingKeyNotRemovedError=function(){return new t(A_bindingKeyNotRemovedError_code,A_bindingKeyNotRemovedError_desc)},t.createLogoutNotSupportedError=function(){return new t(A_logoutNotSupported_code,A_logoutNotSupported_desc)},t.createKeyIdMissingError=function(){return new t(A_keyIdMissing_code,A_keyIdMissing_desc)},t}(G),se_redirectUriNotSet_code="redirect_uri_empty",se_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",se_postLogoutUriNotSet_code="post_logout_uri_empty",se_postLogoutUriNotSet_desc="A post logout redirect has not been set.",se_claimsRequestParsingError_code="claims_request_parsing_error",se_claimsRequestParsingError_desc="Could not parse the given claims request object.",se_authorityUriInsecure_code="authority_uri_insecure",se_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",se_urlParseError_code="url_parse_error",se_urlParseError_desc="URL could not be parsed into appropriate segments.",se_urlEmptyError_code="empty_url_error",se_urlEmptyError_desc="URL was empty or null.",se_emptyScopesError_code="empty_input_scopes_error",se_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",se_clientIdSingleScopeError_code="clientid_input_scopes_error",se_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",se_invalidPrompt_code="invalid_prompt_value",se_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",se_invalidClaimsRequest_code="invalid_claims",se_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",se_tokenRequestEmptyError_code="token_request_empty",se_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",se_logoutRequestEmptyError_code="logout_request_empty",se_logoutRequestEmptyError_desc="The logout request was null or undefined.",se_invalidCodeChallengeMethod_code="invalid_code_challenge_method",se_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',se_invalidCodeChallengeParams_code="pkce_params_missing",se_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",se_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",se_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",se_invalidAuthorityMetadata_code="invalid_authority_metadata",se_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",se_untrustedAuthority_code="untrusted_authority",se_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",se_invalidAzureCloudInstance_code="invalid_azure_cloud_instance",se_invalidAzureCloudInstance_desc="Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values",se_missingSshJwk_code="missing_ssh_jwk",se_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",se_missingSshKid_code="missing_ssh_kid",se_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",se_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",se_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",se_invalidAuthenticationHeader_code="invalid_authentication_header",se_invalidAuthenticationHeader_desc="Invalid authentication header provided",et=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return Tn(t,n),t.createRedirectUriEmptyError=function(){return new t(se_redirectUriNotSet_code,se_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(se_postLogoutUriNotSet_code,se_postLogoutUriNotSet_desc)},t.createClaimsRequestParsingError=function(e){return new t(se_claimsRequestParsingError_code,se_claimsRequestParsingError_desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(se_authorityUriInsecure_code,se_authorityUriInsecure_desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(se_urlParseError_code,se_urlParseError_desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(se_urlEmptyError_code,se_urlEmptyError_desc)},t.createEmptyScopesArrayError=function(){return new t(se_emptyScopesError_code,""+se_emptyScopesError_desc)},t.createClientIdSingleScopeError=function(e){return new t(se_clientIdSingleScopeError_code,se_clientIdSingleScopeError_desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(se_invalidPrompt_code,se_invalidPrompt_desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(se_invalidClaimsRequest_code,se_invalidClaimsRequest_desc)},t.createEmptyLogoutRequestError=function(){return new t(se_logoutRequestEmptyError_code,se_logoutRequestEmptyError_desc)},t.createEmptyTokenRequestError=function(){return new t(se_tokenRequestEmptyError_code,se_tokenRequestEmptyError_desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(se_invalidCodeChallengeMethod_code,se_invalidCodeChallengeMethod_desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(se_invalidCodeChallengeParams_code,se_invalidCodeChallengeParams_desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(se_invalidCloudDiscoveryMetadata_code,se_invalidCloudDiscoveryMetadata_desc)},t.createInvalidAuthorityMetadataError=function(){return new t(se_invalidAuthorityMetadata_code,se_invalidAuthorityMetadata_desc)},t.createUntrustedAuthorityError=function(){return new t(se_untrustedAuthority_code,se_untrustedAuthority_desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(se_invalidAzureCloudInstance_code,se_invalidAzureCloudInstance_desc)},t.createMissingSshJwkError=function(){return new t(se_missingSshJwk_code,se_missingSshJwk_desc)},t.createMissingSshKidError=function(){return new t(se_missingSshKid_code,se_missingSshKid_desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(se_missingNonceAuthenticationHeader_code,se_missingNonceAuthenticationHeader_desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(se_invalidAuthenticationHeader_code,se_invalidAuthenticationHeader_desc+". Invalid header: "+e+". Details: "+r)},t}(V),N=function(){function n(){}return n.decodeAuthToken=function(t){if(n.isEmpty(t))throw V.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw V.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},n.isEmpty=function(t){return typeof t>"u"||!t||0===t.length},n.isEmptyObj=function(t){if(t&&!n.isEmpty(t))try{var e=JSON.parse(t);return 0===Object.keys(e).length}catch{}return!0},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},n.queryStringToObject=function(t){var e={},r=t.split("&"),i=function(o){return decodeURIComponent(o.replace(/\+/g," "))};return r.forEach(function(o){if(o.trim()){var s=o.split(/=(.+)/g,2),a=s[0],l=s[1];a&&l&&(e[i(a)]=i(l))}}),e},n.trimArrayEntries=function(t){return t.map(function(e){return e.trim()})},n.removeEmptyStringsFromArray=function(t){return t.filter(function(e){return!n.isEmpty(e)})},n.jsonParseHelper=function(t){try{return JSON.parse(t)}catch{return null}},n.matchPattern=function(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)},n}(),ye=function(){function n(t){if(this._urlString=t,N.isEmpty(this._urlString))throw et.createUrlEmptyError();N.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(t))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(t){if(t){var e=t.toLowerCase();return N.endsWith(e,"?")?e=e.slice(0,-1):N.endsWith(e,"?/")&&(e=e.slice(0,-2)),N.endsWith(e,"/")||(e+="/"),e}return t},n.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(e){throw et.createUrlParseError(e)}if(!t.HostNameAndPort||!t.PathSegments)throw et.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw et.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(t,e){return N.isEmpty(e)?t:t.indexOf("?")<0?t+"?"+e:t+"&"+e},n.removeHashFromUrl=function(t){return n.canonicalizeUri(t.split("#")[0])},n.prototype.replaceTenantPath=function(t){var e=this.getUrlComponents(),r=e.PathSegments;return t&&0!==r.length&&(r[0]===Pl.COMMON||r[0]===Pl.ORGANIZATIONS)&&(r[0]=t),n.constructAuthorityUriFromObject(e)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw et.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},i=r.AbsolutePath.split("/");return i=i.filter(function(o){return o&&o.length>0}),r.PathSegments=i,!N.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},n.getDomainFromUrl=function(t){var e=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(e);if(!r)throw et.createUrlParseError("Given url string: "+t);return r[2]},n.getAbsoluteUrl=function(t,e){if(t[0]===v.FORWARD_SLASH){var i=new n(e).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+t}return t},n.parseHash=function(t){var e=t.indexOf("#"),r=t.indexOf("#/");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):v.EMPTY_STRING},n.parseQueryString=function(t){var e=t.indexOf("?"),r=t.indexOf("/?");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):v.EMPTY_STRING},n.constructAuthorityUriFromObject=function(t){return new n(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},n.getDeserializedHash=function(t){if(N.isEmpty(t))return{};var e=n.parseHash(t),r=N.queryStringToObject(N.isEmpty(e)?t:e);if(!r)throw V.createHashNotDeserializedError(JSON.stringify(r));return r},n.getDeserializedQueryString=function(t){if(N.isEmpty(t))return{};var e=n.parseQueryString(t),r=N.queryStringToObject(N.isEmpty(e)?t:e);if(!r)throw V.createHashNotDeserializedError(JSON.stringify(r));return r},n.hashContainsKnownProperties=function(t){if(N.isEmpty(t)||t.indexOf("=")<0)return!1;var e=n.getDeserializedHash(t);return!!(e.code||e.error_description||e.error||e.state)},n}(),I_pkceNotGenerated_code="pkce_not_created",I_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",I_cryptoDoesNotExist_code="crypto_nonexistent",I_cryptoDoesNotExist_desc="The crypto object or function is not available.",I_httpMethodNotImplementedError_code="http_method_not_implemented",I_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",I_emptyNavigateUriError_code="empty_navigate_uri",I_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",I_hashEmptyError_code="hash_empty_error",I_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",I_hashDoesNotContainStateError_code="no_state_in_hash",I_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",I_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",I_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",I_unableToParseStateError_code="unable_to_parse_state",I_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",I_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",I_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",I_interactionInProgress_code="interaction_in_progress",I_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",I_popupWindowError_code="popup_window_error",I_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",I_emptyWindowError_code="empty_window_error",I_emptyWindowError_desc="window.open returned null or undefined window object.",I_userCancelledError_code="user_cancelled",I_userCancelledError_desc="User cancelled the flow.",I_monitorPopupTimeoutError_code="monitor_window_timeout",I_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",I_monitorIframeTimeoutError_code="monitor_window_timeout",I_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",I_redirectInIframeError_code="redirect_in_iframe",I_redirectInIframeError_desc="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",I_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",I_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",I_blockAcquireTokenInPopupsError_code="block_nested_popups",I_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",I_iframeClosedPrematurelyError_code="iframe_closed_prematurely",I_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",I_silentLogoutUnsupportedError_code="silent_logout_unsupported",I_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",I_noAccountError_code="no_account_error",I_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",I_silentPromptValueError_code="silent_prompt_value_error",I_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",I_noTokenRequestCacheError_code="no_token_request_cache_error",I_noTokenRequestCacheError_desc="No token request found in cache.",I_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",I_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",I_noCachedAuthorityError_code="no_cached_authority_error",I_noCachedAuthorityError_desc="No cached authority found.",I_authRequestNotSet_code="auth_request_not_set_error",I_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",I_invalidCacheType_code="invalid_cache_type",I_invalidCacheType_desc="Invalid cache type",I_notInBrowserEnvironment_code="non_browser_environment",I_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",I_databaseNotOpen_code="database_not_open",I_databaseNotOpen_desc="Database is not open!",I_noNetworkConnectivity_code="no_network_connectivity",I_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",I_postRequestFailed_code="post_request_failed",I_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",I_getRequestFailed_code="get_request_failed",I_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",I_failedToParseNetworkResponse_code="failed_to_parse_response",I_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",I_unableToLoadTokenError_code="unable_to_load_token",I_unableToLoadTokenError_desc="Error loading token to cache.",I_signingKeyNotFoundInStorage_code="crypto_key_not_found",I_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",I_authCodeRequired_code="auth_code_required",I_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",I_authCodeOrNativeAccountRequired_code="auth_code_or_nativeAccountId_required",I_authCodeOrNativeAccountRequired_desc="An authorization code or nativeAccountId must be provided to this flow.",I_databaseUnavailable_code="database_unavailable",I_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",I_unableToAcquireTokenFromNativePlatform_code="unable_to_acquire_token_from_native_platform",I_unableToAcquireTokenFromNativePlatform_desc="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",I_nativeHandshakeTimeout_code="native_handshake_timeout",I_nativeHandshakeTimeout_desc="Timed out while attempting to establish connection to browser extension",I_nativeExtensionNotInstalled_code="native_extension_not_installed",I_nativeExtensionNotInstalled_desc="Native extension is not installed. If you think this is a mistake call the initialize function.",I_nativeConnectionNotEstablished_code="native_connection_not_established",I_nativeConnectionNotEstablished_desc="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",I_nativeBrokerCalledBeforeInitialize_code="native_broker_called_before_initialize",I_nativeBrokerCalledBeforeInitialize_desc="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",I_nativePromptNotSupported_code="native_prompt_not_supported",I_nativePromptNotSupported_desc="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",O=function(n){function t(e,r){var i=n.call(this,e,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="BrowserAuthError",i}return zt(t,n),t.createPkceNotGeneratedError=function(e){return new t(I_pkceNotGenerated_code,I_pkceNotGenerated_desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(I_cryptoDoesNotExist_code,I_cryptoDoesNotExist_desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(I_httpMethodNotImplementedError_code,I_httpMethodNotImplementedError_desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(I_emptyNavigateUriError_code,I_emptyNavigateUriError_desc)},t.createEmptyHashError=function(e){return new t(I_hashEmptyError_code,I_hashEmptyError_desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(I_hashDoesNotContainStateError_code,I_hashDoesNotContainStateError_desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(I_hashDoesNotContainKnownPropertiesError_code,I_hashDoesNotContainKnownPropertiesError_desc)},t.createUnableToParseStateError=function(){return new t(I_unableToParseStateError_code,I_unableToParseStateError_desc)},t.createStateInteractionTypeMismatchError=function(){return new t(I_stateInteractionTypeMismatchError_code,I_stateInteractionTypeMismatchError_desc)},t.createInteractionInProgressError=function(){return new t(I_interactionInProgress_code,I_interactionInProgress_desc)},t.createPopupWindowError=function(e){var r=I_popupWindowError_desc;return r=N.isEmpty(e)?r:r+" Details: "+e,new t(I_popupWindowError_code,r)},t.createEmptyWindowCreatedError=function(){return new t(I_emptyWindowError_code,I_emptyWindowError_desc)},t.createUserCancelledError=function(){return new t(I_userCancelledError_code,I_userCancelledError_desc)},t.createMonitorPopupTimeoutError=function(){return new t(I_monitorPopupTimeoutError_code,I_monitorPopupTimeoutError_desc)},t.createMonitorIframeTimeoutError=function(){return new t(I_monitorIframeTimeoutError_code,I_monitorIframeTimeoutError_desc)},t.createRedirectInIframeError=function(e){return new t(I_redirectInIframeError_code,I_redirectInIframeError_desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(I_blockTokenRequestsInHiddenIframeError_code,I_blockTokenRequestsInHiddenIframeError_desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(I_blockAcquireTokenInPopupsError_code,I_blockAcquireTokenInPopupsError_desc)},t.createIframeClosedPrematurelyError=function(){return new t(I_iframeClosedPrematurelyError_code,I_iframeClosedPrematurelyError_desc)},t.createSilentLogoutUnsupportedError=function(){return new t(I_silentLogoutUnsupportedError_code,I_silentLogoutUnsupportedError_desc)},t.createNoAccountError=function(){return new t(I_noAccountError_code,I_noAccountError_desc)},t.createSilentPromptValueError=function(e){return new t(I_silentPromptValueError_code,I_silentPromptValueError_desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(I_unableToParseTokenRequestCacheError_code,I_unableToParseTokenRequestCacheError_desc)},t.createNoTokenRequestCacheError=function(){return new t(I_noTokenRequestCacheError_code,I_noTokenRequestCacheError_desc)},t.createAuthRequestNotSetError=function(){return new t(I_authRequestNotSet_code,I_authRequestNotSet_desc)},t.createNoCachedAuthorityError=function(){return new t(I_noCachedAuthorityError_code,I_noCachedAuthorityError_desc)},t.createInvalidCacheTypeError=function(){return new t(I_invalidCacheType_code,""+I_invalidCacheType_desc)},t.createNonBrowserEnvironmentError=function(){return new t(I_notInBrowserEnvironment_code,I_notInBrowserEnvironment_desc)},t.createDatabaseNotOpenError=function(){return new t(I_databaseNotOpen_code,I_databaseNotOpen_desc)},t.createNoNetworkConnectivityError=function(){return new t(I_noNetworkConnectivity_code,I_noNetworkConnectivity_desc)},t.createPostRequestFailedError=function(e,r){return new t(I_postRequestFailed_code,I_postRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(I_getRequestFailed_code,I_getRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(I_failedToParseNetworkResponse_code,I_failedToParseNetworkResponse_desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(I_unableToLoadTokenError_code,I_unableToLoadTokenError_desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(I_signingKeyNotFoundInStorage_code,I_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(I_authCodeRequired_code,I_authCodeRequired_desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(I_authCodeOrNativeAccountRequired_code,I_authCodeOrNativeAccountRequired_desc)},t.createDatabaseUnavailableError=function(){return new t(I_databaseUnavailable_code,I_databaseUnavailable_desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(I_unableToAcquireTokenFromNativePlatform_code,I_unableToAcquireTokenFromNativePlatform_desc)},t.createNativeHandshakeTimeoutError=function(){return new t(I_nativeHandshakeTimeout_code,I_nativeHandshakeTimeout_desc)},t.createNativeExtensionNotInstalledError=function(){return new t(I_nativeExtensionNotInstalled_code,I_nativeExtensionNotInstalled_desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(I_nativeConnectionNotEstablished_code,I_nativeConnectionNotEstablished_desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(I_nativeBrokerCalledBeforeInitialize_code,I_nativeBrokerCalledBeforeInitialize_desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(I_nativePromptNotSupported_code,I_nativePromptNotSupported_desc)},t}(G),Vq=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return T(this,void 0,void 0,function(){var r,i,o;return D(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,fetch(t,{method:br.GET,headers:this.getFetchHeaders(e)})];case 1:return r=s.sent(),[3,3];case 2:throw i=s.sent(),window.navigator.onLine?O.createGetRequestFailedError(i,t):O.createNoNetworkConnectivityError();case 3:return s.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=s.sent(),o.status=r.status,o)];case 5:throw s.sent(),O.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(t,e){return T(this,void 0,void 0,function(){var r,i,o,s;return D(this,function(a){switch(a.label){case 0:r=e&&e.body||v.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(t,{method:br.POST,headers:this.getFetchHeaders(e),body:r})];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?O.createPostRequestFailedError(o,t):O.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),s={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(s.body=a.sent(),s.status=i.status,s)];case 6:throw a.sent(),O.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(t){var e=new Headers;if(!t||!t.headers)return e;var r=t.headers;return Object.keys(r).forEach(function(i){e.append(i,r[i])}),e},n.prototype.getHeaderDict=function(t){var e={};return t.forEach(function(r,i){e[i]=r}),e},n}(),Hq=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(t,br.GET,e)]})})},n.prototype.sendPostRequestAsync=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(t,br.POST,e)]})})},n.prototype.sendRequestAsync=function(t,e,r){var i=this;return new Promise(function(o,s){var a=new XMLHttpRequest;if(a.open(e,t,!0),i.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&s(e===br.POST?O.createPostRequestFailedError("Failed with status "+a.status,t):O.createGetRequestFailedError("Failed with status "+a.status,t));try{var l=JSON.parse(a.responseText),c={headers:i.getHeaderDict(a),body:l,status:a.status};o(c)}catch{s(O.createFailedToParseNetworkResponseError(t))}},a.onerror=function(){window.navigator.onLine?s(e===br.POST?O.createPostRequestFailedError("Failed with status "+a.status,t):O.createGetRequestFailedError("Failed with status "+a.status,t)):s(O.createNoNetworkConnectivityError())},e===br.POST&&r&&r.body)a.send(r.body);else{if(e!==br.GET)throw O.createHttpMethodNotImplementedError(e);a.send()}})},n.prototype.setXhrHeaders=function(t,e){if(e&&e.headers){var r=e.headers;Object.keys(r).forEach(function(i){t.setRequestHeader(i,r[i])})}},n.prototype.getHeaderDict=function(t){var r=t.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return r.forEach(function(o){var s=o.split(": "),a=s.shift(),l=s.join(": ");a&&l&&(i[a]=l)}),i},n}(),tt=function(){function n(){}return n.clearHash=function(t){t.location.hash=v.EMPTY_STRING,"function"==typeof t.history.replaceState&&t.history.replaceState(null,v.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},n.replaceHash=function(t){var e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):v.EMPTY_STRING},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var e=new ye(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new Vq:new Hq},n.blockReloadInHiddenIframes=function(){if(ye.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw O.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(t,e){var r=n.isInIframe();if(t===x.Redirect&&r&&!e)throw O.createRedirectInIframeError(r)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw O.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(t){if(!t)throw O.createNonBrowserEnvironmentError()},n.blockNativeBrokerCalledBeforeInitialized=function(t,e){if(t&&!e)throw O.createNativeBrokerCalledBeforeInitialize()},n.detectIEOrEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),r=t.indexOf("Trident/"),i=t.indexOf("Edge/");return e>0||r>0||i>0},n}();class Bq extends Je{constructor(t=1/0,e=1/0,r=Rg){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}const oh=new R("MSAL_INSTANCE"),sh=new R("MSAL_GUARD_CONFIG"),Kv=new R("MSAL_INTERCEPTOR_CONFIG"),jq=new R("MSAL_BROADCAST_CONFIG"),NM="@azure/msal-angular",Wv="2.5.2";let Zi=(()=>{class n{constructor(e,r){this.instance=e,this.location=r;const i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(rh.Angular,Wv)}initialize(){return Se(this.instance.initialize())}acquireTokenPopup(e){return Se(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return Se(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return Se(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return Se(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return Se(this.instance.loginPopup(e))}loginRedirect(e){return Se(this.instance.loginRedirect(e))}logout(e){return Se(this.instance.logout(e))}logoutRedirect(e){return Se(this.instance.logoutRedirect(e))}logoutPopup(e){return Se(this.instance.logoutPopup(e))}ssoSilent(e){return Se(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(NM,Wv)),this.logger}setLogger(e){this.logger=e.clone(NM,Wv),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(w(oh),w(Ms))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),jl=(()=>{class n{constructor(e,r,i){this.msalInstance=e,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - replayPastEvents set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Bq(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Je,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new En(Ct.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const s=Lq.getInteractionStatusFromEvent(o,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(e){return new(e||n)(w(oh),w(Zi),w(jq,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),zl=(()=>{class n{constructor(e,r,i,o,s){this.msalGuardConfig=e,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${e}`}loginInteractively(e){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===x.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Z(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:i},r)).pipe(Z(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==x.Popup&&this.msalGuardConfig.interactionType!==x.Redirect)throw new Qs("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),U(!0);if(ye.hashContainsKnownProperties(window.location.hash)&&tt.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),U(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(Vr(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),U(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const i=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?U(this.parseUrl(this.location.path())):U(this.parseUrl(""))}return U(!0)}),_r(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&parseInt(Rb.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),U(this.loginFailedRoute)):U(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(e,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(w(sh),w(jl),w(Zi),w(Ms),w(Mt))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),zq=(()=>{class n{constructor(e,r,i,o){this.msalInterceptorConfig=e,this.authService=r,this.location=i,this._document=o}intercept(e,r){if(this.msalInterceptorConfig.interactionType!==x.Popup&&this.msalInterceptorConfig.interactionType!==x.Redirect)throw new Qs("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const i=this.getScopesForEndpoint(e.url,e.method);if(!i||0===i.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),r.handle(e);let o;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),o=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),o=this.authService.instance.getAllAccounts()[0]);const s="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,e,{account:o}):Object.assign(Object.assign({},this.msalInterceptorConfig.authRequest),{account:o});return this.authService.getLogger().info(`Interceptor - ${i.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${i}] scopes found for ${e.url}`),this.authService.acquireTokenSilent(Object.assign(Object.assign({},s),{scopes:i,account:o})).pipe(_r(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.acquireTokenInteractively(s,i))),nr(a=>a.accessToken?U(a):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.acquireTokenInteractively(s,i))),nr(a=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const l=e.headers.set("Authorization",`Bearer ${a.accessToken}`),c=e.clone({headers:l});return r.handle(c)}))}acquireTokenInteractively(e,r){if(this.msalInterceptorConfig.interactionType===x.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(Object.assign(Object.assign({},e),{scopes:r}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const i=window.location.href;return this.authService.acquireTokenRedirect(Object.assign(Object.assign({},e),{scopes:r,redirectStartPage:i})),Sr}getScopesForEndpoint(e,r){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const i=this.location.normalize(e),o=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),s=this.matchResourcesToEndpoint(o,i);return s.absoluteResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.absoluteResources,r):s.relativeResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.relativeResources,r):null}matchResourcesToEndpoint(e,r){const i={absoluteResources:[],relativeResources:[]};return e.forEach(o=>{const s=this.location.normalize(o);N.matchPattern(s,r)&&i.absoluteResources.push(o);const a=this.getAbsoluteUrl(o),l=new ye(a).getUrlComponents(),c=this.getAbsoluteUrl(r),u=new ye(c).getUrlComponents(),d=l.QueryString?`${l.AbsolutePath}?${l.QueryString}`:this.location.normalize(l.AbsolutePath);l.HostNameAndPort===u.HostNameAndPort&&N.matchPattern(d,c)&&""!==d&&"/*"!==d&&i.relativeResources.push(o)}),i}getAbsoluteUrl(e){const r=this._document.createElement("a");return r.href=e,r.href}matchScopesToEndpoint(e,r,i){const o=[];return r.forEach(s=>{const a=[],l=e.get(s);null!==l?(l.forEach(c=>{if("string"==typeof c)a.push(c);else{const u=i.toLowerCase();c.httpMethod.toLowerCase()===u&&(null===c.scopes?o.push(null):c.scopes.forEach(h=>{a.push(h)}))}}),a.length>0&&o.push(a)):o.push(null)}),o.length>0?(o.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),o[0]):null}}return n.\u0275fac=function(e){return new(e||n)(w(Kv),w(Zi),w(Ms),w(Re))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),OM=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.initialize().pipe(Vr(()=>this.authService.handleRedirectObservable())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(y(Zi))},n.\u0275cmp=Ge({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),Gq=(()=>{class n{static forRoot(e,r,i){return{ngModule:n,providers:[{provide:oh,useValue:e},{provide:sh,useValue:r},{provide:Kv,useValue:i},Zi]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({providers:[zl,jl],imports:[Iu]}),n})(),$q=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ge({type:n,selectors:[["app-expense-group-details"]],decls:2,vars:0,template:function(e,r){1&e&&(ce(0,"p"),Le(1,"expense-group-details works!"),ue())}}),n})();var wt=(()=>{return(n=wt||(wt={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",wt;var n})(),PM=function(){function n(t,e,r){this.level=wt.Info;var o=t||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||function(){},this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level="number"==typeof o.logLevel?o.logLevel:wt.Info,this.correlationId=o.correlationId||v.EMPTY_STRING,this.packageName=e||v.EMPTY_STRING,this.packageVersion=r||v.EMPTY_STRING}return n.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:wt.Info}},n.prototype.clone=function(t,e,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,e)},n.prototype.logMessage=function(t,e){if(!(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)){var i,r=(new Date).toUTCString();i=N.isEmpty(e.correlationId)?N.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+e.correlationId+"]",this.executeCallback(e.logLevel,i+" : "+this.packageName+"@"+this.packageVersion+" : "+wt[e.logLevel]+" - "+t,e.containsPii||!1)}},n.prototype.executeCallback=function(t,e,r){this.localCallback&&this.localCallback(t,e,r)},n.prototype.error=function(t,e){this.logMessage(t,{logLevel:wt.Error,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.errorPii=function(t,e){this.logMessage(t,{logLevel:wt.Error,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.warning=function(t,e){this.logMessage(t,{logLevel:wt.Warning,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.warningPii=function(t,e){this.logMessage(t,{logLevel:wt.Warning,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.info=function(t,e){this.logMessage(t,{logLevel:wt.Info,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.infoPii=function(t,e){this.logMessage(t,{logLevel:wt.Info,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.verbose=function(t,e){this.logMessage(t,{logLevel:wt.Verbose,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.verbosePii=function(t,e){this.logMessage(t,{logLevel:wt.Verbose,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.trace=function(t,e){this.logMessage(t,{logLevel:wt.Trace,containsPii:!1,correlationId:e||v.EMPTY_STRING})},n.prototype.tracePii=function(t,e){this.logMessage(t,{logLevel:wt.Trace,containsPii:!0,correlationId:e||v.EMPTY_STRING})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}();const qq=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1,Mn_names_signUpSignIn="B2C_1_signinsignup1",Mn_names_resetPassword="B2C_1_password_reset",Mn_names_editProfile="B2C_1_edit_profile",Mn_authorities_signUpSignIn={authority:"https://TGCIdentityService.b2clogin.com/TGCIdentityService.onmicrosoft.com/B2C_1_signinsignup1"},Mn_authorities_resetPassword={authority:"https://TGCIdentityService.b2clogin.com/TGCIdentityService.onmicrosoft.com/B2C_1_password_reset"},Mn_authorities_editProfile={authority:"https://TGCIdentityService.b2clogin.com/TGCIdentityService.onmicrosoft.com/B2C_1_edit_profile"},Kq={auth:{clientId:"d1e80f09-6d36-49e9-a9bf-227bb1ced7ac",authority:Mn_authorities_signUpSignIn.authority,knownAuthorities:["TGCIdentityService.b2clogin.com"],redirectUri:"/auth",postLogoutRedirectUri:"/"},cache:{cacheLocation:xt.LocalStorage,storeAuthStateInCookie:qq},system:{loggerOptions:{loggerCallback(n,t){console.log(t)},logLevel:wt.Verbose,piiLoggingEnabled:!1}}},Gl={apiTodoList:{endpoint:"https://localhost:6001/api/v1/ExpenseGroup",scopes:{read:["https://TGCIdentityService.onmicrosoft.com/expenses-api/operation.read"]}}},Wq={scopes:[]};let FM=(()=>{class n{constructor(e){this.http=e,this.url=Gl.apiTodoList.endpoint,this.EndpointController=this.url}getAll(){return this.http.get(this.EndpointController)}getById(e){return this.http.get(this.EndpointController+"/"+e)}Create(e){return this.http.post(this.url+"/",e)}}return n.\u0275fac=function(e){return new(e||n)(w(Hs))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const At=(n,t,e,r)=>{r.push({claim:n,value:t,description:e})},Yv=n=>`${n} - [${new Date(1e3*n).toString()}]`;function Jq(n,t){1&n&&(ce(0,"mat-card",4)(1,"mat-card-title"),Le(2,"Angular single-page application built with MSAL Angular"),ue(),ce(3,"mat-card-subtitle"),Le(4,"Sign-in with Azure AD B2C and get an ID Token"),ue(),ce(5,"mat-card-content"),Le(6,"This sample demonstrates how to configure MSAL Angular to sign-in, sign-out and protect a route. "),ue()())}function Xq(n,t){1&n&&(ce(0,"p",5),Le(1," See below the claims in your "),ce(2,"strong"),Le(3," ID token "),ue(),Le(4,". For more information, visit: "),ce(5,"span")(6,"a",6),Le(7," docs.microsoft.com "),ue()()())}function e4(n,t){1&n&&(ce(0,"th",15),Le(1," Claim "),ue())}function t4(n,t){if(1&n&&(ce(0,"td",16),Le(1),ue()),2&n){const e=t.$implicit;$e(1),Pr(" ",e.claim," ")}}function n4(n,t){1&n&&(ce(0,"th",15),Le(1," Value "),ue())}function r4(n,t){if(1&n&&(ce(0,"td",16),Le(1),ue()),2&n){const e=t.$implicit;$e(1),Pr(" ",e.value," ")}}function o4(n,t){1&n&&(ce(0,"th",15),Le(1," Description "),ue())}function s4(n,t){if(1&n&&(ce(0,"td",16),Le(1),ue()),2&n){const e=t.$implicit;$e(1),Pr(" ",e.description," ")}}function a4(n,t){1&n&&Qt(0,"tr",17)}function l4(n,t){1&n&&Qt(0,"tr",18)}function c4(n,t){if(1&n&&(ce(0,"table",7),ki(1,8),ut(2,e4,2,0,"th",9),ut(3,t4,2,1,"td",10),xi(),ki(4,11),ut(5,n4,2,0,"th",9),ut(6,r4,2,1,"td",10),xi(),ki(7,12),ut(8,o4,2,0,"th",9),ut(9,s4,2,1,"td",10),xi(),ut(10,a4,1,0,"tr",13),ut(11,l4,1,0,"tr",14),ue()),2&n){const e=kr();dt("dataSource",e.dataSource),$e(10),dt("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),$e(1),dt("matRowDefColumns",e.displayedColumns)}}const u4=[{path:"expensegroup/:id",component:$q,canActivate:[zl]},{path:"expensegroups",component:(()=>{class n{constructor(e,r,i){this.route=e,this.router=r,this.service=i}ngOnInit(){this.getExpenseGroups()}getExpenseGroups(){this.service.getAll().subscribe(e=>{console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(y(Ki),y(Mt),y(FM))},n.\u0275cmp=Ge({type:n,selectors:[["app-expense-group-list"]],decls:2,vars:0,template:function(e,r){1&e&&(ce(0,"p"),Le(1,"expense-group-list works!"),ue())}}),n})(),canActivate:[zl]},{path:"invitations",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ge({type:n,selectors:[["app-invitations-list"]],decls:2,vars:0,template:function(e,r){1&e&&(ce(0,"p"),Le(1,"invitations-list works!"),ue())}}),n})(),canActivate:[zl]},{path:"auth",component:OM},{path:"",component:(()=>{class n{constructor(e,r){this.authService=e,this.msalBroadcastService=r,this.loginDisplay=!1,this.displayedColumns=["claim","value","description"],this.dataSource=[]}ngOnInit(){this.msalBroadcastService.msalSubject$.pipe(Vt(e=>e.eventType===H.LOGIN_SUCCESS)).subscribe(e=>{this.authService.instance.setActiveAccount(e.payload.account)}),this.msalBroadcastService.inProgress$.pipe(Vt(e=>e===Ct.None)).subscribe(()=>{this.setLoginDisplay(),this.getClaims(this.authService.instance.getActiveAccount()?.idTokenClaims)})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}getClaims(e){if(e){const r=(n=>{const t=[];return Object.keys(n).map(e=>{switch(e){case"aud":At(e,n[e],"Identifies the intended recipient of the token. In ID tokens, the audience is your app's Application ID, assigned to your app in the Azure portal.",t);break;case"iss":At(e,n[e],"Identifies the issuer, or authorization server that constructs and returns the token. It also identifies the Azure AD tenant for which the user was authenticated. If the token was issued by the v2.0 endpoint, the URI will end in /v2.0.",t);break;case"iat":At(e,Yv(+n[e]),'"Issued At" indicates the timestamp (UNIX timestamp) when the authentication for this user occurred.',t);break;case"nbf":At(e,Yv(+n[e]),"The nbf (not before) claim dictates the time (as UNIX timestamp) before which the JWT must not be accepted for processing.",t);break;case"exp":At(e,Yv(+n[e]),"The exp (expiration time) claim dictates the expiration time (as UNIX timestamp) on or after which the JWT must not be accepted for processing. It's important to note that in certain circumstances, a resource may reject the token before this time. For example, if a change in authentication is required or a token revocation has been detected.",t);break;case"name":At(e,n[e],"The name claim provides a human-readable value that identifies the subject of the token. The value isn't guaranteed to be unique, it can be changed, and it's designed to be used only for display purposes. The 'profile' scope is required to receive this claim.",t);break;case"preferred_username":At(e,n[e],"The primary username that represents the user. It could be an email address, phone number, or a generic username without a specified format. Its value is mutable and might change over time. Since it is mutable, this value must not be used to make authorization decisions. It can be used for username hints, however, and in human-readable UI as a username. The profile scope is required in order to receive this claim.",t);break;case"nonce":At(e,n[e],"The nonce matches the parameter included in the original /authorize request to the IDP.",t);break;case"oid":At(e,n[e],"The oid (user object id) is the only claim that should be used to uniquely identify a user in an Azure AD tenant.",t);break;case"tid":At(e,n[e],"The id of the tenant where this application resides. You can use this claim to ensure that only users from the current Azure AD tenant can access this app.",t);break;case"upn":At(e,n[e],"upn (user principal name) might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place or might change to reflect a personal change like marriage.",t);break;case"email":At(e,n[e],"Email might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place.",t);break;case"acct":At(e,n[e],"Available as an optional claim, it lets you know what the type of user (homed, guest) is. For example, for an individual\u2019s access to their data you might not care for this claim, but you would use this along with tenant id (tid) to control access to say a company-wide dashboard to just employees (homed users) and not contractors (guest users).",t);break;case"sid":At(e,n[e],"Session ID, used for per-session user sign-out.",t);break;case"sub":At(e,n[e],"The principal about which the token asserts information, such as the user of an application. This value is immutable and can nott be reassigned or reused. It can be used to perform authorization checks safely, such as when the token is used to access a resource. By default, the subject claim is populated with the object ID of the user in the directory.",t);break;case"ver":At(e,n[e],"Version of the token issued by the Microsoft identity platform",t);break;case"login_hint":At(e,n[e],"An opaque, reliable login hint claim. This claim is the best value to use for the login_hint OAuth parameter in all flows to get SSO.",t);break;case"idtyp":At(e,n[e],"Value is app when the token is an app-only token. This is the most accurate way for an API to determine if a token is an app token or an app+user token",t);break;case"uti":case"rh":break;default:At(e,n[e],"",t)}}),t})(e);this.dataSource=[...r]}}}return n.\u0275fac=function(e){return new(e||n)(y(Zi),y(jl))},n.\u0275cmp=Ge({type:n,selectors:[["app-home"]],decls:5,vars:3,consts:[["class","card-section",4,"ngIf"],["class","text-center",4,"ngIf"],["id","table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"card-section"],[1,"text-center"],["href","https://learn.microsoft.com/azure/active-directory-b2c/tokens-overview"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","claim"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(ut(0,Jq,7,0,"mat-card",0),Qt(1,"br"),ut(2,Xq,8,0,"p",1),ce(3,"div",2),ut(4,c4,12,4,"table",3),ue()),2&e&&(dt("ngIf",!r.loginDisplay),$e(2),dt("ngIf",r.loginDisplay),$e(2),dt("ngIf",r.loginDisplay))},dependencies:[Du,KD,ev,WD,tv,Xg,YD,nv,rv,QD,ZD,T3,w3,E3,S3],styles:["#table-container[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{margin:3% auto auto;width:70%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}p[_ngcontent-%COMP%]{text-align:center}.card-section[_ngcontent-%COMP%]{margin:10%;padding:5%}"]}),n})()}];let d4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=ge({imports:[DM.forRoot(u4,{initialNavigation:tt.isInIframe()||tt.isInPopup()?"disabled":"enabledNonBlocking"}),DM]}),n})();function h4(n,t){if(1&n){const e=Xc();ce(0,"button",9),mt("click",function(){return mc(e),gc(kr().editProfile())}),Le(1,"Edit Profile"),ue()}}function f4(n,t){if(1&n){const e=Xc();ce(0,"button",10),mt("click",function(){return mc(e),gc(kr().login())}),Le(1,"Login"),ue()}}function p4(n,t){if(1&n){const e=Xc();ce(0,"button",11),mt("click",function(){return mc(e),gc(kr().logout())}),Le(1,"Logout"),ue()}}function m4(n,t){1&n&&Qt(0,"router-outlet")}function g4(n,t){1&n&&(ce(0,"footer")(1,"mat-toolbar")(2,"div",12),Le(3," Somethting trademark "),ue()()())}const v4=function(){return["expensegroups"]},_4=function(){return["invitations"]};let y4=(()=>{class n{constructor(e,r,i){this.msalGuardConfig=e,this.authService=r,this.msalBroadcastService=i,this.title="Care Share",this.isIframe=!1,this.loginDisplay=!1,this._destroying$=new Je}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.setLoginDisplay(),this.authService.instance.enableAccountStorageEvents(),this.msalBroadcastService.msalSubject$.pipe(Vt(e=>e.eventType===H.ACCOUNT_ADDED||e.eventType===H.ACCOUNT_REMOVED)).subscribe(e=>{0===this.authService.instance.getAllAccounts().length?window.location.pathname="/":this.setLoginDisplay()}),this.msalBroadcastService.inProgress$.pipe(Vt(e=>e===Ct.None),Sn(this._destroying$)).subscribe(()=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(Vt(e=>e.eventType===H.LOGIN_SUCCESS||e.eventType===H.ACQUIRE_TOKEN_SUCCESS||e.eventType===H.SSO_SILENT_SUCCESS),Sn(this._destroying$)).subscribe(e=>{let r=e.payload,i=r.idTokenClaims;if((i.acr===Mn_names_signUpSignIn||i.tfp===Mn_names_signUpSignIn)&&this.authService.instance.setActiveAccount(r.account),i.acr===Mn_names_editProfile||i.tfp===Mn_names_editProfile){const o=this.authService.instance.getAllAccounts().find(a=>a.idTokenClaims?.oid===i.oid&&a.idTokenClaims?.sub===i.sub&&(a.idTokenClaims.acr===Mn_names_signUpSignIn||a.idTokenClaims.tfp===Mn_names_signUpSignIn));this.authService.ssoSilent({authority:Mn_authorities_signUpSignIn.authority,account:o})}return i.acr!==Mn_names_resetPassword&&i.tfp!==Mn_names_resetPassword||this.login({authority:Mn_authorities_signUpSignIn.authority,prompt:Bt.LOGIN,scopes:[]}),e}),this.msalBroadcastService.msalSubject$.pipe(Vt(e=>e.eventType===H.LOGIN_FAILURE||e.eventType===H.ACQUIRE_TOKEN_FAILURE),Sn(this._destroying$)).subscribe(e=>{e.error&&e.error.message.indexOf("AADB2C90118")>-1&&this.login({authority:Mn_authorities_resetPassword.authority,scopes:[]})})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let r=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(r[0])}}login(e){this.msalGuardConfig.interactionType===x.Popup?this.msalGuardConfig.authRequest?this.authService.loginPopup({...this.msalGuardConfig.authRequest,...e}).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginPopup(e).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginRedirect(this.msalGuardConfig.authRequest?{...this.msalGuardConfig.authRequest,...e}:e)}logout(){const e=this.authService.instance.getActiveAccount()||this.authService.instance.getAllAccounts()[0];this.msalGuardConfig.interactionType===x.Popup?this.authService.logoutPopup({account:e}):this.authService.logoutRedirect({account:e})}editProfile(){this.login({authority:Mn_authorities_editProfile.authority,scopes:[]})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}}return n.\u0275fac=function(e){return new(e||n)(y(sh),y(Zi),y(jl))},n.\u0275cmp=Ge({type:n,selectors:[["app-root"]],decls:14,vars:10,consts:[["color","primary"],["href","/",1,"title"],[1,"toolbar-spacer"],["mat-button","",3,"routerLink"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"container"],[4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"footer-text"]],template:function(e,r){1&e&&(ce(0,"mat-toolbar",0)(1,"a",1),Le(2),ue(),Qt(3,"div",2),ce(4,"a",3),Le(5,"Expense Groups"),ue(),ce(6,"a",3),Le(7,"Invitations"),ue(),ut(8,h4,2,0,"button",4),ut(9,f4,2,0,"button",5),ut(10,p4,2,0,"button",6),ue(),ce(11,"div",7),ut(12,m4,1,0,"router-outlet",8),ue(),ut(13,g4,4,0,"footer",8)),2&e&&($e(2),Ip(r.title),$e(2),dt("routerLink",Lp(8,v4)),$e(2),dt("routerLink",Lp(9,_4)),$e(2),dt("ngIf",r.loginDisplay),$e(1),dt("ngIf",!r.loginDisplay),$e(1),dt("ngIf",r.loginDisplay),$e(2),dt("ngIf",!r.isIframe),$e(1),dt("ngIf",r.loginDisplay))},dependencies:[Du,Mv,Zd,PD,oz,dz],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{color:#fff}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;color:#fff;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:small;text-align:center;flex:1 1 auto}"]}),n})(),b4=(()=>{class n{constructor(e){this.http=e,this.url=Gl.apiTodoList.endpoint}getTodos(){return this.http.get(this.url)}getTodo(e){return this.http.get(this.url+"/"+e)}postTodo(e){return this.http.post(this.url,e)}deleteTodo(e){return this.http.delete(this.url+"/"+e)}editTodo(e){return this.http.put(this.url+"/"+e.id,e)}}return n.\u0275fac=function(e){return new(e||n)(w(Hs))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Et=(()=>{return(n=Et||(Et={})).AcquireTokenByCode="acquireTokenByCode",n.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",n.AcquireTokenSilent="acquireTokenSilent",n.AcquireTokenSilentAsync="acquireTokenSilentAsync",n.AcquireTokenPopup="acquireTokenPopup",n.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",n.CryptoOptsSignJwt="cryptoOptsSignJwt",n.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",n.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",n.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",n.SsoSilent="ssoSilent",n.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",n.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",n.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",n.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",n.BrokerHandhshake="brokerHandshake",n.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",n.AcquireTokenByBroker="acquireTokenByBroker",n.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",n.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",n.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",n.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",n.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",n.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",n.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",n.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",Et;var n})(),Po=(()=>{return(n=Po||(Po={}))[n.NotStarted=0]="NotStarted",n[n.InProgress=1]="InProgress",n[n.Completed=2]="Completed",Po;var n})(),Fo=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return Tn(t,n),t}(G),LM=["interaction_required","consent_required","login_required"],C4=["message_only","additional_action","basic_action","user_password_expired","consent_required"],$l_noTokensFoundError_code="no_tokens_found",$l_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",$l_native_account_unavailable_code="native_account_unavailable",$l_native_account_unavailable_desc="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",Cr=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,t.prototype),o}return Tn(t,n),t.isInteractionRequiredError=function(e,r,i){var o=!!e&&LM.indexOf(e)>-1,s=!!i&&C4.indexOf(i)>-1,a=!!r&&LM.some(function(l){return r.indexOf(l)>-1});return o||a||s},t.createNoTokensFoundError=function(){return new t($l_noTokensFoundError_code,$l_noTokensFoundError_desc)},t.createNativeAccountUnavailableError=function(){return new t($l_native_account_unavailable_code,$l_native_account_unavailable_desc)},t}(G),ah_missingKidError_code="missing_kid_error",ah_missingKidError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",ah_missingAlgError_code="missing_alg_error",ah_missingAlgError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",UM=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="JoseHeaderError",Object.setPrototypeOf(i,t.prototype),i}return Tn(t,n),t.createMissingKidError=function(){return new t(ah_missingKidError_code,ah_missingKidError_desc)},t.createMissingAlgError=function(){return new t(ah_missingAlgError_code,ah_missingAlgError_desc)},t}(G),w4=function(){function n(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}return n.getShrHeaderString=function(t){if(!t.kid)throw UM.createMissingKidError();if(!t.alg)throw UM.createMissingAlgError();var e=new n({typ:t.typ||nh.Jwt,kid:t.kid,alg:t.alg});return JSON.stringify(e)},n}(),en=function(){function n(){}return n.decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},n}(),VM=function(){function n(t){this.cryptoObj=t}return n.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,en.decimalToHex(t[0])+en.decimalToHex(t[1])+en.decimalToHex(t[2])+en.decimalToHex(t[3])+"-"+en.decimalToHex(t[4])+en.decimalToHex(t[5])+"-"+en.decimalToHex(t[6])+en.decimalToHex(t[7])+"-"+en.decimalToHex(t[8])+en.decimalToHex(t[9])+"-"+en.decimalToHex(t[10])+en.decimalToHex(t[11])+en.decimalToHex(t[12])+en.decimalToHex(t[13])+en.decimalToHex(t[14])+en.decimalToHex(t[15])}catch{for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",i=0,o=v.EMPTY_STRING,s=0;s<36;s++)"-"!==e[s]&&"4"!==e[s]&&(i=16*Math.random()|0),"x"===e[s]?o+=r[i]:"y"===e[s]?(i&=3,o+=r[i|=8]):o+=e[s];return o}},n.prototype.isGuid=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},n}(),vi=function(){function n(){}return n.stringToUtf8Arr=function(t){for(var e,r=0,i=t.length,o=0;o<i;o++)r+=(e=t.charCodeAt(o))<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;for(var s=new Uint8Array(r),a=0,l=0;a<r;l++)(e=t.charCodeAt(l))<128?s[a++]=e:e<2048?(s[a++]=192+(e>>>6),s[a++]=128+(63&e)):e<65536?(s[a++]=224+(e>>>12),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<2097152?(s[a++]=240+(e>>>18),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<67108864?(s[a++]=248+(e>>>24),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):(s[a++]=252+(e>>>30),s[a++]=128+(e>>>24&63),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e));return s},n.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return e},n.utf8ArrToString=function(t){for(var e=v.EMPTY_STRING,r=void 0,i=t.length,o=0;o<i;o++)r=t[o],e+=String.fromCharCode(r>251&&r<254&&o+5<i?1073741824*(r-252)+(t[++o]-128<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>247&&r<252&&o+4<i?(r-248<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>239&&r<248&&o+3<i?(r-240<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>223&&r<240&&o+2<i?(r-224<<12)+(t[++o]-128<<6)+t[++o]-128:r>191&&r<224&&o+1<i?(r-192<<6)+t[++o]-128:r);return e},n.getSortedObjectString=function(t){return JSON.stringify(t,Object.keys(t).sort())},n}(),HM=function(){function n(){}return n.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(t){var e=vi.stringToUtf8Arr(t);return this.base64EncArr(e)},n.prototype.base64EncArr=function(t){for(var e=(3-t.length%3)%3,r=v.EMPTY_STRING,i=void 0,o=t.length,s=0,a=0;a<o;a++)s|=t[a]<<(16>>>(i=a%3)&24),(2===i||t.length-a==1)&&(r+=String.fromCharCode(this.uint6ToB64(s>>>18&63),this.uint6ToB64(s>>>12&63),this.uint6ToB64(s>>>6&63),this.uint6ToB64(63&s)),s=0);return 0===e?r:r.substring(0,r.length-e)+(1===e?"=":"==")},n.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65},n}(),E4=function(){function n(){}return n.prototype.decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(e);return vi.utf8ArrToString(r)},n.prototype.base64DecToArr=function(t,e){for(var r=t.replace(/[^A-Za-z0-9\+\/]/g,v.EMPTY_STRING),i=r.length,o=e?Math.ceil((3*i+1>>>2)/e)*e:3*i+1>>>2,s=new Uint8Array(o),a=void 0,l=void 0,c=0,u=0,d=0;d<i;d++)if(l=3&d,c|=this.b64ToUint6(r.charCodeAt(d))<<18-6*l,3===l||i-d==1){for(a=0;a<3&&u<o;a++,u++)s[u]=c>>>(16>>>a&24)&255;c=0}return s},n.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},n}(),T4=function(){function n(t){this.base64Encode=new HM,this.cryptoObj=t}return n.prototype.generateCodes=function(){return T(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return e=r.sent(),[2,{verifier:t,challenge:e}]}})})},n.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(32);return this.cryptoObj.getRandomValues(t),this.base64Encode.urlEncodeArr(t)}catch(r){throw O.createPkceNotGeneratedError(r)}},n.prototype.generateCodeChallengeFromVerifier=function(t){return T(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return e=i.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(e))];case 2:throw r=i.sent(),O.createPkceNotGeneratedError(r);case 3:return[2]}})})},n}(),D4=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.crypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return T(this,void 0,void 0,function(){return D(this,function(e){return[2,window.crypto.subtle.exportKey(Ys,t)]})})},n.prototype.importKey=function(t,e,r,i){return T(this,void 0,void 0,function(){return D(this,function(o){return[2,window.crypto.subtle.importKey(Ys,t,e,r,i)]})})},n.prototype.sign=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,window.crypto.subtle.digest(t,e)]})})},n}(),I4=function(){function n(){}return n.prototype.initPrng=function(t){return window.msrCrypto.initPrng(qv(t))},n.prototype.getRandomValues=function(t){return window.msrCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return T(this,void 0,void 0,function(){return D(this,function(e){return[2,window.msrCrypto.subtle.exportKey(Ys,t)]})})},n.prototype.importKey=function(t,e,r,i){return T(this,void 0,void 0,function(){return D(this,function(o){return[2,window.msrCrypto.subtle.importKey(Ys,t,e,r,i)]})})},n.prototype.sign=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,window.msrCrypto.subtle.digest(t,e)]})})},n}(),M4=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.msCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.generateKey(t,e,r);a.addEventListener("complete",function(l){o(l.target.result)}),a.addEventListener("error",function(l){s(l)})})]})})},n.prototype.exportKey=function(t){return T(this,void 0,void 0,function(){return D(this,function(e){return[2,new Promise(function(r,i){var o=window.msCrypto.subtle.exportKey(Ys,t);o.addEventListener("complete",function(s){var l=vi.utf8ArrToString(new Uint8Array(s.target.result)).replace(/\r/g,v.EMPTY_STRING).replace(/\n/g,v.EMPTY_STRING).replace(/\t/g,v.EMPTY_STRING).split(" ").join(v.EMPTY_STRING).replace("\0",v.EMPTY_STRING);try{r(JSON.parse(l))}catch(c){i(c)}}),o.addEventListener("error",function(s){i(s)})})]})})},n.prototype.importKey=function(t,e,r,i){return T(this,void 0,void 0,function(){var o,s;return D(this,function(a){return o=vi.getSortedObjectString(t),s=vi.stringToArrayBuffer(o),[2,new Promise(function(l,c){var u=window.msCrypto.subtle.importKey(Ys,s,e,r,i);u.addEventListener("complete",function(d){l(d.target.result)}),u.addEventListener("error",function(d){c(d)})})]})})},n.prototype.sign=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.sign(t,e,r);a.addEventListener("complete",function(l){o(l.target.result)}),a.addEventListener("error",function(l){s(l)})})]})})},n.prototype.digest=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,new Promise(function(i,o){var s=window.msCrypto.subtle.digest(t,e.buffer);s.addEventListener("complete",function(a){i(a.target.result)}),s.addEventListener("error",function(a){o(a)})})]})})},n}(),BM="SHA-256",k4=new Uint8Array([1,0,1]),jM=function(){function n(t,e){var r,i;if(this.logger=t,this.cryptoOptions=e,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new D4;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new M4;else{if(!this.hasMsrCrypto()||!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),O.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new I4}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),null===(i=this.cryptoOptions)||void 0===i||!i.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),Qs.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:BM,modulusLength:2048,publicExponent:k4}}return n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},n.prototype.sha256Digest=function(t){return T(this,void 0,void 0,function(){var e;return D(this,function(r){return e=vi.stringToUtf8Arr(t),[2,this.subtleCrypto.digest({name:BM},e)]})})},n.prototype.getRandomValues=function(t){return this.subtleCrypto.getRandomValues(t)},n.prototype.generateKeyPair=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,t,e)]})})},n.prototype.exportJwk=function(t){return T(this,void 0,void 0,function(){return D(this,function(e){return[2,this.subtleCrypto.exportKey(t)]})})},n.prototype.importJwk=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,this.subtleCrypto.importKey(t,this.keygenAlgorithmOptions,e,r)]})})},n.prototype.sign=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,t,e)]})})},n}(),x4=function(){function n(){this.dbName=Gv,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return T(this,void 0,void 0,function(){var t=this;return D(this,function(e){return[2,new Promise(function(r,i){var o=window.indexedDB.open(t.dbName,t.version);o.addEventListener("upgradeneeded",function(s){s.target.result.createObjectStore(t.tableName)}),o.addEventListener("success",function(s){t.db=s.target.result,t.dbOpen=!0,r()}),o.addEventListener("error",function(){return i(O.createDatabaseUnavailableError())})})]})})},n.prototype.closeConnection=function(){var t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)},n.prototype.validateDbIsOpen=function(){return T(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},n.prototype.getItem=function(t){return T(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var l=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);l.addEventListener("success",function(c){var u=c;e.closeConnection(),i(u.target.result)}),l.addEventListener("error",function(c){e.closeConnection(),o(c)})})]}})})},n.prototype.setItem=function(t,e){return T(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(o,s){if(!r.db)return s(O.createDatabaseNotOpenError());var c=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(e,t);c.addEventListener("success",function(){r.closeConnection(),o()}),c.addEventListener("error",function(u){r.closeConnection(),s(u)})})]}})})},n.prototype.removeItem=function(t){return T(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var l=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);l.addEventListener("success",function(){e.closeConnection(),i()}),l.addEventListener("error",function(c){e.closeConnection(),o(c)})})]}})})},n.prototype.getKeys=function(){return T(this,void 0,void 0,function(){var t=this;return D(this,function(e){switch(e.label){case 0:return[4,this.validateDbIsOpen()];case 1:return e.sent(),[2,new Promise(function(r,i){if(!t.db)return i(O.createDatabaseNotOpenError());var a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();a.addEventListener("success",function(l){var c=l;t.closeConnection(),r(c.target.result)}),a.addEventListener("error",function(l){t.closeConnection(),i(l)})})]}})})},n.prototype.containsKey=function(t){return T(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(O.createDatabaseNotOpenError());var l=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);l.addEventListener("success",function(c){var u=c;e.closeConnection(),i(1===u.target.result)}),l.addEventListener("error",function(c){e.closeConnection(),o(c)})})]}})})},n.prototype.deleteDatabase=function(){return T(this,void 0,void 0,function(){return D(this,function(t){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(e,r){var i=window.indexedDB.deleteDatabase(Gv);i.addEventListener("success",function(){return e(!0)}),i.addEventListener("blocked",function(){return e(!0)}),i.addEventListener("error",function(){return r(!1)})})]})})},n}(),Qv=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(t){return this.cache.get(t)||null},n.prototype.setItem=function(t,e){this.cache.set(t,e)},n.prototype.removeItem=function(t){this.cache.delete(t)},n.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(e,r){t.push(r)}),t},n.prototype.containsKey=function(t){return this.cache.has(t)},n.prototype.clear=function(){this.cache.clear()},n}(),zM=function(){function n(t,e){this.inMemoryCache=new Qv,this.indexedDBCache=new x4,this.logger=t,this.storeName=e}return n.prototype.handleDatabaseAccessError=function(t){if(!(t instanceof O&&t.errorCode===I_databaseUnavailable_code))throw t;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(t){return T(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.getItem(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.setItem=function(t,e){return T(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:this.inMemoryCache.setItem(t,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,e)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(t){return T(this,void 0,void 0,function(){var e;return D(this,function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return T(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:if(0!==(t=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2,t]}})})},n.prototype.containsKey=function(t){return T(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.containsKey(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},n.prototype.clearPersistent=function(){return T(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(t=r.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,t];case 2:return e=r.sent(),this.handleDatabaseAccessError(e),[2,!1];case 3:return[2]}})})},n}(),ql=(()=>{return(n=ql||(ql={})).asymmetricKeys="asymmetricKeys",n.symmetricKeys="symmetricKeys",ql;var n})(),N4=function(){function n(t){this.logger=t,this.asymmetricKeys=new zM(this.logger,ql.asymmetricKeys),this.symmetricKeys=new zM(this.logger,ql.symmetricKeys)}return n.prototype.clear=function(){return T(this,void 0,void 0,function(){var t;return D(this,function(e){switch(e.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return e.sent(),[2,!0];case 3:return(t=e.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+t.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},n}(),O4=function(){function n(t,e,r){this.logger=t,this.browserCrypto=new jM(this.logger,r),this.b64Encode=new HM,this.b64Decode=new E4,this.guidGenerator=new VM(this.browserCrypto),this.pkceGenerator=new T4(this.browserCrypto),this.cache=new N4(this.logger),this.performanceClient=e}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},n.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},n.prototype.generatePkceCodes=function(){return T(this,void 0,void 0,function(){return D(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(t){var e;return T(this,void 0,void 0,function(){var r,i,o,a,l,c,u;return D(this,function(d){switch(d.label){case 0:return r=null===(e=this.performanceClient)||void 0===e?void 0:e.startMeasurement(Et.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return i=d.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return o=d.sent(),a=vi.getSortedObjectString({e:o.e,kty:o.kty,n:o.n}),[4,this.hashString(a)];case 3:return l=d.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return c=d.sent(),[4,this.browserCrypto.importJwk(c,!1,["sign"])];case 5:return u=d.sent(),[4,this.cache.asymmetricKeys.setItem(l,{privateKey:u,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,l]}})})},n.prototype.removeTokenBindingKey=function(t){return T(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return r.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return[2,!r.sent()]}})})},n.prototype.clearKeystore=function(){return T(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:return[4,this.cache.clear()];case 1:return[2,t.sent()]}})})},n.prototype.signJwt=function(t,e,r){var i;return T(this,void 0,void 0,function(){var o,s,a,l,c,u,d,h,f,p,m,g,_;return D(this,function(C){switch(C.label){case 0:return o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(Et.CryptoOptsSignJwt,r),[4,this.cache.asymmetricKeys.getItem(e)];case 1:if(!(s=C.sent()))throw O.createSigningKeyNotFoundInStorageError(e);return[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return a=C.sent(),l=vi.getSortedObjectString(a),c=this.b64Encode.urlEncode(JSON.stringify({kid:e})),u=w4.getShrHeaderString({kid:c,alg:a.alg}),d=this.b64Encode.urlEncode(u),t.cnf={jwk:JSON.parse(l)},h=this.b64Encode.urlEncode(JSON.stringify(t)),p=vi.stringToArrayBuffer(f=d+"."+h),[4,this.browserCrypto.sign(s.privateKey,p)];case 3:return m=C.sent(),g=this.b64Encode.urlEncodeArr(new Uint8Array(m)),_=f+"."+g,o&&o.endMeasurement({success:!0}),[2,_]}})})},n.prototype.hashString=function(t){return T(this,void 0,void 0,function(){var e,r;return D(this,function(i){switch(i.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return e=i.sent(),r=new Uint8Array(e),[2,this.b64Encode.urlEncodeArr(r)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),GM=function(){function n(t,e,r,i,o,s){this.authority=e,this.libraryName=i,this.libraryVersion=o,this.applicationTelemetry=s,this.clientId=t,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.staticFieldsByCorrelationId=new Map,this.measurementsById=new Map}return n.prototype.startMeasurement=function(t,e){var i,o,r=this,s=e||this.generateId();e||this.logger.info("PerformanceClient: No correlation id provided for "+t+", generating",s),this.logger.trace("PerformanceClient: Performance measurement started for "+t,s);var a=this.startPerformanceMeasurement(t,s);a.startMeasurement();var l={eventId:this.generateId(),status:Po.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:t,startTimeMs:Date.now(),correlationId:s};this.cacheEventByCorrelationId(l);var c={appName:null===(i=this.applicationTelemetry)||void 0===i?void 0:i.appName,appVersion:null===(o=this.applicationTelemetry)||void 0===o?void 0:o.appVersion};return this.addStaticFields(c,s),this.cacheMeasurement(l,a),{endMeasurement:function(u){var d=r.endMeasurement(Qe(Qe({},l),u));return d&&r.cacheEventByCorrelationId(d),d},flushMeasurement:function(){return r.flushMeasurements(l.name,l.correlationId)},discardMeasurement:function(){return r.discardMeasurements(l.correlationId)},addStaticFields:function(u){return r.addStaticFields(u,l.correlationId)},measurement:a,event:l}},n.prototype.endMeasurement=function(t){var e=this.measurementsById.get(t.eventId);if(e){this.measurementsById.delete(t.eventId),e.endMeasurement();var r=e.flushMeasurement();if(null!==r)return this.logger.trace("PerformanceClient: Performance measurement ended for "+t.name+": "+r+" ms",t.correlationId),Qe(Qe({durationMs:Math.round(r)},t),{status:Po.Completed});this.logger.trace("PerformanceClient: Performance measurement not taken",t.correlationId)}else this.logger.trace("PerformanceClient: Measurement not found for "+t.eventId,t.correlationId);return null},n.prototype.addStaticFields=function(t,e){var r=this.staticFieldsByCorrelationId.get(e);r?(this.logger.trace("PerformanceClient: Updating static fields"),this.staticFieldsByCorrelationId.set(e,Qe(Qe({},r),t))):(this.logger.trace("PerformanceClient: Adding static fields"),this.staticFieldsByCorrelationId.set(e,t))},n.prototype.cacheEventByCorrelationId=function(t){var e=this.eventsByCorrelationId.get(t.correlationId);e?(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" added/updated",t.correlationId),e.set(t.eventId,t)):(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" started",t.correlationId),this.eventsByCorrelationId.set(t.correlationId,(new Map).set(t.eventId,t)))},n.prototype.cacheMeasurement=function(t,e){this.measurementsById.set(t.eventId,e)},n.prototype.flushMeasurements=function(t,e){var r=this;this.logger.trace("PerformanceClient: Performance measurements flushed for "+t,e);var i=this.eventsByCorrelationId.get(e);if(i){this.discardMeasurements(e);var o=[];i.forEach(function(h){if(h.name!==t&&h.status!==Po.Completed){r.logger.trace("PerformanceClient: Incomplete submeasurement "+h.name+" found for "+t,e);var f=r.endMeasurement(h);f&&o.push(f)}o.push(h)});var s=o.sort(function(h,f){return h.startTimeMs-f.startTimeMs}),a=s.filter(function(h){return h.name===t&&h.status===Po.Completed});if(a.length>0){a.length>1&&this.logger.verbose("PerformanceClient: Multiple distinct top-level performance events found, using the first",e);var l=a[0];this.logger.verbose("PerformanceClient: Measurement found for "+t,e);var c=s.reduce(function(h,f){if(f.name!==t){r.logger.trace("PerformanceClient: Complete submeasurement found for "+f.name,e);var p=f.name+"DurationMs";h[p]?r.logger.verbose("PerformanceClient: Submeasurement for "+t+" already exists for "+f.name+", ignoring",e):h[p]=f.durationMs}return h},l),u=this.staticFieldsByCorrelationId.get(e),d=Qe(Qe({},c),u);this.emitEvents([d],c.correlationId)}else this.logger.verbose("PerformanceClient: No completed top-level measurements found for "+t,e)}else this.logger.verbose("PerformanceClient: No measurements found",e)},n.prototype.discardMeasurements=function(t){this.logger.trace("PerformanceClient: Performance measurements discarded",t),this.eventsByCorrelationId.delete(t)},n.prototype.addPerformanceCallback=function(t){var e=this.generateId();return this.callbacks.set(e,t),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+e),e},n.prototype.removePerformanceCallback=function(t){var e=this.callbacks.delete(t);return this.logger.verbose(e?"PerformanceClient: Performance callback "+t+" removed.":"PerformanceClient: Performance callback "+t+" not removed."),e},n.prototype.emitEvents=function(t,e){var r=this;this.logger.verbose("PerformanceClient: Emitting performance events",e),this.callbacks.forEach(function(i,o){r.logger.trace("PerformanceClient: Emitting event to callback "+o,e),i.apply(null,[t])})},n}(),P4=function(){function n(){}return n.prototype.startMeasurement=function(){},n.prototype.endMeasurement=function(){},n.prototype.flushMeasurement=function(){return null},n}(),F4=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Tn(t,n),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasurement=function(){return new P4},t}(GM),lh={createNewGuid:function(){throw G.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw G.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw G.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}};function ch(n,t){if(N.isEmpty(n))throw V.createClientInfoEmptyError();try{var e=t.base64Decode(n);return JSON.parse(e)}catch(r){throw V.createClientInfoDecodingError(r.message)}}function Zs(n){if(N.isEmpty(n))throw V.createClientInfoDecodingError("Home account ID was empty.");var t=n.split(pn.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?v.EMPTY_STRING:t[1]}}var $n=(()=>{return(n=$n||($n={}))[n.Default=0]="Default",n[n.Adfs=1]="Adfs",n[n.Dsts=2]="Dsts",$n;var n})(),Gt=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case Br.ADFS_ACCOUNT_TYPE:return jr.ADFS;case Br.MSAV1_ACCOUNT_TYPE:return jr.MSA;case Br.MSSTS_ACCOUNT_TYPE:return jr.MSSTS;case Br.GENERIC_ACCOUNT_TYPE:return jr.GENERIC;default:throw V.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},n.generateAccountCacheKey=function(t){return[t.homeAccountId,t.environment||v.EMPTY_STRING,t.tenantId||v.EMPTY_STRING].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(t,e,r,i,o,s,a,l){var c,u,d,h,f,p,m=new n;m.authorityType=Br.MSSTS_ACCOUNT_TYPE,m.clientInfo=t,m.homeAccountId=e,m.nativeAccountId=l;var g=a||i&&i.getPreferredCache();if(!g)throw V.createInvalidCacheEnvironmentError();if(m.environment=g,m.realm=(null===(c=r?.claims)||void 0===c?void 0:c.tid)||v.EMPTY_STRING,r){m.idTokenClaims=r.claims,m.localAccountId=(null===(u=r?.claims)||void 0===u?void 0:u.oid)||(null===(d=r?.claims)||void 0===d?void 0:d.sub)||v.EMPTY_STRING;var _=null===(h=r?.claims)||void 0===h?void 0:h.preferred_username,C=null!==(f=r?.claims)&&void 0!==f&&f.emails?r.claims.emails[0]:null;m.username=_||C||v.EMPTY_STRING,m.name=null===(p=r?.claims)||void 0===p?void 0:p.name}return m.cloudGraphHostName=o,m.msGraphHost=s,m},n.createGenericAccount=function(t,e,r,i,o,s){var a,l,c,u,d=new n;d.authorityType=r&&r.authorityType===$n.Adfs?Br.ADFS_ACCOUNT_TYPE:Br.GENERIC_ACCOUNT_TYPE,d.homeAccountId=t,d.realm=v.EMPTY_STRING;var h=s||r&&r.getPreferredCache();if(!h)throw V.createInvalidCacheEnvironmentError();return e&&(d.localAccountId=(null===(a=e?.claims)||void 0===a?void 0:a.oid)||(null===(l=e?.claims)||void 0===l?void 0:l.sub)||v.EMPTY_STRING,d.username=(null===(c=e?.claims)||void 0===c?void 0:c.upn)||v.EMPTY_STRING,d.name=(null===(u=e?.claims)||void 0===u?void 0:u.name)||v.EMPTY_STRING,d.idTokenClaims=e?.claims),d.environment=h,d.cloudGraphHostName=i,d.msGraphHost=o,d},n.generateHomeAccountId=function(t,e,r,i,o){var s,a=null!==(s=o?.claims)&&void 0!==s&&s.sub?o.claims.sub:v.EMPTY_STRING;if(e===$n.Adfs||e===$n.Dsts)return a;if(t)try{var l=ch(t,i);if(!N.isEmpty(l.uid)&&!N.isEmpty(l.utid))return""+l.uid+pn.CLIENT_INFO_SEPARATOR+l.utid}catch{}return r.verbose("No client info in response"),a},n.isAccountEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(t,e,r){if(!t||!e)return!1;var i=!0;if(r){var o=t.idTokenClaims||{},s=e.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&i},n}(),Kl=function(){function n(){}return n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case _e.ID_TOKEN:return jr.ID_TOKEN;case _e.ACCESS_TOKEN:case _e.ACCESS_TOKEN_WITH_AUTH_SCHEME:return jr.ACCESS_TOKEN;case _e.REFRESH_TOKEN:return jr.REFRESH_TOKEN;default:throw V.createUnexpectedCredentialTypeError()}},n.getCredentialType=function(t){for(var e=pn.CACHE_KEY_SEPARATOR,i=0,o=Object.keys(_e);i<o.length;i++){var s=o[i],a=_e[s].toLowerCase();if(-1!==t.toLowerCase().search("(?<="+e+"(https?:\\/\\/)?([\\w-]+\\.)*([\\w-]{1,63})(\\.(\\w{2,3}))(\\:[0-9]{4,5})?)"+e+a+e))return _e[s]}return v.NOT_DEFINED},n.generateCredentialCacheKey=function(t,e,r,i,o,s,a,l,c){return[this.generateAccountIdForCacheKey(t,e),this.generateCredentialIdForCacheKey(r,i,o,a),this.generateTargetForCacheKey(s),this.generateClaimsHashForCacheKey(c),this.generateSchemeForCacheKey(l)].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(t,e){return[t,e].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(t,e,r,i){return[t,t===_e.REFRESH_TOKEN&&i||e,r||v.EMPTY_STRING].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(t){return(t||v.EMPTY_STRING).toLowerCase()},n.generateClaimsHashForCacheKey=function(t){return(t||v.EMPTY_STRING).toLowerCase()},n.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==Pe.BEARER.toLowerCase()?t.toLowerCase():v.EMPTY_STRING},n}(),gn=function(){function n(t){var e=this,r=t?N.trimArrayEntries(eh(t)):[],i=r?N.removeEmptyStringsFromArray(r):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach(function(o){return e.scopes.add(o)})}return n.fromString=function(t){return new n((t||v.EMPTY_STRING).split(" "))},n.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw et.createEmptyScopesArrayError()},n.prototype.containsScope=function(t){var r=new n(this.printScopesLowerCase().split(" "));return!N.isEmpty(t)&&r.scopes.has(t.toLowerCase())},n.prototype.containsScopeSet=function(t){var e=this;return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(function(r){return e.containsScope(r)})},n.prototype.containsOnlyOIDCScopes=function(){var t=this,e=0;return MM.forEach(function(r){t.containsScope(r)&&(e+=1)}),this.scopes.size===e},n.prototype.appendScope=function(t){N.isEmpty(t)||this.scopes.add(t.trim())},n.prototype.appendScopes=function(t){var e=this;try{t.forEach(function(r){return e.appendScope(r)})}catch(r){throw V.createAppendScopeSetError(r)}},n.prototype.removeScope=function(t){if(N.isEmpty(t))throw V.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},n.prototype.removeOIDCScopes=function(){var t=this;MM.forEach(function(e){t.scopes.delete(e)})},n.prototype.unionScopeSets=function(t){if(!t)throw V.createEmptyInputScopeSetError();var e=new Set;return t.scopes.forEach(function(r){return e.add(r.toLowerCase())}),this.scopes.forEach(function(r){return e.add(r.toLowerCase())}),e},n.prototype.intersectingScopeSets=function(t){if(!t)throw V.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var e=this.unionScopeSets(t),r=t.getScopeCount(),i=this.getScopeCount();return e.size<i+r},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(e){return t.push(e)}),t},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):v.EMPTY_STRING},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}(),Gr=function(){function n(t,e){if(N.isEmpty(t))throw V.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=n.extractTokenClaims(t,e)}return n.extractTokenClaims=function(t,e){var r=N.decodeAuthToken(t);try{var o=e.base64Decode(r.JWSPayload);return JSON.parse(o)}catch(s){throw V.createTokenParsingError(s)}},n.checkMaxAge=function(t,e){if(0===e||Date.now()-3e5>t+e)throw V.createMaxAgeTranspiredError()},n}(),wr=function(){function n(t,e){this.clientId=t,this.cryptoImpl=e}return n.prototype.getAllAccounts=function(){var t=this,e=this.getAccountsFilteredBy(),r=Object.keys(e).map(function(s){return e[s]});return r.length<1?[]:r.map(function(s){var l=n.toObject(new Gt,s).getAccountInfo(),c=t.readIdTokenFromCache(t.clientId,l);return c&&!l.idTokenClaims&&(l.idToken=c.secret,l.idTokenClaims=new Gr(c.secret,t.cryptoImpl).claims),l})},n.prototype.saveCacheRecord=function(t){return ee(this,void 0,void 0,function(){return te(this,function(e){switch(e.label){case 0:if(!t)throw V.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(t){return ee(this,void 0,void 0,function(){var e,r,i,o,s=this;return te(this,function(a){switch(a.label){case 0:return e=this.getCredentialsFilteredBy({clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash}),r=gn.fromString(t.target),(i=Object.keys(e.accessTokens).map(function(l){return e.accessTokens[l]}))?(o=[],i.forEach(function(l){gn.fromString(l.target).intersectingScopeSets(r)&&o.push(s.removeCredential(l))}),[4,Promise.all(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(t),[2]}})})},n.prototype.getAccountsFilteredBy=function(t){return this.getAccountsFilteredByInternal(t?t.homeAccountId:v.EMPTY_STRING,t?t.environment:v.EMPTY_STRING,t?t.realm:v.EMPTY_STRING,t?t.nativeAccountId:v.EMPTY_STRING)},n.prototype.getAccountsFilteredByInternal=function(t,e,r,i){var o=this,s=this.getKeys(),a={};return s.forEach(function(l){var c=o.getAccount(l);!c||t&&!o.matchHomeAccountId(c,t)||e&&!o.matchEnvironment(c,e)||r&&!o.matchRealm(c,r)||i&&!o.matchNativeAccountId(c,i)||(a[l]=c)}),a},n.prototype.getCredentialsFilteredBy=function(t){return this.getCredentialsFilteredByInternal(t.homeAccountId,t.environment,t.credentialType,t.clientId,t.familyId,t.realm,t.target,t.userAssertionHash,t.tokenType,t.keyId,t.requestedClaimsHash)},n.prototype.getCredentialsFilteredByInternal=function(t,e,r,i,o,s,a,l,c,u,d){var h=this,f=this.getKeys(),p={idTokens:{},accessTokens:{},refreshTokens:{}};return f.forEach(function(m){var g=Kl.getCredentialType(m);if(g!==v.NOT_DEFINED){var _=h.getSpecificCredential(m,g);if(_&&(!l||h.matchUserAssertionHash(_,l))&&("string"!=typeof t||h.matchHomeAccountId(_,t))&&(!e||h.matchEnvironment(_,e))&&(!s||h.matchRealm(_,s))&&(!r||h.matchCredentialType(_,r))&&(!i||h.matchClientId(_,i))&&(!o||h.matchFamilyId(_,o))&&(!a||h.matchTarget(_,a))&&(!d&&!_.requestedClaimsHash||_.requestedClaimsHash===d)&&(r!==_e.ACCESS_TOKEN_WITH_AUTH_SCHEME||!(c&&!h.matchTokenType(_,c)||c===Pe.SSH&&u&&!h.matchKeyId(_,u)))){var C=h.updateCredentialCacheKey(m,_);switch(g){case _e.ID_TOKEN:p.idTokens[C]=_;break;case _e.ACCESS_TOKEN:case _e.ACCESS_TOKEN_WITH_AUTH_SCHEME:p.accessTokens[C]=_;break;case _e.REFRESH_TOKEN:p.refreshTokens[C]=_}}}}),p},n.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(t,e){var r=this,i=this.getKeys(),o={};return i.forEach(function(s){if(r.isAppMetadata(s)){var a=r.getAppMetadata(s);!a||t&&!r.matchEnvironment(a,t)||e&&!r.matchClientId(a,e)||(o[s]=a)}}),o},n.prototype.getAuthorityMetadataByAlias=function(t){var e=this,r=this.getAuthorityMetadataKeys(),i=null;return r.forEach(function(o){if(e.isAuthorityMetadata(o)&&-1!==o.indexOf(e.clientId)){var s=e.getAuthorityMetadata(o);!s||-1!==s.aliases.indexOf(t)&&(i=s)}}),i},n.prototype.removeAllAccounts=function(){return ee(this,void 0,void 0,function(){var t,e,r=this;return te(this,function(i){switch(i.label){case 0:return t=this.getKeys(),e=[],t.forEach(function(o){!r.getAccount(o)||e.push(r.removeAccount(o))}),[4,Promise.all(e)];case 1:return i.sent(),[2,!0]}})})},n.prototype.removeAccount=function(t){return ee(this,void 0,void 0,function(){var e;return te(this,function(r){switch(r.label){case 0:if(!(e=this.getAccount(t)))throw V.createNoAccountFoundError();return[4,this.removeAccountContext(e)];case 1:return[2,r.sent()&&this.removeItem(t,Wi.ACCOUNT)]}})})},n.prototype.removeAccountContext=function(t){return ee(this,void 0,void 0,function(){var e,r,i,o=this;return te(this,function(s){switch(s.label){case 0:return e=this.getKeys(),r=t.generateAccountId(),i=[],e.forEach(function(a){var l=Kl.getCredentialType(a);if(l!==v.NOT_DEFINED){var c=o.getSpecificCredential(a,l);c&&r===c.generateAccountId()&&i.push(o.removeCredential(c))}}),[4,Promise.all(i)];case 1:return s.sent(),[2,!0]}})})},n.prototype.removeCredential=function(t){return ee(this,void 0,void 0,function(){var e,i;return te(this,function(o){switch(o.label){case 0:if(e=t.generateCredentialKey(),t.credentialType.toLowerCase()!==_e.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==Pe.POP)return[3,4];if(!(i=t.keyId))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(i)];case 2:return o.sent(),[3,4];case 3:throw o.sent(),V.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e,Wi.CREDENTIAL)]}})})},n.prototype.removeAppMetadata=function(){var t=this;return this.getKeys().forEach(function(r){t.isAppMetadata(r)&&t.removeItem(r,Wi.APP_METADATA)}),!0},n.prototype.readCacheRecord=function(t,e,r,i){var o=this.readAccountFromCache(t),s=this.readIdTokenFromCache(e,t),a=this.readAccessTokenFromCache(e,t,r),l=this.readRefreshTokenFromCache(e,t,!1),c=this.readAppMetadataFromCache(i,e);return o&&s&&(o.idTokenClaims=new Gr(s.secret,this.cryptoImpl).claims),{account:o,idToken:s,accessToken:a,refreshToken:l,appMetadata:c}},n.prototype.readAccountFromCache=function(t){var e=Gt.generateAccountCacheKey(t);return this.getAccount(e)},n.prototype.readAccountFromCacheWithNativeAccountId=function(t){var r=this.getAccountsFilteredBy({nativeAccountId:t}),i=Object.keys(r).map(function(o){return r[o]});if(i.length<1)return null;if(i.length>1)throw V.createMultipleMatchingAccountsInCacheError();return r[0]},n.prototype.readIdTokenFromCache=function(t,e){var i=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:_e.ID_TOKEN,clientId:t,realm:e.tenantId}),o=Object.keys(i.idTokens).map(function(a){return i.idTokens[a]}),s=o.length;if(s<1)return null;if(s>1)throw V.createMultipleMatchingTokensInCacheError();return o[0]},n.prototype.readAccessTokenFromCache=function(t,e,r){var i=new gn(r.scopes||[]),o=r.authenticationScheme||Pe.BEARER,s=o&&o.toLowerCase()!==Pe.BEARER.toLowerCase()?_e.ACCESS_TOKEN_WITH_AUTH_SCHEME:_e.ACCESS_TOKEN,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:t,realm:e.tenantId,target:i.printScopesLowerCase(),tokenType:o,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},l=this.getCredentialsFilteredBy(a),c=Object.keys(l.accessTokens).map(function(d){return l.accessTokens[d]}),u=c.length;if(u<1)return null;if(u>1)throw V.createMultipleMatchingTokensInCacheError();return c[0]},n.prototype.readRefreshTokenFromCache=function(t,e,r){var s=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:_e.REFRESH_TOKEN,clientId:t,familyId:r?"1":void 0}),a=Object.keys(s.refreshTokens).map(function(c){return s.refreshTokens[c]});return a.length<1?null:a[0]},n.prototype.readAppMetadataFromCache=function(t,e){var i=this.getAppMetadataFilteredBy({environment:t,clientId:e}),o=Object.keys(i).map(function(a){return i[a]}),s=o.length;if(s<1)return null;if(s>1)throw V.createMultipleMatchingAppMetadataInCacheError();return o[0]},n.prototype.isAppMetadataFOCI=function(t,e){var r=this.readAppMetadataFromCache(t,e);return!(!r||"1"!==r.familyId)},n.prototype.matchHomeAccountId=function(t,e){return"string"==typeof t.homeAccountId&&e===t.homeAccountId},n.prototype.matchUserAssertionHash=function(t,e){return!(!t.userAssertionHash||e!==t.userAssertionHash)},n.prototype.matchEnvironment=function(t,e){var r=this.getAuthorityMetadataByAlias(e);return!!(r&&r.aliases.indexOf(t.environment)>-1)},n.prototype.matchCredentialType=function(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()},n.prototype.matchClientId=function(t,e){return!(!t.clientId||e!==t.clientId)},n.prototype.matchFamilyId=function(t,e){return!(!t.familyId||e!==t.familyId)},n.prototype.matchRealm=function(t,e){return!(!t.realm||e!==t.realm)},n.prototype.matchNativeAccountId=function(t,e){return!(!t.nativeAccountId||e!==t.nativeAccountId)},n.prototype.matchTarget=function(t,e){if(t.credentialType!==_e.ACCESS_TOKEN&&t.credentialType!==_e.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)return!1;var i=gn.fromString(t.target),o=gn.fromString(e);return o.containsOnlyOIDCScopes()?o.removeScope(v.OFFLINE_ACCESS_SCOPE):o.removeOIDCScopes(),i.containsScopeSet(o)},n.prototype.matchTokenType=function(t,e){return!(!t.tokenType||t.tokenType!==e)},n.prototype.matchKeyId=function(t,e){return!(!t.keyId||t.keyId!==e)},n.prototype.isAppMetadata=function(t){return-1!==t.indexOf(zv)},n.prototype.isAuthorityMetadata=function(t){return-1!==t.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(t){return"authority-metadata-"+this.clientId+"-"+t},n.prototype.getSpecificCredential=function(t,e){switch(e){case _e.ID_TOKEN:return this.getIdTokenCredential(t);case _e.ACCESS_TOKEN:case _e.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(t);case _e.REFRESH_TOKEN:return this.getRefreshTokenCredential(t);default:return null}},n.toObject=function(t,e){for(var r in e)t[r]=e[r];return t},n}(),L4=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Tn(t,n),t.prototype.setAccount=function(){throw G.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw G.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw G.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw G.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw G.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw G.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw G.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw G.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw G.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw G.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw G.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw G.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw G.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw G.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw G.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw G.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return ee(this,void 0,void 0,function(){return te(this,function(r){throw G.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},t.prototype.updateCredentialCacheKey=function(){throw G.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(wr),Wl=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Tn(t,n),t.createIdTokenEntity=function(e,r,i,o,s){var a=new t;return a.credentialType=_e.ID_TOKEN,a.homeAccountId=e,a.environment=r,a.clientId=o,a.secret=i,a.realm=s,a},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===_e.ID_TOKEN},t}(Kl),ir=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(t,e){var r=Number(t)||0;return n.nowSeconds()+e>r},n.wasClockTurnedBack=function(t){return Number(t)>n.nowSeconds()},n.delay=function(t,e){return new Promise(function(r){return setTimeout(function(){return r(e)},t)})},n}(),Yl=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Tn(t,n),t.createAccessTokenEntity=function(e,r,i,o,s,a,l,c,u,d,h,f,p,m,g){var _,C,b=new t;b.homeAccountId=e,b.credentialType=_e.ACCESS_TOKEN,b.secret=i;var k=ir.nowSeconds();if(b.cachedAt=k.toString(),b.expiresOn=l.toString(),b.extendedExpiresOn=c.toString(),d&&(b.refreshOn=d.toString()),b.environment=r,b.clientId=o,b.realm=s,b.target=a,b.userAssertionHash=f,b.tokenType=N.isEmpty(h)?Pe.BEARER:h,m&&(b.requestedClaims=m,b.requestedClaimsHash=g),(null===(_=b.tokenType)||void 0===_?void 0:_.toLowerCase())!==Pe.BEARER.toLowerCase())switch(b.credentialType=_e.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case Pe.POP:var $=Gr.extractTokenClaims(i,u);if(null===(C=$?.cnf)||void 0===C||!C.kid)throw V.createTokenClaimsRequiredError();b.keyId=$.cnf.kid;break;case Pe.SSH:b.keyId=p}return b},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===_e.ACCESS_TOKEN||e.credentialType===_e.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(Kl),uh=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Tn(t,n),t.createRefreshTokenEntity=function(e,r,i,o,s,a){var l=new t;return l.clientId=o,l.credentialType=_e.REFRESH_TOKEN,l.environment=r,l.homeAccountId=e,l.secret=i,l.userAssertionHash=a,s&&(l.familyId=s),l},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===_e.REFRESH_TOKEN},t}(Kl),Zv=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(t,e){return[zv,t,e].join(pn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(t,e,r){var i=new n;return i.clientId=t,i.environment=e,r&&(i.familyId=r),i},n.isAppMetadataEntity=function(t,e){return!!e&&0===t.indexOf(zv)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")},n}(),dh=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(t,e){var r=0===t.indexOf(jt.CACHE_KEY),i=!0;return e&&(i=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&i},n}(),Jv=function(){function n(){this.expiresAt=ir.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(t,e){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=e},n.prototype.updateEndpointMetadata=function(t,e){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=e,this.jwks_uri=t.jwks_uri},n.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},n.prototype.resetExpiresAt=function(){this.expiresAt=ir.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=ir.nowSeconds()},n.isAuthorityMetadataEntity=function(t,e){return!!e&&0===t.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri")},n}(),$M=function(){function n(){}return n.isThrottlingEntity=function(t,e){var r=!1;t&&(r=0===t.indexOf("throttling"));var i=!0;return e&&(i=e.hasOwnProperty("throttleTime")),r&&i},n}(),_i=function(){function n(){}return n.setRequestState=function(t,e,r){var i=n.generateLibraryState(t,r);return N.isEmpty(e)?i:""+i+v.RESOURCE_DELIM+e},n.generateLibraryState=function(t,e){if(!t)throw V.createNoCryptoObjectError("generateLibraryState");var r={id:t.createNewGuid()};e&&(r.meta=e);var i=JSON.stringify(r);return t.base64Encode(i)},n.parseRequestState=function(t,e){if(!t)throw V.createNoCryptoObjectError("parseRequestState");if(N.isEmpty(e))throw V.createInvalidStateError(e,"Null, undefined or empty state");try{var r=e.split(v.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(v.RESOURCE_DELIM):v.EMPTY_STRING,s=t.base64Decode(i),a=JSON.parse(s);return{userRequestState:N.isEmpty(o)?v.EMPTY_STRING:o,libraryState:a}}catch(l){throw V.createInvalidStateError(e,l)}},n}(),An=(()=>{return(n=An||(An={})).HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN",An;var n})(),qM=function(){function n(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return n.prototype.validateWindowStorage=function(t){if(t!==xt.LocalStorage&&t!==xt.SessionStorage)throw Qs.createStorageNotSupportedError(t);if(!window[t])throw Qs.createStorageNotSupportedError(t)},n.prototype.getItem=function(t){return this.windowStorage.getItem(t)},n.prototype.setItem=function(t,e){this.windowStorage.setItem(t,e)},n.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},n}(),KM=function(){function n(){}return n.extractBrowserRequestState=function(t,e){if(N.isEmpty(e))return null;try{return _i.parseRequestState(t,e).libraryState.meta}catch(i){throw V.createInvalidStateError(e,i)}},n.parseServerResponseFromHash=function(t){if(!t)return{};var e=new ye(t);return ye.getDeserializedHash(e.getHash())},n}(),Xv=function(n){function t(e,r,i,o){var s=n.call(this,e,i)||this;return s.COOKIE_LIFE_MULTIPLIER=864e5,s.cacheConfig=r,s.logger=o,s.internalStorage=new Qv,s.browserStorage=s.setupBrowserStorage(s.cacheConfig.cacheLocation),s.temporaryCacheStorage=s.setupTemporaryCacheStorage(s.cacheConfig.cacheLocation),s.migrateCacheEntries(),s}return zt(t,n),t.prototype.setupBrowserStorage=function(e){switch(e){case xt.LocalStorage:case xt.SessionStorage:try{return new qM(e)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=xt.MemoryStorage,new Qv},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case xt.LocalStorage:case xt.SessionStorage:try{return new qM(xt.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,i=v.CACHE_PREFIX+"."+bt.CLIENT_INFO,o=v.CACHE_PREFIX+"."+bt.ERROR,s=v.CACHE_PREFIX+"."+bt.ERROR_DESC,d=[this.browserStorage.getItem(v.CACHE_PREFIX+"."+bt.ID_TOKEN),this.browserStorage.getItem(i),this.browserStorage.getItem(o),this.browserStorage.getItem(s)];[bt.ID_TOKEN,bt.CLIENT_INFO,bt.ERROR,bt.ERROR_DESC].forEach(function(f,p){return e.migrateCacheEntry(f,d[p])})},t.prototype.migrateCacheEntry=function(e,r){r&&this.setTemporaryCache(e,r,!0)},t.prototype.validateAndParseJson=function(e){try{var r=JSON.parse(e);return r&&"object"==typeof r?r:null}catch{return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,r){this.browserStorage.setItem(e,r)},t.prototype.getAccount=function(e){var r=this.getItem(e);if(!r)return null;var i=this.validateAndParseJson(r);return i&&Gt.isAccountEntity(i)?wr.toObject(new Gt,i):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var r=e.generateAccountKey();this.setItem(r,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Wl.isIdTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),wr.toObject(new Wl,i)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Yl.isAccessTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),wr.toObject(new Yl,i)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&uh.isRefreshTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),wr.toObject(new uh,i)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Zv.isAppMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),wr.toObject(new Zv,i)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=e.generateAppMetadataKey();this.setItem(r,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&dh.isServerTelemetryEntity(e,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),wr.toObject(new dh,i)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r))},t.prototype.getAuthorityMetadata=function(e){var r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Jv.isAuthorityMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),wr.toObject(new Jv,i)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(i){return e.isAuthorityMetadata(i)})},t.prototype.setWrapperMetadata=function(e,r){this.internalStorage.setItem(Oo.WRAPPER_SKU,e),this.internalStorage.setItem(Oo.WRAPPER_VER,r)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Oo.WRAPPER_SKU)||v.EMPTY_STRING,this.internalStorage.getItem(Oo.WRAPPER_VER)||v.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(bt.ACTIVE_ACCOUNT_FILTERS),r=this.getItem(e);if(!r){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var i=this.generateCacheKey(bt.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var s=this.getAccountInfoByFilter({localAccountId:o})[0]||null;return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}var a=this.validateAndParseJson(r);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(e){var r=this.generateCacheKey(bt.ACTIVE_ACCOUNT_FILTERS),i=this.generateCacheKey(bt.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(r,JSON.stringify({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId})),this.browserStorage.setItem(i,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(i))},t.prototype.getAccountInfoByFilter=function(e){var r=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+r.length+" accounts found"),r.filter(function(i){return!(e.username&&e.username.toLowerCase()!==i.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==i.homeAccountId||e.localAccountId&&e.localAccountId!==i.localAccountId||e.tenantId&&e.tenantId!==i.tenantId||e.environment&&e.environment!==i.environment)})},t.prototype.getAccountInfoByHints=function(e,r){var i=this.getAllAccounts().filter(function(o){return r?r===(o.idTokenClaims&&o.idTokenClaims.sid):!!e&&e===o.username});if(1===i.length)return i[0];if(i.length>1)throw V.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&$M.isThrottlingEntity(e,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),wr.toObject(new $M,i)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r))},t.prototype.getTemporaryCache=function(e,r){var i=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var o=this.getItemCookie(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}var s=this.temporaryCacheStorage.getItem(i);if(!s){if(this.cacheConfig.cacheLocation===xt.LocalStorage){var a=this.browserStorage.getItem(i);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s},t.prototype.setTemporaryCache=function(e,r,i){var o=i?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(o,r))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return qv(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return T(this,void 0,void 0,function(){var e=this;return D(this,function(r){switch(r.label){case 0:return[4,this.removeAllAccounts()];case 1:return r.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(i){(e.browserStorage.containsKey(i)||e.temporaryCacheStorage.containsKey(i))&&(-1!==i.indexOf(v.CACHE_PREFIX)||-1!==i.indexOf(e.clientId))&&e.removeItem(i)}),this.internalStorage.clear(),[2]}})})},t.prototype.setItemCookie=function(e,r,i){var o=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/;SameSite=Lax;";i&&(o+="expires="+this.getCookieExpirationTime(i)+";"),this.cacheConfig.secureCookies&&(o+="Secure;"),document.cookie=o},t.prototype.getItemCookie=function(e){for(var r=encodeURIComponent(e)+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(r))return decodeURIComponent(s.substring(r.length,s.length))}return v.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,r=v.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(o){for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(r)){var s=o.split("=")[0];e.clearItemCookie(s)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,v.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var r=new Date;return new Date(r.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):N.startsWith(e,v.CACHE_PREFIX)||N.startsWith(e,bt.ADAL_ID_TOKEN)?e:v.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var r=_i.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ce.AUTHORITY+"."+r)},t.prototype.generateNonceKey=function(e){var r=_i.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ce.NONCE_IDTOKEN+"."+r)},t.prototype.generateStateKey=function(e){var r=_i.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ce.REQUEST_STATE+"."+r)},t.prototype.getCachedAuthority=function(e){var r=this.generateStateKey(e),i=this.getTemporaryCache(r);if(!i)return null;var o=this.generateAuthorityKey(i);return this.getTemporaryCache(o)},t.prototype.updateCacheEntries=function(e,r,i,o,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);var l=this.generateNonceKey(e);this.setTemporaryCache(l,r,!1);var c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,i,!1),s){var u={credential:s.homeAccountId,type:An.HOME_ACCOUNT_ID};this.setTemporaryCache(Ce.CCS_CREDENTIAL,JSON.stringify(u),!0)}else N.isEmpty(o)||(u={credential:o,type:An.UPN},this.setTemporaryCache(Ce.CCS_CREDENTIAL,JSON.stringify(u),!0))},t.prototype.resetRequestCache=function(e){var r=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),N.isEmpty(e)||this.getKeys().forEach(function(i){-1!==i.indexOf(e)&&r.removeItem(i)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(Ce.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(Ce.ORIGIN_URI)),this.removeItem(this.generateCacheKey(Ce.URL_HASH)),this.removeItem(this.generateCacheKey(Ce.CORRELATION_ID)),this.removeItem(this.generateCacheKey(Ce.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(Ce.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var r=this.generateStateKey(e),i=this.temporaryCacheStorage.getItem(r);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+i),this.resetRequestCache(i||v.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var r=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(i){if(-1!==i.indexOf(Ce.REQUEST_STATE)){var o=r.temporaryCacheStorage.getItem(i);if(o){var s=KM.extractBrowserRequestState(r.cryptoImpl,o);s&&s.interactionType===e&&(r.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+o),r.resetRequestCache(o))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,r){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var i=r.base64Encode(JSON.stringify(e));this.setTemporaryCache(Ce.REQUEST_PARAMS,i,!0)},t.prototype.getCachedRequest=function(e,r){this.logger.trace("BrowserCacheManager.getCachedRequest called");var i=this.getTemporaryCache(Ce.REQUEST_PARAMS,!0);if(!i)throw O.createNoTokenRequestCacheError();var o=this.validateAndParseJson(r.base64Decode(i));if(!o)throw O.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(Ce.REQUEST_PARAMS)),N.isEmpty(o.authority)){var s=this.generateAuthorityKey(e),a=this.getTemporaryCache(s);if(!a)throw O.createNoCachedAuthorityError();o.authority=a}return o},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(Ce.NATIVE_REQUEST,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},t.prototype.isInteractionInProgress=function(e){var r=this.getInteractionInProgress();return e?r===this.clientId:!!r},t.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(v.CACHE_PREFIX+"."+Ce.INTERACTION_STATUS_KEY,!1)},t.prototype.setInteractionInProgress=function(e){var r=v.CACHE_PREFIX+"."+Ce.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw O.createInteractionInProgressError();this.setTemporaryCache(r,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeItem(r)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(bt.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(bt.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var r=this.getTemporaryCache(bt.ID_TOKEN,!0);r&&(this.removeItem(this.generateCacheKey(bt.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var i=r||e;if(i){var o=new Gr(i,this.cryptoImpl);if(o.claims&&o.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),o.claims.preferred_username;if(o.claims&&o.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),o.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,r){var i=r.generateCredentialKey();if(e!==i){var o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(i,o),this.logger.verbose("Updated an outdated "+r.credentialType+" cache key"),i;this.logger.error("Attempted to update an outdated "+r.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(Ce.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(Ce.REDIRECT_CONTEXT,e,!0)},t}(wr),Ql=(()=>{return(n=Ql||(Ql={})).AAD="AAD",n.OIDC="OIDC",Ql;var n})(),Js=(()=>{return(n=Js||(Js={}))[n.None=0]="None",n.AzurePublic="https://login.microsoftonline.com",n.AzurePpe="https://login.windows-ppe.net",n.AzureChina="https://login.chinacloudapi.cn",n.AzureGermany="https://login.microsoftonline.de",n.AzureUsGovernment="https://login.microsoftonline.us",Js;var n})(),YM={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:v.EMPTY_STRING},B4={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:wt.Info,correlationId:v.EMPTY_STRING},j4={sendGetRequestAsync:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return ee(this,void 0,void 0,function(){return te(this,function(t){throw G.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},z4={sku:v.SKU,version:"9.0.2",cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},G4={clientSecret:v.EMPTY_STRING,clientAssertion:void 0},$4={azureCloudInstance:Js.None,tenant:""+v.DEFAULT_COMMON_TENANT},q4={application:{appName:"",appVersion:""}};function W4(n){return Qe({clientCapabilities:[],azureCloudOptions:$4,skipAuthorityMetadataCache:!1},n)}var Y4={sendGetRequestAsync:function(){return Promise.reject(G.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(G.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},Q4=function(){function n(){}return n.prototype.navigateInternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.prototype.navigateExternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.defaultNavigateWindow=function(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(r){setTimeout(function(){r(!0)},e.timeout)})},n}(),t_="@azure/msal-browser",Zl="2.32.2",t8=function(){function n(t,e){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=e,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(t){if(typeof window<"u"){var e=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(e,t),this.logger.verbose("Event callback registered with id: "+e),e}return null},n.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},n.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(t,e,r,i){var o=this;if(typeof window<"u"){var s={eventType:t,interactionType:e||null,payload:r||null,error:i||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(a,l){o.logger.verbose("Emitting event to callback "+l+": "+t),a.apply(null,[s])})}},n.prototype.handleAccountCacheChange=function(t){try{var e=t.newValue||t.oldValue;if(!e)return;var r=JSON.parse(e);if("object"!=typeof r||!Gt.isAccountEntity(r))return;var o=wr.toObject(new Gt,r).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(H.ACCOUNT_ADDED,void 0,o)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(H.ACCOUNT_REMOVED,void 0,o))}catch{return}},n}(),hh=function(){function n(){}return n.generateThrottlingStorageKey=function(t){return"throttling."+JSON.stringify(t)},n.preProcess=function(t,e){var r,i=n.generateThrottlingStorageKey(e),o=t.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void t.removeItem(i,Wi.THROTTLING);throw new Fo((null===(r=o.errorCodes)||void 0===r?void 0:r.join(" "))||v.EMPTY_STRING,o.errorMessage,o.subError)}},n.postProcess=function(t,e,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){var i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[Dn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(n.generateThrottlingStorageKey(e),i)}},n.checkResponseStatus=function(t){return 429===t.status||t.status>=500&&t.status<600},n.checkResponseForRetryAfter=function(t){return!!t.headers&&t.headers.hasOwnProperty(Dn.RETRY_AFTER)&&(t.status<200||t.status>=300)},n.calculateThrottleTime=function(t){var e=t<=0?0:t,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(e||60),r+3600))},n.removeThrottle=function(t,e,r,i){var s=this.generateThrottlingStorageKey({clientId:e,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid});return t.removeItem(s,Wi.THROTTLING)},n}(),n8=function(){function n(t,e){this.networkClient=t,this.cacheManager=e}return n.prototype.sendPostRequest=function(t,e,r){return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:hh.preProcess(this.cacheManager,t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(e,r)];case 2:return i=s.sent(),[3,4];case 3:throw(o=s.sent())instanceof G?o:V.createNetworkError(e,o);case 4:return hh.postProcess(this.cacheManager,t,i),[2,i]}})})},n}(),n_=function(){function n(t,e){this.config=function K4(n){var t=n.authOptions,e=n.systemOptions,r=n.loggerOptions,i=n.storageInterface,o=n.networkInterface,s=n.cryptoInterface,a=n.clientCredentials,l=n.libraryInfo,c=n.telemetry,u=n.serverTelemetryManager,d=n.persistencePlugin,h=n.serializableCache,f=Qe(Qe({},B4),r);return{authOptions:W4(t),systemOptions:Qe(Qe({},YM),e),loggerOptions:f,storageInterface:i||new L4(t.clientId,lh),networkInterface:o||j4,cryptoInterface:s||lh,clientCredentials:a||G4,libraryInfo:Qe(Qe({},z4),l),telemetry:Qe(Qe({},q4),c),serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}(t),this.logger=new PM(this.config.loggerOptions,"@azure/msal-common","9.0.2"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new n8(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}return n.prototype.createTokenRequestHeaders=function(t){var e={};if(e[Dn.CONTENT_TYPE]=v.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case An.HOME_ACCOUNT_ID:try{var r=Zs(t.credential);e[Dn.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case An.UPN:e[Dn.CCS_HEADER]="UPN: "+t.credential}return e},n.prototype.executePostToTokenEndpoint=function(t,e,r,i){return ee(this,void 0,void 0,function(){var o;return te(this,function(s){switch(s.label){case 0:return[4,this.networkManager.sendPostRequest(i,t,{body:e,headers:r,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return o=s.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}})})},n.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw V.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},n}(),Lo=function(){function n(){}return n.validateRedirectUri=function(t){if(N.isEmpty(t))throw et.createRedirectUriEmptyError()},n.validatePrompt=function(t){var e=[];for(var r in Bt)e.push(Bt[r]);if(e.indexOf(t)<0)throw et.createInvalidPromptError(t)},n.validateClaims=function(t){try{JSON.parse(t)}catch{throw et.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(t,e){if(N.isEmpty(t)||N.isEmpty(e))throw et.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(e)},n.validateCodeChallengeMethod=function(t){if([AM.PLAIN,AM.S256].indexOf(t)<0)throw et.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(t,e){return t?(e.forEach(function(r,i){t[i]&&delete t[i]}),t):{}},n}(),Xs=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(re.RESPONSE_TYPE,encodeURIComponent(v.CODE_RESPONSE_TYPE))},n.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(re.RESPONSE_TYPE,encodeURIComponent(v.TOKEN_RESPONSE_TYPE+" "+v.ID_TOKEN_RESPONSE_TYPE))},n.prototype.addResponseMode=function(t){this.parameters.set(re.RESPONSE_MODE,encodeURIComponent(t||Fl.QUERY))},n.prototype.addNativeBroker=function(){this.parameters.set(re.NATIVE_BROKER,encodeURIComponent("1"))},n.prototype.addScopes=function(t,e){void 0===e&&(e=!0);var r=e?eh(t||[],Ol):t||[],i=new gn(r);this.parameters.set(re.SCOPE,encodeURIComponent(i.printScopes()))},n.prototype.addClientId=function(t){this.parameters.set(re.CLIENT_ID,encodeURIComponent(t))},n.prototype.addRedirectUri=function(t){Lo.validateRedirectUri(t),this.parameters.set(re.REDIRECT_URI,encodeURIComponent(t))},n.prototype.addPostLogoutRedirectUri=function(t){Lo.validateRedirectUri(t),this.parameters.set(re.POST_LOGOUT_URI,encodeURIComponent(t))},n.prototype.addIdTokenHint=function(t){this.parameters.set(re.ID_TOKEN_HINT,encodeURIComponent(t))},n.prototype.addDomainHint=function(t){this.parameters.set(Ws.DOMAIN_HINT,encodeURIComponent(t))},n.prototype.addLoginHint=function(t){this.parameters.set(Ws.LOGIN_HINT,encodeURIComponent(t))},n.prototype.addCcsUpn=function(t){this.parameters.set(Dn.CCS_HEADER,encodeURIComponent("UPN:"+t))},n.prototype.addCcsOid=function(t){this.parameters.set(Dn.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},n.prototype.addSid=function(t){this.parameters.set(Ws.SID,encodeURIComponent(t))},n.prototype.addClaims=function(t,e){var r=this.addClientCapabilitiesToClaims(t,e);Lo.validateClaims(r),this.parameters.set(re.CLAIMS,encodeURIComponent(r))},n.prototype.addCorrelationId=function(t){this.parameters.set(re.CLIENT_REQUEST_ID,encodeURIComponent(t))},n.prototype.addLibraryInfo=function(t){this.parameters.set(re.X_CLIENT_SKU,t.sku),this.parameters.set(re.X_CLIENT_VER,t.version),t.os&&this.parameters.set(re.X_CLIENT_OS,t.os),t.cpu&&this.parameters.set(re.X_CLIENT_CPU,t.cpu)},n.prototype.addApplicationTelemetry=function(t){t?.appName&&this.parameters.set(re.X_APP_NAME,t.appName),t?.appVersion&&this.parameters.set(re.X_APP_VER,t.appVersion)},n.prototype.addPrompt=function(t){Lo.validatePrompt(t),this.parameters.set(""+re.PROMPT,encodeURIComponent(t))},n.prototype.addState=function(t){N.isEmpty(t)||this.parameters.set(re.STATE,encodeURIComponent(t))},n.prototype.addNonce=function(t){this.parameters.set(re.NONCE,encodeURIComponent(t))},n.prototype.addCodeChallengeParams=function(t,e){if(Lo.validateCodeChallengeParams(t,e),!t||!e)throw et.createInvalidCodeChallengeParamsError();this.parameters.set(re.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(re.CODE_CHALLENGE_METHOD,encodeURIComponent(e))},n.prototype.addAuthorizationCode=function(t){this.parameters.set(re.CODE,encodeURIComponent(t))},n.prototype.addDeviceCode=function(t){this.parameters.set(re.DEVICE_CODE,encodeURIComponent(t))},n.prototype.addRefreshToken=function(t){this.parameters.set(re.REFRESH_TOKEN,encodeURIComponent(t))},n.prototype.addCodeVerifier=function(t){this.parameters.set(re.CODE_VERIFIER,encodeURIComponent(t))},n.prototype.addClientSecret=function(t){this.parameters.set(re.CLIENT_SECRET,encodeURIComponent(t))},n.prototype.addClientAssertion=function(t){N.isEmpty(t)||this.parameters.set(re.CLIENT_ASSERTION,encodeURIComponent(t))},n.prototype.addClientAssertionType=function(t){N.isEmpty(t)||this.parameters.set(re.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},n.prototype.addOboAssertion=function(t){this.parameters.set(re.OBO_ASSERTION,encodeURIComponent(t))},n.prototype.addRequestTokenUse=function(t){this.parameters.set(re.REQUESTED_TOKEN_USE,encodeURIComponent(t))},n.prototype.addGrantType=function(t){this.parameters.set(re.GRANT_TYPE,encodeURIComponent(t))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(t){var e=this;Lo.sanitizeEQParams(t,this.parameters),Object.keys(t).forEach(function(r){e.parameters.set(r,t[r])})},n.prototype.addClientCapabilitiesToClaims=function(t,e){var r;if(t)try{r=JSON.parse(t)}catch{throw et.createInvalidClaimsRequestError()}else r={};return e&&e.length>0&&(r.hasOwnProperty(xo.ACCESS_TOKEN)||(r[xo.ACCESS_TOKEN]={}),r[xo.ACCESS_TOKEN][xo.XMS_CC]={values:e}),JSON.stringify(r)},n.prototype.addUsername=function(t){this.parameters.set(Hl.username,encodeURIComponent(t))},n.prototype.addPassword=function(t){this.parameters.set(Hl.password,encodeURIComponent(t))},n.prototype.addPopToken=function(t){N.isEmpty(t)||(this.parameters.set(re.TOKEN_TYPE,Pe.POP),this.parameters.set(re.REQ_CNF,encodeURIComponent(t)))},n.prototype.addSshJwk=function(t){N.isEmpty(t)||(this.parameters.set(re.TOKEN_TYPE,Pe.SSH),this.parameters.set(re.REQ_CNF,encodeURIComponent(t)))},n.prototype.addServerTelemetry=function(t){this.parameters.set(re.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(re.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(re.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.addLogoutHint=function(t){this.parameters.set(re.LOGOUT_HINT,encodeURIComponent(t))},n.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(e,r){t.push(r+"="+e)}),t.join("&")},n}(),fh=function n(t,e,r,i,o){this.account=t||null,this.idToken=e||null,this.accessToken=r||null,this.refreshToken=i||null,this.appMetadata=o||null},ph=(()=>{return(n=ph||(ph={})).SW="sw",n.UHW="uhw",ph;var n})(),ea=function(){function n(t){this.cryptoUtils=t}return n.prototype.generateCnf=function(t){return ee(this,void 0,void 0,function(){var e,r,i;return te(this,function(o){switch(o.label){case 0:return[4,this.generateKid(t)];case 1:return e=o.sent(),r=this.cryptoUtils.base64Encode(JSON.stringify(e)),i={kid:e.kid,reqCnfString:r},[4,this.cryptoUtils.hashString(r)];case 2:return[2,(i.reqCnfHash=o.sent(),i)]}})})},n.prototype.generateKid=function(t){return ee(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return[2,{kid:r.sent(),xms_ksl:ph.SW}]}})})},n.prototype.signPopToken=function(t,e,r){return ee(this,void 0,void 0,function(){return te(this,function(i){return[2,this.signPayload(t,e,r)]})})},n.prototype.signPayload=function(t,e,r,i){return ee(this,void 0,void 0,function(){var o,s,a,l,c,u;return te(this,function(d){switch(d.label){case 0:return o=r.resourceRequestMethod,a=r.shrClaims,l=r.shrNonce,c=(s=r.resourceRequestUri)?new ye(s):void 0,u=c?.getUrlComponents(),[4,this.cryptoUtils.signJwt(Qe({at:t,ts:ir.nowSeconds(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0},i),e,r.correlationId)];case 1:return[2,d.sent()]}})})},n}(),r8=function(){function n(t,e){this.cache=t,this.hasChanged=e}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),mh=function(){function n(t,e,r,i,o,s){this.clientId=t,this.cacheStorage=e,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s}return n.prototype.validateServerAuthorizationCodeResponse=function(t,e,r){if(!t.state||!e)throw V.createStateNotFoundError(t.state?"Cached State":"Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(e))throw V.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw Cr.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new Cr(t.error||v.EMPTY_STRING,t.error_description,t.suberror):new Fo(t.error||v.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&ch(t.client_info,r)},n.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(Cr.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new Cr(t.error,t.error_description,t.suberror);throw new Fo(t.error,t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id,t.suberror)}},n.prototype.handleServerTokenResponse=function(t,e,r,i,o,s,a,l,c){return ee(this,void 0,void 0,function(){var u,d,h,f,p,m;return te(this,function(_){switch(_.label){case 0:if(t.id_token){if(u=new Gr(t.id_token||v.EMPTY_STRING,this.cryptoObj),o&&!N.isEmpty(o.nonce)&&u.claims.nonce!==o.nonce)throw V.createNonceMismatchError();if(i.maxAge||0===i.maxAge){if(!(d=u.claims.auth_time))throw V.createAuthTimeNotFoundError();Gr.checkMaxAge(d,i.maxAge)}}this.homeAccountIdentifier=Gt.generateHomeAccountId(t.client_info||v.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,u),!!o&&!!o.state&&(h=_i.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||i.sshKid||void 0,f=this.generateCacheRecord(t,e,r,i,u,s,o),_.label=1;case 1:return _.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new r8(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(p)]):[3,3];case 2:_.sent(),_.label=3;case 3:return a&&!l&&f.account&&(m=f.account.generateAccountKey(),!this.cacheStorage.getAccount(m))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,e,f,!1,i,u,h,void 0,c)]):[4,this.cacheStorage.saveCacheRecord(f)];case 4:return _.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&p?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(p)]):[3,7];case 6:_.sent(),_.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,e,f,!1,i,u,h,t.spa_code,c)]}})})},n.prototype.generateCacheRecord=function(t,e,r,i,o,s,a){var c,u,l=e.getPreferredCache();if(N.isEmpty(l))throw V.createInvalidCacheEnvironmentError();!N.isEmpty(t.id_token)&&o&&(c=Wl.createIdTokenEntity(this.homeAccountIdentifier,l,t.id_token||v.EMPTY_STRING,this.clientId,o.claims.tid||v.EMPTY_STRING),u=this.generateAccountEntity(t,o,e,a));var d=null;if(!N.isEmpty(t.access_token)){var h=t.scope?gn.fromString(t.scope):new gn(i.scopes||[]),f=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,p=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,m=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,g=r+f,_=g+p,C=m&&m>0?r+m:void 0;d=Yl.createAccessTokenEntity(this.homeAccountIdentifier,l,t.access_token||v.EMPTY_STRING,this.clientId,o?o.claims.tid||v.EMPTY_STRING:e.tenant,h.printScopes(),g,_,this.cryptoObj,C,t.token_type,s,t.key_id,i.claims,i.requestedClaimsHash)}var b=null;N.isEmpty(t.refresh_token)||(b=uh.createRefreshTokenEntity(this.homeAccountIdentifier,l,t.refresh_token||v.EMPTY_STRING,this.clientId,t.foci,s));var k=null;return N.isEmpty(t.foci)||(k=Zv.createAppMetadataEntity(this.clientId,l,t.foci)),new fh(u,c,d,b,k)},n.prototype.generateAccountEntity=function(t,e,r,i){var s=i?i.cloud_graph_host_name:v.EMPTY_STRING,a=i?i.msgraph_host:v.EMPTY_STRING;if(r.authorityType===$n.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Gt.createGenericAccount(this.homeAccountIdentifier,e,r,s,a);if(N.isEmpty(t.client_info)&&"AAD"===r.protocolMode)throw V.createClientInfoEmptyError();return t.client_info?Gt.createAccount(t.client_info,this.homeAccountIdentifier,e,r,s,a):Gt.createGenericAccount(this.homeAccountIdentifier,e,r,s,a)},n.generateAuthenticationResult=function(t,e,r,i,o,s,a,l,c){var u,d,h;return ee(this,void 0,void 0,function(){var f,p,m,g,_,C,b,k,$;return te(this,function(De){switch(De.label){case 0:if(f=v.EMPTY_STRING,p=[],m=null,_=v.EMPTY_STRING,!r.accessToken)return[3,4];if(r.accessToken.tokenType!==Pe.POP)return[3,2];if(C=new ea(t),k=(b=r.accessToken).secret,!($=b.keyId))throw V.createKeyIdMissingError();return[4,C.signPopToken(k,$,o)];case 1:return f=De.sent(),[3,3];case 2:f=r.accessToken.secret,De.label=3;case 3:p=gn.fromString(r.accessToken.target).asArray(),m=new Date(1e3*Number(r.accessToken.expiresOn)),g=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),De.label=4;case 4:return r.appMetadata&&(_="1"===r.appMetadata.familyId?"1":v.EMPTY_STRING),[2,{authority:e.canonicalAuthority,uniqueId:s?.claims.oid||s?.claims.sub||v.EMPTY_STRING,tenantId:s?.claims.tid||v.EMPTY_STRING,scopes:p,account:r.account?r.account.getAccountInfo():null,idToken:s?s.rawToken:v.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:f,fromCache:i,expiresOn:m,correlationId:o.correlationId,requestId:c||v.EMPTY_STRING,extExpiresOn:g,familyId:_,tokenType:(null===(u=r.accessToken)||void 0===u?void 0:u.tokenType)||v.EMPTY_STRING,state:a?a.userRequestState:v.EMPTY_STRING,cloudGraphHostName:(null===(d=r.account)||void 0===d?void 0:d.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||v.EMPTY_STRING,code:l,fromNativeBroker:!1}]}})})},n}(),QM=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.includeRedirectUri=!0,i}return Tn(t,n),t.prototype.getAuthCodeUrl=function(e){return ee(this,void 0,void 0,function(){var r;return te(this,function(i){switch(i.label){case 0:return[4,this.createAuthCodeUrlQueryString(e)];case 1:return r=i.sent(),[2,ye.appendQueryString(this.authority.authorizationEndpoint,r)]}})})},t.prototype.acquireToken=function(e,r){var i,o,s;return ee(this,void 0,void 0,function(){var a,l,c,u,d,h,f=this;return te(this,function(p){switch(p.label){case 0:if(a=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),!e||N.isEmpty(e.code))throw V.createTokenRequestCannotBeMadeError();return l=ir.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return c=p.sent(),u=null===(o=c.headers)||void 0===o?void 0:o[Dn.X_MS_REQUEST_ID],(d=null===(s=c.headers)||void 0===s?void 0:s[Dn.X_MS_HTTP_VERSION])&&a?.addStaticFields({httpVerAuthority:d}),(h=new mh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(c.body),[2,h.handleServerTokenResponse(c.body,this.authority,l,e,r,void 0,void 0,void 0,u).then(function(m){return a?.endMeasurement({success:!0}),m}).catch(function(m){throw f.logger.verbose("Error in fetching token in ACC",e.correlationId),a?.endMeasurement({errorCode:m.errorCode,subErrorCode:m.subError,success:!1}),m})]}})})},t.prototype.handleFragmentResponse=function(e,r){var i=new mh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new ye(e),s=ye.getDeserializedHash(o.getHash());if(i.validateServerAuthorizationCodeResponse(s,r,this.cryptoUtils),!s.code)throw V.createNoAuthCodeInServerResponseError();return Qe(Qe({},s),{code:s.code})},t.prototype.getLogoutUri=function(e){if(!e)throw et.createEmptyLogoutRequestError();var r=this.createLogoutUrlQueryString(e);return ye.appendQueryString(this.authority.endSessionEndpoint,r)},t.prototype.executeTokenRequest=function(e,r){return ee(this,void 0,void 0,function(){var i,o,s,a,l,c,u;return te(this,function(d){switch(d.label){case 0:return i={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},[4,this.createTokenRequestBody(r)];case 1:if(o=d.sent(),s=this.createTokenQueryParameters(r),a=void 0,r.clientInfo)try{l=ch(r.clientInfo,this.cryptoUtils),a={credential:""+l.uid+pn.CLIENT_INFO_SEPARATOR+l.utid,type:An.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}return c=this.createTokenRequestHeaders(a||r.ccsCredential),u=N.isEmpty(s)?e.tokenEndpoint:e.tokenEndpoint+"?"+s,[2,this.executePostToTokenEndpoint(u,o,c,i)]}})})},t.prototype.createTokenQueryParameters=function(e){var r=new Xs;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()},t.prototype.createTokenRequestBody=function(e){return ee(this,void 0,void 0,function(){var r,i,s,a,l,c,u;return te(this,function(d){switch(d.label){case 0:return(r=new Xs).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Lo.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r.addClientAssertion((i=this.config.clientCredentials.clientAssertion).assertion),r.addClientAssertionType(i.assertionType)),r.addGrantType(Ll.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme!==Pe.POP?[3,2]:[4,new ea(this.cryptoUtils).generateCnf(e)];case 1:return s=d.sent(),r.addPopToken(s.reqCnfString),[3,3];case 2:if(e.authenticationScheme===Pe.SSH){if(!e.sshJwk)throw et.createMissingSshJwkError();r.addSshJwk(e.sshJwk)}d.label=3;case 3:if(a=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(a),(!N.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),l=void 0,e.clientInfo)try{c=ch(e.clientInfo,this.cryptoUtils),l={credential:""+c.uid+pn.CLIENT_INFO_SEPARATOR+c.utid,type:An.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}else l=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&l)switch(l.type){case An.HOME_ACCOUNT_ID:try{c=Zs(l.credential),r.addCcsOid(c)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case An.UPN:r.addCcsUpn(l.credential)}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[re.RETURN_SPA_CODE])&&r.addExtraQueryParameters(((u={})[re.RETURN_SPA_CODE]="1",u)),[2,r.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){return ee(this,void 0,void 0,function(){var r,i,o,s,a,l,u;return te(this,function(d){switch(d.label){case 0:if((r=new Xs).addClientId(this.config.authOptions.clientId),i=eh(e.scopes||[],e.extraScopesToConsent||[]),r.addScopes(i),r.addRedirectUri(e.redirectUri),o=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(o),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==Bt.SELECT_ACCOUNT)if(e.sid&&e.prompt===Bt.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){if(s=this.extractAccountSid(e.account),a=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(a);try{l=Zs(e.account.homeAccountId),r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&e.prompt===Bt.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{l=Zs(e.account.homeAccountId),r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{l=Zs(e.account.homeAccountId),r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(!N.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(r.addNativeBroker(),e.authenticationScheme!==Pe.POP?[3,2]:[4,new ea(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:u=d.sent(),r.addPopToken(u.reqCnfHash),d.label=2;case 2:return[2,r.createQueryString()]}})})},t.prototype.createLogoutUrlQueryString=function(e){var r=new Xs;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()},t.prototype.extractAccountSid=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.sid)||null},t.prototype.extractLoginHint=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint)||null},t}(n_);function i8(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var JM={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},XM={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},a8=function(){function n(t){this.networkInterface=t}return n.prototype.detectRegion=function(t,e,r){return ee(this,void 0,void 0,function(){var i,o,s,a,l;return te(this,function(c){switch(c.label){case 0:if(i=t)return[3,8];o=n.IMDS_OPTIONS,r&&(o.proxyUrl=r),c.label=1;case 1:return c.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(v.IMDS_VERSION,o)];case 2:return(s=c.sent()).status===No.httpSuccess&&(i=s.body,e.region_source=gi.IMDS),s.status!==No.httpBadRequest?[3,5]:[4,this.getCurrentVersion(o)];case 3:return(a=c.sent())?[4,this.getRegionFromIMDS(a,o)]:(e.region_source=gi.FAILED_AUTO_DETECTION,[2,null]);case 4:(l=c.sent()).status===No.httpSuccess&&(i=l.body,e.region_source=gi.IMDS),c.label=5;case 5:return[3,7];case 6:return c.sent(),e.region_source=gi.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:e.region_source=gi.ENVIRONMENT_VARIABLE,c.label=9;case 9:return i||(e.region_source=gi.FAILED_AUTO_DETECTION),[2,i||null]}})})},n.prototype.getRegionFromIMDS=function(t,e){return ee(this,void 0,void 0,function(){return te(this,function(r){return[2,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?api-version="+t+"&format=text",e,v.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(t){return ee(this,void 0,void 0,function(){var e;return te(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?format=json",t)];case 1:return(e=r.sent()).status===No.httpBadRequest&&e.body&&e.body["newest-versions"]&&e.body["newest-versions"].length>0?[2,e.body["newest-versions"][0]]:[2,null];case 2:return r.sent(),[2,null];case 3:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),gh=function(){function n(t,e,r,i,o,s){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=r,this.authorityOptions=i,this.regionDiscovery=new a8(e),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=s||v.EMPTY_STRING,this.logger=o}return Object.defineProperty(n.prototype,"authorityType",{get:function(){var t=this.canonicalAuthorityUrlComponents.PathSegments;if(t.length)switch(t[0].toLowerCase()){case v.ADFS:return $n.Adfs;case v.DSTS:return $n.Dsts}return $n.Default},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new ye(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw V.createLogoutNotSupportedError();var t=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.issuer);return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(t)}throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(t){var e=t,i=new ye(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(s,a){var l=i[a];s!==l&&(e=e.replace("/"+l+"/","/"+s+"/"))}),e},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===$n.Adfs||this.authorityType===$n.Dsts||this.protocolMode===Ql.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){return ee(this,void 0,void 0,function(){var t,e,r,i;return te(this,function(o){switch(o.label){case 0:return(t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(t=new Jv).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(t)];case 1:return e=o.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network),[4,this.updateEndpointMetadata(t)];case 2:return r=o.sent(),e!==Gn.CACHE&&r!==Gn.CACHE&&(t.resetExpiresAt(),t.updateCanonicalAuthority(this.canonicalAuthority)),i=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache),this.cacheManager.setAuthorityMetadata(i,t),this.metadata=t,[2]}})})},n.prototype.updateEndpointMetadata=function(t){var e,r;return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:return(i=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(i,!1),[2,Gn.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,Gn.CACHE]:(o=this.getEndpointMetadataFromHardcodedValues(),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(i=s.sent())?null!==(e=this.authorityOptions.azureRegionConfiguration)&&void 0!==e&&e.azureRegion?[4,this.updateMetadataWithRegionalInformation(i)]:[3,3]:[3,4];case 2:i=s.sent(),s.label=3;case 3:return t.updateEndpointMetadata(i,!0),[2,Gn.NETWORK];case 4:return o&&!this.authorityOptions.skipAuthorityMetadataCache?null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion?[4,this.updateMetadataWithRegionalInformation(o)]:[3,6]:[3,7];case 5:o=s.sent(),s.label=6;case 6:return t.updateEndpointMetadata(o,!1),[2,Gn.HARDCODED_VALUES];case 7:throw V.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(t){return new ye(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw et.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){return ee(this,void 0,void 0,function(){var t,e;return te(this,function(r){switch(r.label){case 0:t={},this.proxyUrl&&(t.proxyUrl=this.proxyUrl),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,t)];case 2:return[2,i8((e=r.sent()).body)?e.body:null];case 3:return r.sent(),[2,null];case 4:return[2]}})})},n.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in JM?JM[this.canonicalAuthority]:null},n.prototype.updateMetadataWithRegionalInformation=function(t){var e,r,i,o,s;return ee(this,void 0,void 0,function(){var a,l;return te(this,function(c){switch(c.label){case 0:return[4,this.regionDiscovery.detectRegion(null===(e=this.authorityOptions.azureRegionConfiguration)||void 0===e?void 0:e.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)];case 1:return a=c.sent(),l=(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)===v.AZURE_REGION_AUTO_DISCOVER_FLAG?a:null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion,this.regionDiscoveryMetadata.region_outcome=(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.azureRegion)===v.AZURE_REGION_AUTO_DISCOVER_FLAG?a?Yi.AUTO_DETECTION_REQUESTED_SUCCESSFUL:Yi.AUTO_DETECTION_REQUESTED_FAILED:a?(null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.azureRegion)===a?Yi.CONFIGURED_MATCHES_DETECTED:Yi.CONFIGURED_NOT_DETECTED:Yi.CONFIGURED_NO_AUTO_DETECTION,l?(this.regionDiscoveryMetadata.region_used=l,[2,n.replaceWithRegionalInformation(t,l)]):[2,t]}})})},n.prototype.updateCloudDiscoveryMetadata=function(t){return ee(this,void 0,void 0,function(){var e,r,i;return te(this,function(o){switch(o.label){case 0:return this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||v.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||v.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(t.canonical_authority||v.NOT_APPLICABLE)),(e=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),t.updateCloudDiscoveryMetadata(e,!1),[2,Gn.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),r=t.isExpired(),this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!r?(this.logger.verbose("Found metadata in the cache."),[2,Gn.CACHE]):(r&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(e=o.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),t.updateCloudDiscoveryMetadata(e,!0),[2,Gn.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(i=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),t.updateCloudDiscoveryMetadata(i,!1),[2,Gn.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),et.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=n.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),et.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return ee(this,void 0,void 0,function(){var t,e,r,i,o,s,a,l;return te(this,function(c){switch(c.label){case 0:t=""+v.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),r=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,e)];case 2:if(i=c.sent(),o=void 0,s=void 0,function o8(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(i.body))s=(o=i.body).metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+o.tenant_discovery_endpoint);else{if(!function s8(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}(i.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+i.status),(o=i.body).error===v.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+o.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+o.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=n.getCloudDiscoveryMetadataFromNetworkResponse(s,this.hostnameAndPort),[3,4];case 3:return(a=c.sent())instanceof G?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+a.errorCode+"\nError Description: "+a.errorMessage):this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+(l=a).name+"\nError Description: "+l.message),[2,null];case 4:return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,r]}})})},n.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in XM?XM[this.canonicalAuthority]:null},n.prototype.isInKnownAuthorities=function(){var t=this;return this.authorityOptions.knownAuthorities.filter(function(r){return ye.getDomainFromUrl(r).toLowerCase()===t.hostnameAndPort}).length>0},n.generateAuthority=function(t,e){var r;return e&&e.azureCloudInstance!==Js.None&&(r=e.azureCloudInstance+"/"+(e.tenant?e.tenant:v.DEFAULT_COMMON_TENANT)+"/"),r||t},n.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i.aliases.indexOf(e)>-1)return i}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw V.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},n.isPublicCloudAuthority=function(t){return v.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},n.buildRegionalAuthorityString=function(t,e,r){var i=new ye(t);i.validateAsUri();var o=i.getUrlComponents(),s=e+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=e+"."+v.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=ye.constructAuthorityUriFromObject(Qe(Qe({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?a+"?"+r:a},n.replaceWithRegionalInformation=function(t,e){return t.authorization_endpoint=n.buildRegionalAuthorityString(t.authorization_endpoint,e),t.token_endpoint=n.buildRegionalAuthorityString(t.token_endpoint,e,v.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=n.buildRegionalAuthorityString(t.end_session_endpoint,e)),t},n}(),vh=function(){function n(){}return n.createDiscoveredInstance=function(t,e,r,i,o,s){return ee(this,void 0,void 0,function(){var a,l;return te(this,function(c){switch(c.label){case 0:a=n.createInstance(t,e,r,i,o,s),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.resolveEndpointsAsync()];case 2:return c.sent(),[2,a];case 3:throw l=c.sent(),V.createEndpointDiscoveryIncompleteError(l);case 4:return[2]}})})},n.createInstance=function(t,e,r,i,o,s){if(N.isEmpty(t))throw et.createUrlEmptyError();return new gh(t,e,r,i,o,s)},n}(),l8=function(){function n(t,e){this.cacheOutcome=Qi.NO_CACHE_HIT,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||v.EMPTY_STRING,this.wrapperVer=t.wrapperVer||v.EMPTY_STRING,this.telemetryCacheKey=jt.CACHE_KEY+pn.CACHE_KEY_SEPARATOR+t.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+jt.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join(jt.VALUE_SEPARATOR),i=[t,this.getRegionDiscoveryFields()].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,i,e].join(jt.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*e).join(jt.VALUE_SEPARATOR),i=t.errors.slice(0,e).join(jt.VALUE_SEPARATOR),o=t.errors.length,a=[o,e<o?jt.OVERFLOW_TRUE:jt.OVERFLOW_FALSE].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,t.cacheHits,r,i,a].join(jt.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(t){var e=this.getLastRequests();e.errors.length>=jt.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),N.isEmpty(t.subError)?N.isEmpty(t.errorCode)?t&&t.toString()?e.errors.push(t.toString()):e.errors.push(jt.UNKNOWN_ERROR):e.errors.push(t.errorCode):e.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)},n.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},n.prototype.getLastRequests=function(){var t=new dh;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t},n.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var i=new dh;i.failedRequests=t.failedRequests.slice(2*e),i.errors=t.errors.slice(e),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}},n.maxErrorsToSend=function(t){var e,r=0,i=0,o=t.errors.length;for(e=0;e<o;e++){var a=t.failedRequests[2*e+1]||v.EMPTY_STRING,l=t.errors[e]||v.EMPTY_STRING;if(!((i+=(t.failedRequests[2*e]||v.EMPTY_STRING).toString().length+a.toString().length+l.length+3)<jt.MAX_LAST_HEADER_BYTES))break;r+=1}return r},n.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||v.EMPTY_STRING),t.push(this.regionSource||v.EMPTY_STRING),t.push(this.regionOutcome||v.EMPTY_STRING),t.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},n.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},n}(),eA=function(){function n(t,e,r,i,o,s,a,l,c){this.config=t,this.browserStorage=e,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=l,this.correlationId=c||this.browserCrypto.createNewGuid(),this.logger=i.clone("msal.js.browser",Zl,this.correlationId),this.performanceClient=a}return n.prototype.clearCacheOnLogout=function(t){return T(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:if(!t)return[3,5];Gt.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Gt.generateAccountCacheKey(t))];case 2:return e.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return e.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return e.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return e.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return e.sent(),[3,9];case 8:return e.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(t){return T(this,void 0,void 0,function(){var e,r,i,o;return D(this,function(s){switch(s.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),e=t.authority||this.config.auth.authority,r=qv(t&&t.scopes||[]),(i=j(j({},t),{correlationId:this.correlationId,authority:e,scopes:r})).authenticationScheme){if(i.authenticationScheme===Pe.SSH){if(!t.sshJwk)throw et.createMissingSshJwkError();if(!t.sshKid)throw et.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+i.authenticationScheme+'" as configured in Auth request')}else i.authenticationScheme=Pe.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.claims&&!N.isEmpty(t.claims)?(o=i,[4,this.browserCrypto.hashString(t.claims)]):[3,2];case 1:o.requestedClaimsHash=s.sent(),s.label=2;case 2:return[2,i]}})})},n.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var e=t||this.config.auth.redirectUri||tt.getCurrentUri();return ye.getAbsoluteUrl(e,tt.getCurrentUri())},n.prototype.initializeServerTelemetryManager=function(t,e){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new l8(r,this.browserStorage)},n.prototype.getDiscoveredAuthority=function(t){return T(this,void 0,void 0,function(){var e;return D(this,function(r){switch(r.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),e={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},t?(this.logger.verbose("Creating discovered authority with request authority"),[4,vh.createDiscoveredInstance(t,this.config.system.networkClient,this.browserStorage,e,this.logger)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,vh.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,e,this.logger)]}})})},n}(),ta=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return zt(t,n),t.prototype.initializeAuthorizationCodeRequest=function(e){return T(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return r=o.sent(),i=j(j({},e),{redirectUri:e.redirectUri,code:v.EMPTY_STRING,codeVerifier:r.verifier}),e.codeChallenge=r.challenge,e.codeChallengeMethod=v.S256_CODE_CHALLENGE_METHOD,[2,i]}})})},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);var r=j({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var i=this.getLogoutHintFromIdTokenClaims(e.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(e.postLogoutRedirectUri,tt.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,tt.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(tt.getCurrentUri(),tt.getCurrentUri())),r},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var r=e.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new QM(o)]}})})},t.prototype.getClientConfiguration=function(e,r,i){return T(this,void 0,void 0,function(){var o,s;return D(this,function(a){switch(a.label){case 0:return this.logger.verbose("getClientConfiguration called",this.correlationId),[4,this.getDiscoveredAuthority(r,i)];case 1:return o=a.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:(s=this.config.system.loggerOptions).loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:Zl,cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},t.prototype.validateAndExtractStateFromHash=function(e,r,i){if(this.logger.verbose("validateAndExtractStateFromHash called",i),!e.state)throw O.createHashDoesNotContainStateError();var o=KM.extractBrowserRequestState(this.browserCrypto,e.state);if(!o)throw O.createUnableToParseStateError();if(o.interactionType!==r)throw O.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",i),e.state},t.prototype.getDiscoveredAuthority=function(e,r){var i;return T(this,void 0,void 0,function(){var o,s,l;return D(this,function(c){switch(c.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",this.correlationId),o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(Et.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=gh.generateAuthority(e||this.config.auth.authority,r||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),[4,vh.createDiscoveredInstance(l,this.config.system.networkClient,this.browserStorage,s,this.logger).then(function(u){return o.endMeasurement({success:!0}),u}).catch(function(u){throw o.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u})];case 1:return[2,c.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(e,r){return T(this,void 0,void 0,function(){var i,s,a,l,c,u;return D(this,function(d){switch(d.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),i=this.getRedirectUri(e.redirectUri),s=_i.setRequestState(this.browserCrypto,e&&e.state||v.EMPTY_STRING,{interactionType:r}),l=[{}],[4,this.initializeBaseRequest(e)];case 1:return a=j.apply(void 0,[j.apply(void 0,l.concat([d.sent()])),{redirectUri:i,state:s,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:Fl.FRAGMENT}]),(c=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+c.homeAccountId,this.correlationId),a.account=c),N.isEmpty(a.loginHint)&&!c&&(u=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=u),[2,a]}})})},t}(eA),yi=(()=>{return(n=yi||(yi={})).USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",n.USER_CANCEL="USER_CANCEL",n.NO_NETWORK="NO_NETWORK",n.TRANSIENT_ERROR="TRANSIENT_ERROR",n.PERSISTENT_ERROR="PERSISTENT_ERROR",n.DISABLED="DISABLED",n.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE",yi;var n})(),Jl_extensionError_code="ContentError",Jl_userSwitch_code="user_switch",Jl_userSwitch_desc="User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.",Jl_tokensNotFoundInCache_code="tokens_not_found_in_internal_memory_cache",Jl_tokensNotFoundInCache_desc="Tokens not cached in MSAL JS internal memory, please make the WAM request",$r=function(n){function t(e,r,i){var o=n.call(this,e,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="NativeAuthError",o.ext=i,o}return zt(t,n),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==yi.PERSISTENT_ERROR&&this.ext.status!==yi.DISABLED)||this.errorCode===Jl_extensionError_code},t.createError=function(e,r,i){if(i&&i.status)switch(i.status){case yi.ACCOUNT_UNAVAILABLE:return Cr.createNativeAccountUnavailableError();case yi.USER_INTERACTION_REQUIRED:return new Cr(e,r);case yi.USER_CANCEL:return O.createUserCancelledError();case yi.NO_NETWORK:return O.createNoNetworkConnectivityError()}return new t(e,r,i)},t.createUserSwitchError=function(){return new t(Jl_userSwitch_code,Jl_userSwitch_desc)},t.createTokensNotFoundInCacheError=function(){return new t(Jl_tokensNotFoundInCache_code,Jl_tokensNotFoundInCache_desc)},t}(G),tA=function(n){function t(e,r){return n.call(this,e,r)||this}return Tn(t,n),t.prototype.acquireToken=function(e){var r,i,o,s;return ee(this,void 0,void 0,function(){var a,l,c,u,d,h,f=this;return te(this,function(p){switch(p.label){case 0:return a=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(Et.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),l=ir.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return c=p.sent(),u=null===(i=c.headers)||void 0===i?void 0:i[Dn.X_MS_HTTP_VERSION],a?.addStaticFields({refreshTokenSize:(null===(o=c.body.refresh_token)||void 0===o?void 0:o.length)||0}),u&&a?.addStaticFields({httpVerToken:u}),d=null===(s=c.headers)||void 0===s?void 0:s[Dn.X_MS_REQUEST_ID],(h=new mh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(c.body),[2,h.handleServerTokenResponse(c.body,this.authority,l,e,void 0,void 0,!0,e.forceCache,d).then(function(m){return a?.endMeasurement({success:!0}),m}).catch(function(m){throw f.logger.verbose("Error in fetching refresh token",e.correlationId),a?.endMeasurement({errorCode:m.errorCode,subErrorCode:m.subError,success:!1}),m})]}})})},t.prototype.acquireTokenByRefreshToken=function(e){return ee(this,void 0,void 0,function(){var o;return te(this,function(s){if(!e)throw et.createEmptyTokenRequestError();if(!e.account)throw V.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(a){if(o=a instanceof Fo&&"invalid_grant"===a.errorCode&&"client_mismatch"===a.subError,a instanceof Cr&&a.errorCode===$l_noTokensFoundError_code||o)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw a}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,r){var i;return ee(this,void 0,void 0,function(){var o,s,a;return te(this,function(l){if(o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(Et.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),!(s=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,r)))throw o?.discardMeasurement(),Cr.createNoTokensFoundError();return o?.endMeasurement({success:!0}),a=Qe(Qe({},e),{refreshToken:s.secret,authenticationScheme:e.authenticationScheme||Pe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:An.HOME_ACCOUNT_ID}}),[2,this.acquireToken(a)]})})},t.prototype.executeTokenRequest=function(e,r){var i;return ee(this,void 0,void 0,function(){var o,s,a,l,c,u;return te(this,function(d){switch(d.label){case 0:return o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(Et.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.createTokenRequestBody(e)];case 1:return s=d.sent(),a=this.createTokenQueryParameters(e),l=this.createTokenRequestHeaders(e.ccsCredential),c={clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},u=ye.appendQueryString(r.tokenEndpoint,a),[2,this.executePostToTokenEndpoint(u,s,l,c).then(function(h){return o?.endMeasurement({success:!0}),h}).catch(function(h){throw o?.endMeasurement({success:!1}),h})]}})})},t.prototype.createTokenQueryParameters=function(e){var r=new Xs;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()},t.prototype.createTokenRequestBody=function(e){var r;return ee(this,void 0,void 0,function(){var i,o,s,a,c,u;return te(this,function(d){switch(d.label){case 0:return i=e.correlationId,o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(Et.BaseClientCreateTokenRequestHeaders,i),(s=new Xs).addClientId(this.config.authOptions.clientId),s.addScopes(e.scopes),s.addGrantType(Ll.REFRESH_TOKEN_GRANT),s.addClientInfo(),s.addLibraryInfo(this.config.libraryInfo),s.addApplicationTelemetry(this.config.telemetry.application),s.addThrottling(),this.serverTelemetryManager&&s.addServerTelemetry(this.serverTelemetryManager),s.addCorrelationId(i),s.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&s.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(s.addClientAssertion((a=this.config.clientCredentials.clientAssertion).assertion),s.addClientAssertionType(a.assertionType)),e.authenticationScheme!==Pe.POP?[3,2]:[4,new ea(this.cryptoUtils).generateCnf(e)];case 1:return c=d.sent(),s.addPopToken(c.reqCnfString),[3,3];case 2:if(e.authenticationScheme===Pe.SSH){if(!e.sshJwk)throw o?.endMeasurement({success:!1}),et.createMissingSshJwkError();s.addSshJwk(e.sshJwk)}d.label=3;case 3:if((!N.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&s.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case An.HOME_ACCOUNT_ID:try{u=Zs(e.ccsCredential.credential),s.addCcsOid(u)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case An.UPN:s.addCcsUpn(e.ccsCredential.credential)}return o?.endMeasurement({success:!0}),[2,s.createQueryString()]}})})},t}(n_),c8=function(n){function t(e,r){return n.call(this,e,r)||this}return Tn(t,n),t.prototype.acquireToken=function(e){return ee(this,void 0,void 0,function(){var r;return te(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,o.sent()];case 2:if((r=o.sent())instanceof V&&r.errorCode===A_tokenRefreshRequired_code)return[2,new tA(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw r;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var r,i,o,s;return ee(this,void 0,void 0,function(){var a,l;return te(this,function(c){switch(c.label){case 0:if(!e)throw et.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(Qi.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),V.createRefreshRequiredError();if(!e.account)throw V.createNoAccountInSilentRequestError();if(a=e.authority||this.authority.getPreferredCache(),!(l=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,a)).accessToken)throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(Qi.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),V.createRefreshRequiredError();if(ir.wasClockTurnedBack(l.accessToken.cachedAt)||ir.isTokenExpired(l.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(Qi.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),V.createRefreshRequiredError();if(l.accessToken.refreshOn&&ir.isTokenExpired(l.accessToken.refreshOn,0))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(Qi.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),V.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(l,e)];case 1:return[2,c.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,r){return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:if(e.idToken&&(i=new Gr(e.idToken.secret,this.config.cryptoInterface)),r.maxAge||0===r.maxAge){if(o=i?.claims.auth_time,!o)throw V.createAuthTimeNotFoundError();Gr.checkMaxAge(o,r.maxAge)}return[4,mh.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,i)];case 1:return[2,s.sent()]}})})},t}(n_),nA=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(l){switch(l.label){case 0:return r=this.performanceClient.startMeasurement(Et.SilentCacheClientAcquireToken,e.correlationId),i=this.initializeServerTelemetryManager(qe.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(i,e.authority,e.azureCloudOptions)];case 1:o=l.sent(),this.logger.verbose("Silent auth client created"),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,o.acquireCachedToken(e)];case 3:return s=l.sent(),r.endMeasurement({success:!0,fromCache:!0}),[2,s];case 4:throw(a=l.sent())instanceof O&&a.errorCode===I_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),r.endMeasurement({errorCode:a instanceof G&&a.errorCode||void 0,subErrorCode:a instanceof G&&a.subError||void 0,success:!1}),a;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new c8(o,this.performanceClient)]}})})},t.prototype.initializeSilentRequest=function(e,r){return T(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return i=[j({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,j.apply(void 0,[j.apply(void 0,i.concat([o.sent()])),{account:r,forceRefresh:e.forceRefresh||!1}])]}})})},t}(ta),na=function(n){function t(e,r,i,o,s,a,l,c,u,d,h,f){var p=n.call(this,e,r,i,o,s,a,c,u,f)||this;return p.apiId=l,p.accountId=d,p.nativeMessageHandler=u,p.nativeStorageManager=h,p.silentCacheClient=new nA(e,p.nativeStorageManager,i,o,s,a,c,u,f),p}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,l,c;return D(this,function(u){switch(u.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),r=this.performanceClient.startMeasurement(Et.NativeInteractionClientAcquireToken,e.correlationId),i=ir.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:o=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,o)];case 3:return s=u.sent(),r.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,s];case 4:return u.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return[4,this.nativeMessageHandler.sendMessage({method:zr.GetToken,request:o})];case 6:return l=u.sent(),c=this.validateNativeResponse(l),[2,this.handleNativeResponse(c,o,i).then(function(d){return r.endMeasurement({success:!0,isNativeBroker:!0,requestId:d.requestId}),d}).catch(function(d){throw r.endMeasurement({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})]}})})},t.prototype.createSilentCacheRequest=function(e,r){return{authority:e.authority,correlationId:this.correlationId,scopes:gn.fromString(e.scope).asArray(),account:r,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,r){return T(this,void 0,void 0,function(){var i,o,s;return D(this,function(c){switch(c.label){case 0:if(!(i=this.browserStorage.readAccountFromCacheWithNativeAccountId(e)))throw V.createNoAccountFoundError();o=i.getAccountInfo(),c.label=1;case 1:return c.trys.push([1,3,,4]),s=this.createSilentCacheRequest(r,o),[4,this.silentCacheClient.acquireToken(s)];case 2:return[2,c.sent()];case 3:throw c.sent();case 4:return[2]}})})},t.prototype.acquireTokenRedirect=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,l;return D(this,function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:r=c.sent(),i={method:zr.GetToken,request:r},c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(i)];case 3:return o=c.sent(),this.validateNativeResponse(o),[3,5];case 4:if((s=c.sent())instanceof $r&&s.isFatal())throw s;return[3,5];case 5:return this.browserStorage.setTemporaryCache(Ce.NATIVE_REQUEST,JSON.stringify(r),!0),a={apiId:qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(l,a)];case 6:return c.sent(),[2]}})})},t.prototype.handleRedirectPromise=function(){return T(this,void 0,void 0,function(){var e,r,i,o,s,a,l,c;return D(this,function(u){switch(u.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];r=e.prompt,i=xM(e,["prompt"]),r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ce.NATIVE_REQUEST)),o={method:zr.GetToken,request:i},s=ir.nowSeconds(),u.label=1;case 1:return u.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(o)];case 2:return a=u.sent(),this.validateNativeResponse(a),l=this.handleNativeResponse(a,i,s),this.browserStorage.setInteractionInProgress(!1),[2,l];case 3:throw c=u.sent(),this.browserStorage.setInteractionInProgress(!1),c;case 4:return[2]}})})},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,r,i){return T(this,void 0,void 0,function(){var o,s,a,l,c,u,d,h,f,p,m,g,C,b,k,$,X,ke,De,vn=this;return D(this,function(Nt){switch(Nt.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),o=this.getMATSFromResponse(e),this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:o?o.broker_version:void 0,matsAccountJoinOnStart:o?o.account_join_on_start:void 0,matsAccountJoinOnEnd:o?o.account_join_on_end:void 0,matsDeviceJoin:o?o.device_join:void 0,matsPromptBehavior:o?o.prompt_behavior:void 0,matsApiErrorCode:o?o.api_error_code:void 0,matsUiVisible:o?o.ui_visible:void 0,matsSilentCode:o?o.silent_code:void 0,matsSilentBiSubCode:o?o.silent_bi_sub_code:void 0,matsSilentMessage:o?o.silent_message:void 0,matsSilentStatus:o?o.silent_status:void 0,matsHttpStatus:o?o.http_status:void 0,matsHttpEventCount:o?o.http_event_count:void 0},this.correlationId),e.account.id!==r.accountId)throw $r.createUserSwitchError();return s=new Gr(e.id_token||v.EMPTY_STRING,this.browserCrypto),[4,this.getDiscoveredAuthority(r.authority)];case 1:return a=Nt.sent(),l=a.getPreferredCache(),c=Gt.generateHomeAccountId(e.client_info||v.EMPTY_STRING,$n.Default,this.logger,this.browserCrypto,s),u=Gt.createAccount(e.client_info,c,s,void 0,void 0,void 0,l,e.account.id),this.browserStorage.setAccount(u),d=gn.fromString(e.scope?e.scope:r.scope),f=(h=e.account.properties||{}).UID||s.claims.oid||s.claims.sub||v.EMPTY_STRING,p=h.TenantId||s.claims.tid||v.EMPTY_STRING,g=Pe.BEARER,r.tokenType===Pe.POP?[3,2]:[3,4];case 2:if(g=Pe.POP,e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),m=e.shr,[3,5];if(C=new ea(this.browserCrypto),b={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce},!r.keyId)throw V.createKeyIdMissingError();return[4,C.signPopToken(e.access_token,r.keyId,b)];case 3:return m=Nt.sent(),[3,5];case 4:m=e.access_token,Nt.label=5;case 5:return k={authority:a.canonicalAuthority,uniqueId:f,tenantId:p,scopes:d.asArray(),account:u.getAccountInfo(),idToken:e.id_token,idTokenClaims:s.claims,accessToken:m,fromCache:!!o&&this.isResponseFromCache(o),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:g,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0},$=Wl.createIdTokenEntity(c,r.authority,e.id_token||v.EMPTY_STRING,r.clientId,s.claims.tid||v.EMPTY_STRING),this.nativeStorageManager.setIdTokenCredential($),X=g===Pe.POP?v.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,ke=i+X,De=Yl.createAccessTokenEntity(c,r.authority,m,r.clientId,p,d.printScopes(),ke,0,this.browserCrypto),this.nativeStorageManager.setAccessTokenCredential(De),this.browserStorage.removeAccountContext(u).catch(function(Ji){vn.logger.error("Error occurred while removing account context from browser storage. "+Ji)}),[2,k]}})})},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw $r.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return T(this,void 0,void 0,function(){var i,o,s,a,l,c,u,h,f=this;return D(this,function(p){switch(p.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),(i=new ye(e.authority||this.config.auth.authority)).validateAsUri(),o=e.scopes,s=xM(e,["scopes"]),(a=new gn(o||[])).appendScopes(Ol),l=function(){switch(f.apiId){case qe.ssoSilent:case qe.acquireTokenSilent_silentFlow:return f.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Bt.NONE}if(e.prompt)switch(e.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:return f.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw f.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),O.createNativePromptParameterNotSupportedError()}else f.logger.trace("initializeNativeRequest: prompt was not provided")},c=j(j({},s),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:l(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:j(j(j({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),e.authenticationScheme!==Pe.POP?[3,2]:(u={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new ea(this.browserCrypto).generateCnf(u)]);case 1:h=p.sent(),c.reqCnf=h.reqCnfHash,c.keyId=h.kid,p.label=2;case 2:return[2,c]}})})},t}(eA),Uo=function(){function n(t,e,r){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this)}return n.prototype.sendMessage=function(t){return T(this,void 0,void 0,function(){var e,r=this;return D(this,function(i){return this.logger.trace("NativeMessageHandler - sendMessage called."),e={channel:Bl_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:t},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(e)),this.messageChannel.port1.postMessage(e),[2,new Promise(function(o,s){r.resolvers.set(e.responseId,{resolve:o,reject:s})})]})})},n.createProvider=function(t,e){return T(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:t.trace("NativeMessageHandler - createProvider called."),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(r=new n(t,e,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return o.sent(),[2,r];case 3:return o.sent(),[4,(i=new n(t,e)).sendHandshakeRequest()];case 4:return o.sent(),[2,i];case 5:return[2]}})})},n.prototype.sendHandshakeRequest=function(){return T(this,void 0,void 0,function(){var t,e=this;return D(this,function(r){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),t={channel:Bl_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:zr.HandshakeRequest}},this.messageChannel.port1.onmessage=function(i){e.onChannelMessage(i)},window.postMessage(t,window.origin,[this.messageChannel.port2]),[2,new Promise(function(i,o){e.handshakeResolvers.set(t.responseId,{resolve:i,reject:o}),e.timeoutId=window.setTimeout(function(){window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),o(O.createNativeHandshakeTimeoutError()),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})]})})},n.prototype.onWindowMessage=function(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source===window){var e=t.data;if(e.channel&&e.channel===Bl_CHANNEL_ID&&(!e.extensionId||e.extensionId===this.extensionId)&&e.body.method===zr.HandshakeRequest){this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var r=this.handshakeResolvers.get(e.responseId);r&&r.reject(O.createNativeExtensionNotInstalledError())}}},n.prototype.onChannelMessage=function(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var e=t.data,r=this.resolvers.get(e.responseId),i=this.handshakeResolvers.get(e.responseId);try{var o=e.body.method;if(o===zr.Response){if(!r)return;var s=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(s)),"Success"!==s.status)r.reject($r.createError(s.code,s.description,s.ext));else{if(!s.result)throw G.createUnexpectedError("Event does not contain result.");s.result.code&&s.result.description?r.reject($r.createError(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result)}this.resolvers.delete(e.responseId)}else if(o===zr.HandshakeResponse){if(!i)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),i.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+t),r?r.reject(a):i&&i.reject(a)}},n.prototype.getExtensionId=function(){return this.extensionId},n.prototype.getExtensionVersion=function(){return this.extensionVersion},n.isNativeAvailable=function(t,e,r,i){if(e.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return e.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return e.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Pe.BEARER:case Pe.POP:return e.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},n}(),r_=function(){function n(t,e,r,i){this.authModule=t,this.browserStorage=e,this.authCodeRequest=r,this.logger=i}return n.prototype.handleCodeResponseFromHash=function(t,e,r,i){return T(this,void 0,void 0,function(){var o,s,a;return D(this,function(l){if(this.logger.verbose("InteractionHandler.handleCodeResponse called"),N.isEmpty(t))throw O.createEmptyHashError(t);if(o=this.browserStorage.generateStateKey(e),!(s=this.browserStorage.getTemporaryCache(o)))throw V.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(t,s)}catch(c){throw c instanceof Fo&&c.subError===I_userCancelledError_code?O.createUserCancelledError():c}return[2,this.handleCodeResponseFromServer(a,e,r,i)]})})},n.prototype.handleCodeResponseFromServer=function(t,e,r,i,o){return void 0===o&&(o=!0),T(this,void 0,void 0,function(){var s,a,l,c,u,d;return D(this,function(h){switch(h.label){case 0:if(this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(e),!(a=this.browserStorage.getTemporaryCache(s)))throw V.createStateNotFoundError("Cached State");return l=this.browserStorage.generateNonceKey(a),c=this.browserStorage.getTemporaryCache(l),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,r,i)]:[3,2];case 1:h.sent(),h.label=2;case 2:return o&&(t.nonce=c||void 0),t.state=a,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return d=h.sent(),this.browserStorage.cleanRequestByState(e),[2,d]}})})},n.prototype.updateTokenEndpointAuthority=function(t,e,r){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,vh.createDiscoveredInstance("https://"+t+"/"+e.tenant+"/",r,this.browserStorage,e.options,this.logger)];case 1:return o=s.sent(),this.authModule.updateAuthority(o),[2]}})})},n.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(Ce.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},n}(),u8=function(n){function t(e,r,i,o,s,a,l,c,u,d){var h=n.call(this,e,r,i,o,s,a,l,u,d)||this;return h.unloadWindow=h.unloadWindow.bind(h),h.nativeStorage=c,h}return zt(t,n),t.prototype.acquireToken=function(e){try{var r=this.generatePopupName(e.scopes||Ol,e.authority||this.config.auth.authority),i=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,i);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var o=this.openSizedPopup("about:blank",r,i);return this.acquireTokenPopupAsync(e,r,i,o)}catch(s){return Promise.reject(s)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(e),i=this.generateLogoutPopupName(r),o=e&&e.authority,s=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,i,a,o,void 0,s);this.logger.verbose("asyncPopup set to false, opening popup");var l=this.openSizedPopup("about:blank",i,a);return this.logoutPopupAsync(r,i,a,o,l,s)}catch(c){return Promise.reject(c)}},t.prototype.acquireTokenPopupAsync=function(e,r,i,o){return T(this,void 0,void 0,function(){var s,a,l,c,u,d,h,f,m,g,_,C,b,k,X,ke=this;return D(this,function(De){switch(De.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),s=this.initializeServerTelemetryManager(qe.acquireTokenPopup),[4,this.initializeAuthorizationRequest(e,x.Popup)];case 1:a=De.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||v.EMPTY_STRING,a.account||null),De.label=2;case 2:return De.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(a)];case 3:return l=De.sent(),[4,this.createAuthCodeClient(s,a.authority,a.azureCloudOptions)];case 4:return c=De.sent(),this.logger.verbose("Auth code client created"),u=Uo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),d=void 0,u&&(d=this.performanceClient.startMeasurement(Et.FetchAccountIdWithNativeBroker,e.correlationId)),[4,c.getAuthCodeUrl(j(j({},a),{nativeBroker:u}))];case 5:return h=De.sent(),f=new r_(c,this.browserStorage,l,this.logger),m=this.initiateAuthRequest(h,{popup:o,popupName:r,popupWindowAttributes:i}),this.eventHandler.emitEvent(H.POPUP_OPENED,x.Popup,{popupWindow:m},null),[4,this.monitorPopupForHash(m)];case 6:if(g=De.sent(),_=ye.getDeserializedHash(g),C=this.validateAndExtractStateFromHash(_,x.Popup,a.correlationId),hh.removeThrottle(this.browserStorage,this.config.auth.clientId,l),_.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),d&&d.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return b=new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,_.accountId,this.nativeStorage,a.correlationId),k=_i.parseRequestState(this.browserCrypto,C).userRequestState,[2,b.acquireToken(j(j({},a),{state:k,prompt:void 0})).finally(function(){ke.browserStorage.cleanRequestByState(C)})]}return[4,f.handleCodeResponseFromHash(g,C,c.authority,this.networkClient)];case 7:return[2,De.sent()];case 8:throw X=De.sent(),o&&o.close(),X instanceof G&&X.setCorrelationId(this.correlationId),s.cacheFailedRequest(X),this.browserStorage.cleanRequestByState(a.state),X;case 9:return[2]}})})},t.prototype.logoutPopupAsync=function(e,r,i,o,s,a){return T(this,void 0,void 0,function(){var l,c,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(H.LOGOUT_START,x.Popup,e),l=this.initializeServerTelemetryManager(qe.logoutPopup),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return m.sent(),[4,this.createAuthCodeClient(l,o)];case 3:return c=m.sent(),this.logger.verbose("Auth code client created"),u=c.getLogoutUri(e),this.eventHandler.emitEvent(H.LOGOUT_SUCCESS,x.Popup,e),d=this.openPopup(u,{popupName:r,popupWindowAttributes:i,popup:s}),this.eventHandler.emitEvent(H.POPUP_OPENED,x.Popup,{popupWindow:d},null),[4,this.waitForLogoutPopup(d)];case 4:return m.sent(),a?(h={apiId:qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=ye.getAbsoluteUrl(a,tt.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+f),this.navigationClient.navigateInternal(f,h)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw p=m.sent(),s&&s.close(),p instanceof G&&p.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(H.LOGOUT_FAILURE,x.Popup,null,p),this.eventHandler.emitEvent(H.LOGOUT_END,x.Popup),l.cacheFailedRequest(p),p;case 6:return this.eventHandler.emitEvent(H.LOGOUT_END,x.Popup),[2]}})})},t.prototype.initiateAuthRequest=function(e,r){if(N.isEmpty(e))throw this.logger.error("Navigate url is empty"),O.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,r)},t.prototype.monitorPopupForHash=function(e){var r=this;return new Promise(function(i,o){var s=r.config.system.windowHashTimeout/r.config.system.pollIntervalMilliseconds,a=0;r.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var l=setInterval(function(){if(e.closed)return r.logger.error("PopupHandler.monitorPopupForHash - window closed"),r.cleanPopup(),clearInterval(l),void o(O.createUserCancelledError());var c=v.EMPTY_STRING,u=v.EMPTY_STRING;try{c=e.location.href,u=e.location.hash}catch{}N.isEmpty(c)||"about:blank"===c||(r.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),a++,u?(r.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(l),r.cleanPopup(e),ye.hashContainsKnownProperties(u)?(r.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),i(u)):(r.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),r.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+u),o(O.createHashDoesNotContainKnownPropertiesError()))):a>s&&(r.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(l),o(O.createMonitorPopupTimeoutError())))},r.config.system.pollIntervalMilliseconds)})},t.prototype.waitForLogoutPopup=function(e){var r=this;return new Promise(function(i){r.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var o=setInterval(function(){e.closed&&(r.logger.error("PopupHandler.waitForLogoutPopup - window closed"),r.cleanPopup(),clearInterval(o),i());var s=v.EMPTY_STRING;try{s=e.location.href}catch{}N.isEmpty(s)||"about:blank"===s||(r.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(o),r.cleanPopup(e),i())},r.config.system.pollIntervalMilliseconds)})},t.prototype.openPopup=function(e,r){try{var i=void 0;if(r.popup?(i=r.popup,this.logger.verbosePii("Navigating popup window to: "+e),i.location.assign(e)):typeof r.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+e),i=this.openSizedPopup(e,r.popupName,r.popupWindowAttributes)),!i)throw O.createEmptyWindowCreatedError();return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i}catch(o){throw this.logger.error("error opening popup "+o.message),this.browserStorage.setInteractionInProgress(!1),O.createPopupWindowError(o.toString())}},t.prototype.openSizedPopup=function(e,r,i){var o,s,a,l,c=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=null===(o=i.popupSize)||void 0===o?void 0:o.width,p=null===(s=i.popupSize)||void 0===s?void 0:s.height,m=null===(a=i.popupPosition)||void 0===a?void 0:a.top,g=null===(l=i.popupPosition)||void 0===l?void 0:l.left;return(!f||f<0||f>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=483),(!p||p<0||p>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=600),(!m||m<0||m>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),m=Math.max(0,h/2-300+u)),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,d/2-241.5+c)),window.open(e,r,"width="+f+", height="+p+", top="+m+", left="+g+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(x.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,r){return"msal."+this.config.auth.clientId+"."+e.join("-")+"."+r+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){return"msal."+this.config.auth.clientId+"."+(e.account&&e.account.homeAccountId)+"."+this.correlationId},t}(ta),rA=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r,i,o)||this;return a.browserCrypto=s,a}return zt(t,n),t.prototype.initiateAuthRequest=function(e,r){return T(this,void 0,void 0,function(){var i;return D(this,function(s){switch(s.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),N.isEmpty(e)?[3,7]:(r.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Ce.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Ce.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),i={apiId:qe.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1},"function"!=typeof r.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===r.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,r.navigationClient.navigateExternal(e,i)])));case 1:case 5:return s.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,r.navigationClient.navigateExternal(e,i)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),O.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(e,r,i,o){return T(this,void 0,void 0,function(){var s,a,l,c,u,d,h;return D(this,function(f){switch(f.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),N.isEmpty(e))throw O.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),s=this.browserStorage.generateStateKey(r),!(a=this.browserStorage.getTemporaryCache(s)))throw V.createStateNotFoundError("Cached State");try{l=this.authModule.handleFragmentResponse(e,a)}catch(p){throw p instanceof Fo&&p.subError===I_userCancelledError_code?O.createUserCancelledError():p}return c=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=l.code,l.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(l.cloud_instance_host_name,i,o)]:[3,2];case 1:f.sent(),f.label=2;case 2:return l.nonce=u||void 0,l.state=a,l.client_info?this.authCodeRequest.clientInfo=l.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),[4,this.authModule.acquireToken(this.authCodeRequest,l)];case 3:return h=f.sent(),this.browserStorage.cleanRequestByState(r),[2,h]}})})},t}(r_),d8=function(n){function t(e,r,i,o,s,a,l,c,u,d){var h=n.call(this,e,r,i,o,s,a,l,u,d)||this;return h.nativeStorage=c,h}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d,h=this;return D(this,function(f){switch(f.label){case 0:return[4,this.initializeAuthorizationRequest(e,x.Redirect)];case 1:r=f.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(qe.acquireTokenRedirect),o=function(p){p.persisted&&(h.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),h.browserStorage.cleanRequestByState(r.state))},f.label=2;case 2:return f.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return s=f.sent(),[4,this.createAuthCodeClient(i,r.authority,r.azureCloudOptions)];case 4:return a=f.sent(),this.logger.verbose("Auth code client created"),l=new rA(a,this.browserStorage,s,this.logger,this.browserCrypto),[4,a.getAuthCodeUrl(j(j({},r),{nativeBroker:Uo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return c=f.sent(),u=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+u),window.addEventListener("pageshow",o),[4,l.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:u,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,f.sent()];case 7:throw(d=f.sent())instanceof G&&d.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",o),i.cacheFailedRequest(d),this.browserStorage.cleanRequestByState(r.state),d;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:r=this.initializeServerTelemetryManager(qe.handleRedirectPromise),m.label=1;case 1:if(m.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(i=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null];o=void 0;try{s=ye.getDeserializedHash(i),o=this.validateAndExtractStateFromHash(s,x.Redirect),this.logger.verbose("State extracted from hash")}catch(g){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+g),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null]}return a=this.browserStorage.getTemporaryCache(Ce.ORIGIN_URI,!0)||v.EMPTY_STRING,l=ye.removeHashFromUrl(a),c=ye.removeHashFromUrl(window.location.href),l===c&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(i,o,r)]):[3,3];case 2:return u=m.sent(),a.indexOf("#")>-1&&tt.replaceHash(a),[2,u];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(i,o,r)]);case 4:return!tt.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(Ce.URL_HASH,i,!0),d={apiId:qe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},h=!0,a&&"null"!==a?[3,6]:(f=tt.getHomepage(),this.browserStorage.setTemporaryCache(Ce.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(f,d)])):[3,9];case 5:return h=m.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+a),[4,this.navigationClient.navigateInternal(a,d)];case 7:h=m.sent(),m.label=8;case 8:if(!h)return[2,this.handleHash(i,o,r)];m.label=9;case 9:return[2,null];case 10:throw(p=m.sent())instanceof G&&p.setCorrelationId(this.correlationId),r.cacheFailedRequest(p),this.browserStorage.cleanRequestByInteractionType(x.Redirect),p;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),ye.hashContainsKnownProperties(e))return tt.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var i=this.browserStorage.getTemporaryCache(Ce.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ce.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),i},t.prototype.handleHash=function(e,r,i){return T(this,void 0,void 0,function(){var o,s,a,l,c,u,h=this;return D(this,function(f){switch(f.label){case 0:if(o=this.browserStorage.getCachedRequest(r,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(s=ye.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return a=new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,s.accountId,this.browserStorage,o.correlationId),l=_i.parseRequestState(this.browserCrypto,r).userRequestState,[2,a.acquireToken(j(j({},o),{state:l,prompt:void 0})).finally(function(){h.browserStorage.cleanRequestByState(r)})]}if(!(c=this.browserStorage.getCachedAuthority(r)))throw O.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(i,c)];case 1:return u=f.sent(),this.logger.verbose("Auth code client created"),hh.removeThrottle(this.browserStorage,this.config.auth.clientId,o),[4,new rA(u,this.browserStorage,o,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,r,u.authority,this.networkClient)];case 2:return[2,f.sent()]}})})},t.prototype.logout=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,c;return D(this,function(u){switch(u.label){case 0:this.logger.verbose("logoutRedirect called"),r=this.initializeLogoutRequest(e),i=this.initializeServerTelemetryManager(qe.logout),u.label=1;case 1:return u.trys.push([1,10,,11]),this.eventHandler.emitEvent(H.LOGOUT_START,x.Redirect,e),[4,this.clearCacheOnLogout(r.account)];case 2:return u.sent(),o={apiId:qe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(i,e&&e.authority)];case 3:return s=u.sent(),this.logger.verbose("Auth code client created"),a=s.getLogoutUri(r),this.eventHandler.emitEvent(H.LOGOUT_SUCCESS,x.Redirect,r),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(a)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)]):[3,7];case 4:return u.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),u.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)];case 8:return u.sent(),[2];case 9:return[3,11];case 10:throw(c=u.sent())instanceof G&&c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),this.eventHandler.emitEvent(H.LOGOUT_FAILURE,x.Redirect,null,c),this.eventHandler.emitEvent(H.LOGOUT_END,x.Redirect),c;case 11:return this.eventHandler.emitEvent(H.LOGOUT_END,x.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(e){var r=e||window.location.href;return ye.getAbsoluteUrl(r,tt.getCurrentUri())},t}(ta),iA=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r,i,o)||this;return a.navigateFrameWait=s.navigateFrameWait,a.pollIntervalMilliseconds=s.pollIntervalMilliseconds,a}return zt(t,n),t.prototype.initiateAuthRequest=function(e){return T(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:if(N.isEmpty(e))throw this.logger.info("Navigate url is empty"),O.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=this.loadFrameSync(e),i.label=3;case 3:return[2,r]}})})},t.prototype.monitorIframeForHash=function(e,r){var i=this;return new Promise(function(o,s){r<6e3&&i.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+r+"ms) than the default (6000ms). This may result in timeouts.");var l=window.performance.now()+r,c=setInterval(function(){if(window.performance.now()>l)return i.removeHiddenIframe(e),clearInterval(c),void s(O.createMonitorIframeTimeoutError());var u=v.EMPTY_STRING,d=e.contentWindow;try{u=d?d.location.href:v.EMPTY_STRING}catch{}if(!N.isEmpty(u)){var h=d?d.location.hash:v.EMPTY_STRING;if(ye.hashContainsKnownProperties(h))return i.removeHiddenIframe(e),clearInterval(c),void o(h)}},i.pollIntervalMilliseconds)})},t.prototype.loadFrame=function(e){var r=this;return new Promise(function(i,o){var s=r.createHiddenIframe();setTimeout(function(){s?(s.src=e,i(s)):o("Unable to load iframe")},r.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var r=this.createHiddenIframe();return r.src=e,r},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(r_),h8=function(n){function t(e,r,i,o,s,a,l,c,u,d,h){var f=n.call(this,e,r,i,o,s,a,c,d,h)||this;return f.apiId=l,f.nativeStorage=u,f}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(l){switch(l.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),r=this.performanceClient.startMeasurement(Et.SilentIframeClientAcquireToken,e.correlationId),N.isEmpty(e.loginHint)&&N.isEmpty(e.sid)&&(!e.account||N.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==Bt.NONE&&e.prompt!==Bt.NO_SESSION)throw r.endMeasurement({success:!1}),O.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(j(j({},e),{prompt:e.prompt||Bt.NONE}),x.Silent)];case 1:i=l.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||v.EMPTY_STRING,i.account||null),o=this.initializeServerTelemetryManager(this.apiId),l.label=2;case 2:return l.trys.push([2,5,,6]),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 3:return s=l.sent(),this.logger.verbose("Auth code client created"),[4,this.silentTokenHelper(s,i).then(function(c){return r.endMeasurement({success:!0,fromCache:!1,requestId:c.requestId}),c})];case 4:return[2,l.sent()];case 5:throw(a=l.sent())instanceof G&&a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(i.state),r.endMeasurement({errorCode:a instanceof G&&a.errorCode||void 0,subErrorCode:a instanceof G&&a.subError||void 0,success:!1}),a;case 6:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,r){return T(this,void 0,void 0,function(){var i,o,s,a,l,c,u,d,h,f=this;return D(this,function(p){switch(p.label){case 0:return[4,this.initializeAuthorizationCodeRequest(r)];case 1:return i=p.sent(),[4,e.getAuthCodeUrl(j(j({},r),{nativeBroker:Uo.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}))];case 2:return o=p.sent(),[4,(s=new iA(e,this.browserStorage,i,this.logger,this.config.system)).initiateAuthRequest(o)];case 3:return a=p.sent(),[4,s.monitorIframeForHash(a,this.config.system.iframeHashTimeout)];case 4:if(l=p.sent(),c=ye.getDeserializedHash(l),u=this.validateAndExtractStateFromHash(c,x.Silent,i.correlationId),c.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw O.createNativeConnectionNotEstablishedError();return d=new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,c.accountId,this.browserStorage,this.correlationId),h=_i.parseRequestState(this.browserCrypto,u).userRequestState,[2,d.acquireToken(j(j({},r),{state:h,prompt:r.prompt||Bt.NONE})).finally(function(){f.browserStorage.cleanRequestByState(u)})]}return[2,s.handleCodeResponseFromHash(l,u,e.authority,this.networkClient)]}})})},t}(ta),f8=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,l=this;return D(this,function(c){switch(c.label){case 0:return i=[j({},e)],[4,this.initializeBaseRequest(e)];case 1:return r=j.apply(void 0,i.concat([c.sent()])),o=this.performanceClient.startMeasurement(Et.SilentRefreshClientAcquireToken,r.correlationId),s=this.initializeServerTelemetryManager(qe.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(s,r.authority,r.azureCloudOptions)];case 2:return a=c.sent(),this.logger.verbose("Refresh token client created"),[2,a.acquireTokenByRefreshToken(r).then(function(u){return o.endMeasurement({success:!0,fromCache:u.fromCache,requestId:u.requestId}),u}).catch(function(u){throw u instanceof G&&u.setCorrelationId(l.correlationId),s.cacheFailedRequest(u),o.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u})]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(e,r,i)];case 1:return o=s.sent(),[2,new tA(o,this.performanceClient)]}})})},t}(ta),p8=function(){function n(t,e,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=r,this.cryptoObj=i}return n.prototype.loadExternalTokens=function(t,e,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!e.id_token)throw O.createUnableToLoadTokenError("Please ensure server response includes id token.");var o,s,i=new Gr(e.id_token,this.cryptoObj);if(t.account){var a=this.loadAccount(i,t.account.environment,void 0,void 0,t.account.homeAccountId);o=new fh(a,this.loadIdToken(i,a.homeAccountId,t.account.environment,t.account.tenantId),this.loadAccessToken(t,e,a.homeAccountId,t.account.environment,t.account.tenantId,r),this.loadRefreshToken(t,e,a.homeAccountId,t.account.environment))}else{if(!t.authority)throw O.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var l=gh.generateAuthority(t.authority,t.azureCloudOptions);if(s=new gh(l,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),a=this.loadAccount(i,s.hostnameAndPort,r.clientInfo,s.authorityType),o=new fh(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort));else{if(!e.client_info)throw O.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),a=this.loadAccount(i,s.hostnameAndPort,e.client_info,s.authorityType),o=new fh(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort))}}return this.generateAuthenticationResult(t,i,o,s)},n.prototype.loadAccount=function(t,e,r,i,o){var s;if(o?s=o:void 0!==i&&r&&(s=Gt.generateHomeAccountId(r,i,this.logger,this.cryptoObj,t)),!s)throw O.createUnableToLoadTokenError("Unexpected missing homeAccountId");var a=r?Gt.createAccount(r,s,t,void 0,void 0,void 0,e):Gt.createGenericAccount(s,t,void 0,void 0,void 0,e);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(a),a;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadIdToken=function(t,e,r,i){var o=Wl.createIdTokenEntity(e,r,t.rawToken,this.config.auth.clientId,i);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadAccessToken=function(t,e,r,i,o,s){if(!e.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!e.expires_in)throw O.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!s.extendedExpiresOn)throw O.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new gn(t.scopes).printScopes(),l=s.expiresOn||e.expires_in+(new Date).getTime()/1e3,u=Yl.createAccessTokenEntity(r,i,e.access_token,this.config.auth.clientId,o,a,l,s.extendedExpiresOn,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u),u;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadRefreshToken=function(t,e,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var o=uh.createRefreshTokenEntity(r,i,e.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.generateAuthenticationResult=function(t,e,r,i){var o,s,a,d,l=v.EMPTY_STRING,c=[],u=null;return r?.accessToken&&(l=r.accessToken.secret,c=gn.fromString(r.accessToken.target).asArray(),u=new Date(1e3*Number(r.accessToken.expiresOn)),d=new Date(1e3*Number(r.accessToken.extendedExpiresOn))),{authority:i?i.canonicalAuthority:v.EMPTY_STRING,uniqueId:e?.claims.oid||e?.claims.sub||v.EMPTY_STRING,tenantId:e?.claims.tid||v.EMPTY_STRING,scopes:c,account:r?.account?r.account.getAccountInfo():null,idToken:e?e.rawToken:v.EMPTY_STRING,idTokenClaims:e?e.claims:{},accessToken:l,fromCache:!0,expiresOn:u,correlationId:t.correlationId||v.EMPTY_STRING,requestId:v.EMPTY_STRING,extExpiresOn:d,familyId:v.EMPTY_STRING,tokenType:(null===(o=r?.accessToken)||void 0===o?void 0:o.tokenType)||v.EMPTY_STRING,state:v.EMPTY_STRING,cloudGraphHostName:(null===(s=r?.account)||void 0===s?void 0:s.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(a=r?.account)||void 0===a?void 0:a.msGraphHost)||v.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},n}(),m8=function(n){function t(e){var r=n.call(this,e)||this;return r.includeRedirectUri=!1,r}return zt(t,n),t}(QM),g8=function(n){function t(e,r,i,o,s,a,l,c,u,d){var h=n.call(this,e,r,i,o,s,a,c,u,d)||this;return h.apiId=l,h}return zt(t,n),t.prototype.acquireToken=function(e){return T(this,void 0,void 0,function(){var r,i,o,s,a,c;return D(this,function(u){switch(u.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw O.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,x.Silent)];case 1:r=u.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(this.apiId),u.label=2;case 2:return u.trys.push([2,4,,5]),o=j(j({},r),{code:e.code}),[4,this.getClientConfiguration(i,r.authority)];case 3:return s=u.sent(),a=new m8(s),this.logger.verbose("Auth code client created"),[2,new iA(a,this.browserStorage,o,this.logger,this.config.system).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r.state,a.authority,this.networkClient,!1)];case 4:throw(c=u.sent())instanceof G&&c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(r.state),c;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t}(ta),v8=function(){function n(t,e){this.correlationId=e,this.measureName="msal.measure."+t+"."+this.correlationId,this.startMark="msal.start."+t+"."+this.correlationId,this.endMark="msal.end."+t+"."+this.correlationId}return n.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},n.prototype.startMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},n.prototype.endMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},n.prototype.flushMeasurement=function(){if(n.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var e=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),e}}catch{}return null},n}(),_8=function(n){function t(e,r,i,o,s,a,l){var c=n.call(this,e,r,i,o,s,a)||this;return c.browserCrypto=new jM(c.logger,l),c.guidGenerator=new VM(c.browserCrypto),c}return zt(t,n),t.prototype.startPerformanceMeasurement=function(e,r){return new v8(e,r)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.startMeasurement=function(e,r){var i=this,o=this.getPageVisibility(),s=n.prototype.startMeasurement.call(this,e,r);return j(j({},s),{endMeasurement:function(a){return s.endMeasurement(j({startPageVisibility:o,endPageVisibility:i.getPageVisibility()},a))}})},t}(GM),b8=function(n){function t(e){var r=n.call(this,e)||this;return r.activeSilentTokenRequests=new Map,r}return zt(t,n),t.prototype.loginRedirect=function(e){return T(this,void 0,void 0,function(){var r;return D(this,function(i){return r=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",r),[2,this.acquireTokenRedirect(j({correlationId:r},e||kM))]})})},t.prototype.loginPopup=function(e){var r=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup(j({correlationId:r},e||kM))},t.prototype.acquireTokenSilent=function(e){return T(this,void 0,void 0,function(){var r,i,o,a,l,c,u=this;return D(this,function(d){if(r=this.getRequestCorrelationId(e),(i=this.performanceClient.startMeasurement(Et.AcquireTokenSilent,r)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.verbose("acquireTokenSilent called",r),!(o=e.account||this.getActiveAccount()))throw O.createNoAccountError();return a=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||v.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:o.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}),typeof(l=this.activeSilentTokenRequests.get(a))>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),c=this.acquireTokenSilentAsync(j(j({},e),{correlationId:r}),o).then(function(h){return u.activeSilentTokenRequests.delete(a),i.addStaticFields({accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length}),i.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:h.requestId}),i.flushMeasurement(),h}).catch(function(h){throw u.activeSilentTokenRequests.delete(a),i.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),i.flushMeasurement(),h}),this.activeSilentTokenRequests.set(a,c),[2,c]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),i.endMeasurement({success:!0}),i.discardMeasurement(),[2,l])})})},t.prototype.acquireTokenSilentAsync=function(e,r){return T(this,void 0,void 0,function(){var i,o,s,a,l,c,u=this;return D(this,function(d){switch(d.label){case 0:return this.eventHandler.emitEvent(H.ACQUIRE_TOKEN_START,x.Silent,e),i=this.performanceClient.startMeasurement(Et.AcquireTokenSilentAsync,e.correlationId),Uo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&r.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),s=j(j({},e),{account:r}),o=this.acquireTokenNative(s,qe.acquireTokenSilent_silentFlow).catch(function(h){return T(u,void 0,void 0,function(){return D(this,function(p){if(h instanceof $r&&h.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw h})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),[4,(a=this.createSilentCacheClient(e.correlationId)).initializeSilentRequest(e,r)];case 2:l=d.sent(),c=j(j({},e),{cacheLookupPolicy:e.cacheLookupPolicy||mn.Default}),o=this.acquireTokenFromCache(a,l,c).catch(function(h){if(c.cacheLookupPolicy===mn.AccessToken)throw h;return tt.blockReloadInHiddenIframes(),u.eventHandler.emitEvent(H.ACQUIRE_TOKEN_NETWORK_START,x.Silent,l),u.acquireTokenByRefreshToken(l,c).catch(function(f){if((!(f instanceof Fo)||"invalid_grant"!==f.errorCode||f instanceof Cr||c.cacheLookupPolicy===mn.AccessTokenAndRefreshToken||c.cacheLookupPolicy===mn.RefreshToken)&&c.cacheLookupPolicy!==mn.Skip)throw f;return u.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),u.acquireTokenBySilentIframe(l)})}),d.label=3;case 3:return[2,o.then(function(h){return u.eventHandler.emitEvent(H.ACQUIRE_TOKEN_SUCCESS,x.Silent,h),i.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,requestId:h.requestId}),h}).catch(function(h){throw u.eventHandler.emitEvent(H.ACQUIRE_TOKEN_FAILURE,x.Silent,null,h),i.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h})]}})})},t}(function(){function n(t){this.isBrowserEnvironment=typeof window<"u",this.config=function e8(n,t){var e=n.auth,r=n.cache,i=n.system,o=n.telemetry,s={clientId:v.EMPTY_STRING,authority:""+v.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:v.EMPTY_STRING,authorityMetadata:v.EMPTY_STRING,redirectUri:v.EMPTY_STRING,postLogoutRedirectUri:v.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ql.AAD,azureCloudOptions:{azureCloudInstance:Js.None,tenant:v.EMPTY_STRING},skipAuthorityMetadataCache:!1},a={cacheLocation:xt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},l={loggerCallback:function(){},logLevel:wt.Info,piiLoggingEnabled:!1},c=j(j({},YM),{loggerOptions:l,networkClient:t?tt.getBrowserNetworkClient():Y4,navigationClient:new Q4,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||6e3,navigateFrameWait:t&&tt.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:30,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),u=j(j({},i),{loggerOptions:i?.loggerOptions||l}),d={application:{appName:v.EMPTY_STRING,appVersion:v.EMPTY_STRING}};return{auth:j(j({},s),e),cache:j(j({},a),r),system:j(j({},c),u),telemetry:j(j({},d),o)}}(t,this.isBrowserEnvironment),this.initialized=!1,this.logger=new PM(this.config.system.loggerOptions,t_,Zl),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new _8(this.config.auth.clientId,this.config.auth.authority,this.logger,t_,Zl,this.config.telemetry.application,this.config.system.cryptoOptions):new F4(this.config.auth.clientId,this.config.auth.authority,this.logger,t_,Zl,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new O4(this.logger,this.performanceClient,this.config.system.cryptoOptions):lh,this.eventHandler=new t8(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Xv(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,t){return new Xv(n,{cacheLocation:xt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},lh,t)}(this.config.auth.clientId,this.logger),this.nativeInternalStorage=new Xv(this.config.auth.clientId,{cacheLocation:xt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},this.browserCrypto,this.logger),this.tokenCache=new p8(this.config,this.browserStorage,this.logger,this.browserCrypto)}return n.prototype.initialize=function(){return T(this,void 0,void 0,function(){var t,e;return D(this,function(r){switch(r.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(this.eventHandler.emitEvent(H.INITIALIZE_START),!this.config.system.allowNativeBroker)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,Uo.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout)];case 2:return t.nativeExtensionProvider=r.sent(),[3,4];case 3:return e=r.sent(),this.logger.verbose(e),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(H.INITIALIZE_END),[2]}})})},n.prototype.handleRedirectPromise=function(t){return T(this,void 0,void 0,function(){var e,r,i,o,s,a,l,c,u=this;return D(this,function(d){return this.logger.verbose("handleRedirectPromise called"),tt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e=this.getAllAccounts(),this.isBrowserEnvironment?(typeof(i=this.redirectResponse.get(r=t||v.EMPTY_STRING))>"u"?(this.eventHandler.emitEvent(H.HANDLE_REDIRECT_START,x.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),s=void 0,o&&Uo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a=new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),s=a.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),l=this.browserStorage.getTemporaryCache(Ce.CORRELATION_ID,!0)||v.EMPTY_STRING,c=this.createRedirectClient(l),s=c.handleRedirectPromise(t)),i=s.then(function(h){return h&&(e.length<u.getAllAccounts().length?(u.eventHandler.emitEvent(H.LOGIN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, login success")):(u.eventHandler.emitEvent(H.ACQUIRE_TOKEN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, acquire token success"))),u.eventHandler.emitEvent(H.HANDLE_REDIRECT_END,x.Redirect),h}).catch(function(h){throw u.eventHandler.emitEvent(e.length>0?H.ACQUIRE_TOKEN_FAILURE:H.LOGIN_FAILURE,x.Redirect,null,h),u.eventHandler.emitEvent(H.HANDLE_REDIRECT_END,x.Redirect),h}),this.redirectResponse.set(r,i)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,i]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(t){return T(this,void 0,void 0,function(){var e,r,i,o,s,a=this;return D(this,function(l){return e=this.getRequestCorrelationId(t),this.logger.verbose("acquireTokenRedirect called",e),this.preflightBrowserEnvironmentCheck(x.Redirect),r=this.getAllAccounts().length>0,this.eventHandler.emitEvent(r?H.ACQUIRE_TOKEN_START:H.LOGIN_START,x.Redirect,t),this.nativeExtensionProvider&&this.canUseNative(t)?(o=new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),i=o.acquireTokenRedirect(t).catch(function(c){if(c instanceof $r&&c.isFatal())return a.nativeExtensionProvider=void 0,a.createRedirectClient(t.correlationId).acquireToken(t);if(c instanceof Cr)return a.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),a.createRedirectClient(t.correlationId).acquireToken(t);throw a.browserStorage.setInteractionInProgress(!1),c})):(s=this.createRedirectClient(t.correlationId),i=s.acquireToken(t)),[2,i.catch(function(c){throw a.eventHandler.emitEvent(r?H.ACQUIRE_TOKEN_FAILURE:H.LOGIN_FAILURE,x.Redirect,null,c),c})]})})},n.prototype.acquireTokenPopup=function(t){var e=this,r=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement(Et.AcquireTokenPopup,r);try{this.logger.verbose("acquireTokenPopup called",r),this.preflightBrowserEnvironmentCheck(x.Popup)}catch(l){return Promise.reject(l)}var o=this.getAllAccounts();return this.eventHandler.emitEvent(o.length>0?H.ACQUIRE_TOKEN_START:H.LOGIN_START,x.Popup,t),(this.canUseNative(t)?this.acquireTokenNative(t,qe.acquireTokenPopup).then(function(l){return e.browserStorage.setInteractionInProgress(!1),i.endMeasurement({success:!0,isNativeBroker:!0,requestId:l.requestId}),i.flushMeasurement(),l}).catch(function(l){if(l instanceof $r&&l.isFatal())return e.nativeExtensionProvider=void 0,e.createPopupClient(t.correlationId).acquireToken(t);if(l instanceof Cr)return e.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),e.createPopupClient(t.correlationId).acquireToken(t);throw e.browserStorage.setInteractionInProgress(!1),l}):this.createPopupClient(t.correlationId).acquireToken(t)).then(function(l){var c=o.length<e.getAllAccounts().length;return e.eventHandler.emitEvent(c?H.LOGIN_SUCCESS:H.ACQUIRE_TOKEN_SUCCESS,x.Popup,l),i.addStaticFields({accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),i.endMeasurement({success:!0,requestId:l.requestId}),i.flushMeasurement(),l}).catch(function(l){return e.eventHandler.emitEvent(o.length>0?H.ACQUIRE_TOKEN_FAILURE:H.LOGIN_FAILURE,x.Popup,null,l),i.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),i.flushMeasurement(),Promise.reject(l)})},n.prototype.ssoSilent=function(t){return T(this,void 0,void 0,function(){var e,r,i,o,s,a=this;return D(this,function(l){return e=this.getRequestCorrelationId(t),r=j(j({},t),{prompt:t.prompt,correlationId:e}),this.preflightBrowserEnvironmentCheck(x.Silent),i=this.performanceClient.startMeasurement(Et.SsoSilent,e),this.logger.verbose("ssoSilent called",e),this.eventHandler.emitEvent(H.SSO_SILENT_START,x.Silent,r),this.canUseNative(r)?o=this.acquireTokenNative(r,qe.ssoSilent).catch(function(c){if(c instanceof $r&&c.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(r.correlationId).acquireToken(r);throw c}):(s=this.createSilentIframeClient(r.correlationId),o=s.acquireToken(r)),[2,o.then(function(c){return a.eventHandler.emitEvent(H.SSO_SILENT_SUCCESS,x.Silent,c),i.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),i.endMeasurement({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),i.flushMeasurement(),c}).catch(function(c){throw a.eventHandler.emitEvent(H.SSO_SILENT_FAILURE,x.Silent,null,c),i.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),i.flushMeasurement(),c})]})})},n.prototype.acquireTokenByCode=function(t){return T(this,void 0,void 0,function(){var e,r,i,o,s=this;return D(this,function(a){e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.trace("acquireTokenByCode called",e),this.eventHandler.emitEvent(H.ACQUIRE_TOKEN_BY_CODE_START,x.Silent,t),r=this.performanceClient.startMeasurement(Et.AcquireTokenByCode,t.correlationId);try{if(t.code)return(o=this.hybridAuthCodeResponses.get(i=t.code))?(this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId),r.endMeasurement({success:!0}),r.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),o=this.acquireTokenByCodeAsync(j(j({},t),{correlationId:e})).then(function(l){return s.eventHandler.emitEvent(H.ACQUIRE_TOKEN_BY_CODE_SUCCESS,x.Silent,l),s.hybridAuthCodeResponses.delete(i),r.addStaticFields({accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),r.endMeasurement({success:!0,isNativeBroker:l.fromNativeBroker,requestId:l.requestId}),r.flushMeasurement(),l}).catch(function(l){throw s.hybridAuthCodeResponses.delete(i),s.eventHandler.emitEvent(H.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,l),r.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),r.flushMeasurement(),l}),this.hybridAuthCodeResponses.set(i,o)),[2,o];if(t.nativeAccountId){if(this.canUseNative(t,t.nativeAccountId))return[2,this.acquireTokenNative(t,qe.acquireTokenByCode,t.nativeAccountId).catch(function(l){throw l instanceof $r&&l.isFatal()&&(s.nativeExtensionProvider=void 0),l})];throw O.createUnableToAcquireTokenFromNativePlatformError()}throw O.createAuthCodeOrNativeAccountIdRequiredError()}catch(l){throw this.eventHandler.emitEvent(H.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,l),r.endMeasurement({errorCode:l instanceof G&&l.errorCode||void 0,subErrorCode:l instanceof G&&l.subError||void 0,success:!1}),l}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(t){return T(this,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),[4,this.createSilentAuthCodeClient(t.correlationId).acquireToken(t)];case 1:return[2,i.sent()]}})})},n.prototype.acquireTokenFromCache=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(i){switch(r.cacheLookupPolicy){case mn.Default:case mn.AccessToken:case mn.AccessTokenAndRefreshToken:return[2,t.acquireToken(e)];default:throw V.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenByRefreshToken=function(t,e){return T(this,void 0,void 0,function(){return D(this,function(i){switch(e.cacheLookupPolicy){case mn.Default:case mn.AccessTokenAndRefreshToken:case mn.RefreshToken:case mn.RefreshTokenAndNetwork:return[2,this.createSilentRefreshClient(t.correlationId).acquireToken(t)];default:throw V.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenBySilentIframe=function(t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.createSilentIframeClient(t.correlationId).acquireToken(t)]})})},n.prototype.logout=function(t){return T(this,void 0,void 0,function(){var e;return D(this,function(r){return e=this.getRequestCorrelationId(t),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),[2,this.logoutRedirect(j({correlationId:e},t))]})})},n.prototype.logoutRedirect=function(t){return T(this,void 0,void 0,function(){var e;return D(this,function(i){return e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(x.Redirect),[2,this.createRedirectClient(e).logout(t)]})})},n.prototype.logoutPopup=function(t){try{var e=this.getRequestCorrelationId(t);return this.preflightBrowserEnvironmentCheck(x.Popup),this.createPopupClient(e).logout(t)}catch(i){return Promise.reject(i)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(t){var e=this.getAllAccounts();return!N.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+t),e.filter(function(r){return r.username.toLowerCase()===t.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(t){var e=this.getAllAccounts();return!N.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+t),e.filter(function(r){return r.homeAccountId===t})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(t){var e=this.getAllAccounts();return!N.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+t),e.filter(function(r){return r.localAccountId===t})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(t,e){if(void 0===e&&(e=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),tt.blockNonBrowserEnvironment(this.isBrowserEnvironment),tt.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),tt.blockReloadInHiddenIframes(),tt.blockAcquireTokenInPopups(),tt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t===x.Redirect&&this.config.cache.cacheLocation===xt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Qs.createInMemoryRedirectUnavailableError();(t===x.Redirect||t===x.Popup)&&this.preflightInteractiveRequest(e)},n.prototype.preflightInteractiveRequest=function(t){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),tt.blockReloadInHiddenIframes(),t&&this.browserStorage.setInteractionInProgress(!0)},n.prototype.acquireTokenNative=function(t,e,r){return T(this,void 0,void 0,function(){return D(this,function(o){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw O.createNativeConnectionNotEstablishedError();return[2,new na(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)]})})},n.prototype.canUseNative=function(t,e){if(this.logger.trace("canUseNative called"),!Uo.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case Bt.NONE:case Bt.CONSENT:case Bt.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+t.prompt+" is not compatible with native flow, returning false"),!1}return!(!e&&!this.getNativeAccountId(t)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},n.prototype.getNativeAccountId=function(t){var e=t.account||this.browserStorage.getAccountInfoByHints(t.loginHint,t.sid)||this.getActiveAccount();return e&&e.nativeAccountId||""},n.prototype.createPopupClient=function(t){return new u8(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createRedirectClient=function(t){return new d8(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentIframeClient=function(t){return new h8(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentCacheClient=function(t){return new nA(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentRefreshClient=function(t){return new f8(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentAuthCodeClient=function(t){return new g8(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,qe.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},n.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},n.prototype.addPerformanceCallback=function(t){return this.performanceClient.addPerformanceCallback(t)},n.prototype.removePerformanceCallback=function(t){return this.performanceClient.removePerformanceCallback(t)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(t){this.logger=t},n.prototype.initializeWrapperLibrary=function(t,e){this.browserStorage.setWrapperMetadata(t,e)},n.prototype.setNavigationClient=function(t){this.navigationClient=t},n.prototype.getConfiguration=function(){return this.config},n.prototype.getRequestCorrelationId=function(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():v.EMPTY_STRING},n}());let C8=(()=>{class n{constructor(e){this.http=e,this.url=Gl.apiTodoList.endpoint,this.EndpointController=this.url+"/invitations"}getRecieved(){return this.http.get(this.EndpointController+"/Received")}getSent(){return this.http.get(this.EndpointController+"/sent")}getById(e){return this.http.get(this.EndpointController+"/"+e)}Create(e){return this.http.post(this.url+"/",e)}Update(e){return this.http.put(this.url+"/"+e.id,e)}}return n.\u0275fac=function(e){return new(e||n)(w(Hs))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w8(){return new b8(Kq)}function E8(){const n=new Map;return n.set(Gl.apiTodoList.endpoint,[{httpMethod:"GET",scopes:[...Gl.apiTodoList.scopes.read]}]),{interactionType:x.Popup,protectedResourceMap:n}}function S8(){return{interactionType:x.Redirect,authRequest:Wq}}let T8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n,bootstrap:[y4,OM]}),n.\u0275inj=ge({providers:[{provide:av,useClass:zq,multi:!0},{provide:oh,useFactory:w8},{provide:sh,useFactory:S8},{provide:Kv,useFactory:E8},Zi,zl,jl,b4,FM,C8],imports:[o0,LH,d4,sz,hz,Iz,_3,D3,fG,hv,j3,lG,nG,GB,Gq]}),n})();(function q1(){oS=!1})(),SU().bootstrapModule(T8).catch(n=>console.error(n))}},Ve=>{Ve(Ve.s=532)}]);